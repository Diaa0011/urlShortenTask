2025-09-05 00:16:17.563 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:16:18.066 +03:00 [DBG] Hosting starting
2025-09-05 00:16:18.270 +03:00 [DBG] No listening endpoints were configured. Binding to http://localhost:5000 by default.
2025-09-05 00:16:18.278 +03:00 [INF] Now listening on: http://localhost:5000
2025-09-05 00:16:18.282 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:16:18.291 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:16:18.297 +03:00 [INF] Hosting environment: Production
2025-09-05 00:16:18.305 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:16:18.310 +03:00 [DBG] Hosting started
2025-09-05 00:16:28.993 +03:00 [INF] Application is shutting down...
2025-09-05 00:16:28.995 +03:00 [DBG] Hosting stopping
2025-09-05 00:16:29.012 +03:00 [DBG] Hosting stopped
2025-09-05 00:17:50.121 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:17:50.452 +03:00 [DBG] Hosting starting
2025-09-05 00:17:50.706 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:17:50.711 +03:00 [INF] Now listening on: https://localhost:5545
2025-09-05 00:17:50.715 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:17:50.720 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:17:50.723 +03:00 [INF] Hosting environment: Development
2025-09-05 00:17:50.727 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:17:50.731 +03:00 [DBG] Hosting started
2025-09-05 00:17:58.304 +03:00 [DBG] Connection id "0HNFBV22Q72Q6" accepted.
2025-09-05 00:17:58.314 +03:00 [DBG] Connection id "0HNFBV22Q72Q6" started.
2025-09-05 00:17:58.316 +03:00 [DBG] Connection id "0HNFBV22Q72Q7" accepted.
2025-09-05 00:17:58.369 +03:00 [DBG] Connection id "0HNFBV22Q72Q7" started.
2025-09-05 00:17:58.538 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/ - null null
2025-09-05 00:17:58.567 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 00:17:58.744 +03:00 [DBG] Https port '5545' discovered from server endpoints.
2025-09-05 00:17:58.759 +03:00 [DBG] Redirecting to 'https://localhost:5545/'.
2025-09-05 00:17:58.776 +03:00 [DBG] Connection id "0HNFBV22Q72Q6" completed keep alive response.
2025-09-05 00:17:58.793 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/ - 307 0 null 258.834ms
2025-09-05 00:17:58.802 +03:00 [DBG] Connection id "0HNFBV22Q72Q8" accepted.
2025-09-05 00:17:58.840 +03:00 [DBG] Connection id "0HNFBV22Q72Q8" started.
2025-09-05 00:17:59.027 +03:00 [DBG] Connection 0HNFBV22Q72Q8 established using the following protocol: "Tls13"
2025-09-05 00:17:59.129 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5545/ - null null
2025-09-05 00:17:59.239 +03:00 [DBG] No candidates found for the request path '/'
2025-09-05 00:17:59.246 +03:00 [DBG] Request did not match any endpoints
2025-09-05 00:17:59.264 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5545/ - 404 0 null 134.8885ms
2025-09-05 00:17:59.799 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5545/, Response status code: 404
2025-09-05 00:18:04.621 +03:00 [DBG] Connection id "0HNFBV22Q72Q7" received FIN.
2025-09-05 00:18:04.621 +03:00 [DBG] Connection id "0HNFBV22Q72Q8" received FIN.
2025-09-05 00:18:04.621 +03:00 [DBG] Connection id "0HNFBV22Q72Q6" received FIN.
2025-09-05 00:18:04.634 +03:00 [DBG] Connection id "0HNFBV22Q72Q6" disconnecting.
2025-09-05 00:18:04.635 +03:00 [DBG] Connection id "0HNFBV22Q72Q7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:18:04.636 +03:00 [DBG] The connection queue processing loop for 0HNFBV22Q72Q8 completed.
2025-09-05 00:18:04.638 +03:00 [DBG] Connection id "0HNFBV22Q72Q6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:18:04.641 +03:00 [DBG] Connection id "0HNFBV22Q72Q8" is closed. The last processed stream ID was 1.
2025-09-05 00:18:04.645 +03:00 [DBG] Connection id "0HNFBV22Q72Q7" disconnecting.
2025-09-05 00:18:04.656 +03:00 [DBG] Connection id "0HNFBV22Q72Q8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:18:04.657 +03:00 [DBG] Connection id "0HNFBV22Q72Q6" stopped.
2025-09-05 00:18:04.660 +03:00 [DBG] Connection id "0HNFBV22Q72Q7" stopped.
2025-09-05 00:18:04.676 +03:00 [DBG] Connection id "0HNFBV22Q72Q8" stopped.
2025-09-05 00:19:45.239 +03:00 [INF] Application is shutting down...
2025-09-05 00:19:45.241 +03:00 [DBG] Hosting stopping
2025-09-05 00:19:45.260 +03:00 [DBG] Hosting stopped
2025-09-05 00:19:52.387 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:19:52.764 +03:00 [DBG] Hosting starting
2025-09-05 00:19:53.320 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:19:53.325 +03:00 [INF] Now listening on: https://localhost:5545
2025-09-05 00:19:53.329 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:19:53.333 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:19:53.337 +03:00 [INF] Hosting environment: Development
2025-09-05 00:19:53.341 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:19:53.345 +03:00 [DBG] Hosting started
2025-09-05 00:20:07.462 +03:00 [DBG] Connection id "0HNFBV399VDQ8" accepted.
2025-09-05 00:20:07.472 +03:00 [DBG] Connection id "0HNFBV399VDQ9" accepted.
2025-09-05 00:20:07.473 +03:00 [DBG] Connection id "0HNFBV399VDQ8" started.
2025-09-05 00:20:07.487 +03:00 [DBG] Connection id "0HNFBV399VDQ9" started.
2025-09-05 00:20:07.616 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/ - null null
2025-09-05 00:20:07.637 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 00:20:07.734 +03:00 [DBG] Https port '5545' discovered from server endpoints.
2025-09-05 00:20:07.740 +03:00 [DBG] Redirecting to 'https://localhost:5545/'.
2025-09-05 00:20:07.750 +03:00 [DBG] Connection id "0HNFBV399VDQ8" completed keep alive response.
2025-09-05 00:20:07.761 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/ - 307 0 null 148.2837ms
2025-09-05 00:20:07.762 +03:00 [DBG] Connection id "0HNFBV399VDQA" accepted.
2025-09-05 00:20:07.788 +03:00 [DBG] Connection id "0HNFBV399VDQA" started.
2025-09-05 00:20:07.897 +03:00 [DBG] Connection 0HNFBV399VDQA established using the following protocol: "Tls13"
2025-09-05 00:20:07.947 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5545/ - null null
2025-09-05 00:20:07.984 +03:00 [DBG] No candidates found for the request path '/'
2025-09-05 00:20:07.990 +03:00 [DBG] Request did not match any endpoints
2025-09-05 00:20:08.000 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5545/ - 404 0 null 52.8841ms
2025-09-05 00:20:08.015 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5545/, Response status code: 404
2025-09-05 00:20:13.953 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5545/swagger - null null
2025-09-05 00:20:13.963 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5545/swagger - 301 0 null 10.6844ms
2025-09-05 00:20:13.974 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5545/swagger/index.html - null null
2025-09-05 00:20:14.251 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5545/swagger/index.html - 200 null text/html;charset=utf-8 277.0491ms
2025-09-05 00:20:14.311 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5545/swagger/swagger-ui.css - null null
2025-09-05 00:20:14.342 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5545/swagger/index.css - null null
2025-09-05 00:20:14.343 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5545/swagger/swagger-ui-bundle.js - null null
2025-09-05 00:20:14.346 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5545/swagger/swagger-ui-standalone-preset.js - null null
2025-09-05 00:20:14.356 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5545/swagger/index.js - null null
2025-09-05 00:20:14.388 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5545/swagger/index.css - 200 152 text/css 45.5502ms
2025-09-05 00:20:14.439 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5545/swagger/swagger-ui-standalone-preset.js - 200 70860 text/javascript 93.1416ms
2025-09-05 00:20:14.442 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5545/swagger/swagger-ui.css - 200 23647 text/css 130.6774ms
2025-09-05 00:20:14.491 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5545/swagger/swagger-ui-bundle.js - 200 417980 text/javascript 148.1658ms
2025-09-05 00:20:14.539 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5545/swagger/index.js - 200 null application/javascript;charset=utf-8 182.9548ms
2025-09-05 00:20:14.767 +03:00 [DBG] Connection id "0HNFBV399VDQA" received FIN.
2025-09-05 00:20:14.767 +03:00 [DBG] Connection id "0HNFBV399VDQ8" received FIN.
2025-09-05 00:20:14.767 +03:00 [DBG] Connection id "0HNFBV399VDQ9" received FIN.
2025-09-05 00:20:14.777 +03:00 [DBG] Connection id "0HNFBV399VDQ8" disconnecting.
2025-09-05 00:20:14.778 +03:00 [DBG] The connection queue processing loop for 0HNFBV399VDQA completed.
2025-09-05 00:20:14.782 +03:00 [DBG] Connection id "0HNFBV399VDQ9" disconnecting.
2025-09-05 00:20:14.789 +03:00 [DBG] Connection id "0HNFBV399VDQA" is closed. The last processed stream ID was 15.
2025-09-05 00:20:14.798 +03:00 [DBG] Connection id "0HNFBV399VDQ9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:20:14.798 +03:00 [DBG] Connection id "0HNFBV399VDQ8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:20:14.802 +03:00 [DBG] Connection id "0HNFBV399VDQA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:20:14.822 +03:00 [DBG] Connection id "0HNFBV399VDQ8" stopped.
2025-09-05 00:20:14.822 +03:00 [DBG] Connection id "0HNFBV399VDQ9" stopped.
2025-09-05 00:20:14.841 +03:00 [DBG] Connection id "0HNFBV399VDQA" stopped.
2025-09-05 00:20:16.665 +03:00 [DBG] Connection id "0HNFBV399VDQB" accepted.
2025-09-05 00:20:16.670 +03:00 [DBG] Connection id "0HNFBV399VDQB" started.
2025-09-05 00:20:16.670 +03:00 [DBG] Connection id "0HNFBV399VDQC" accepted.
2025-09-05 00:20:16.678 +03:00 [DBG] Connection id "0HNFBV399VDQC" started.
2025-09-05 00:20:18.263 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 00:20:18.666 +03:00 [DBG] Connection id "0HNFBV399VDQB" received FIN.
2025-09-05 00:20:18.689 +03:00 [DBG] Connection id "0HNFBV399VDQB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:20:18.706 +03:00 [DBG] Connection id "0HNFBV399VDQB" disconnecting.
2025-09-05 00:20:18.946 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 683.178ms
2025-09-05 00:20:18.961 +03:00 [DBG] Connection id "0HNFBV399VDQB" stopped.
2025-09-05 00:20:24.775 +03:00 [DBG] Connection id "0HNFBV399VDQC" received FIN.
2025-09-05 00:20:24.781 +03:00 [DBG] Connection id "0HNFBV399VDQC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:20:24.788 +03:00 [DBG] Connection id "0HNFBV399VDQC" disconnecting.
2025-09-05 00:20:24.792 +03:00 [DBG] Connection id "0HNFBV399VDQC" stopped.
2025-09-05 00:20:51.079 +03:00 [INF] Application is shutting down...
2025-09-05 00:20:51.081 +03:00 [DBG] Hosting stopping
2025-09-05 00:20:51.098 +03:00 [DBG] Hosting stopped
2025-09-05 00:21:29.046 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:21:29.550 +03:00 [DBG] Hosting starting
2025-09-05 00:21:30.229 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:21:31.529 +03:00 [INF] Now listening on: https://localhost:5545
2025-09-05 00:21:31.889 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:21:31.926 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:21:31.982 +03:00 [INF] Hosting environment: Development
2025-09-05 00:21:32.032 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:21:32.056 +03:00 [DBG] Hosting started
2025-09-05 00:23:34.935 +03:00 [INF] Application is shutting down...
2025-09-05 00:23:34.937 +03:00 [DBG] Hosting stopping
2025-09-05 00:23:34.956 +03:00 [DBG] Hosting stopped
2025-09-05 00:23:45.379 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:23:45.676 +03:00 [DBG] Hosting starting
2025-09-05 00:23:45.918 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:23:45.923 +03:00 [INF] Now listening on: https://localhost:5545
2025-09-05 00:23:45.927 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:23:45.933 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:23:45.939 +03:00 [INF] Hosting environment: Development
2025-09-05 00:23:45.944 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:23:45.949 +03:00 [DBG] Hosting started
2025-09-05 00:23:59.218 +03:00 [INF] Application is shutting down...
2025-09-05 00:23:59.220 +03:00 [DBG] Hosting stopping
2025-09-05 00:23:59.241 +03:00 [DBG] Hosting stopped
2025-09-05 00:24:39.581 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:24:39.975 +03:00 [DBG] Hosting starting
2025-09-05 00:24:40.310 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:24:40.314 +03:00 [INF] Now listening on: https://localhost:5545
2025-09-05 00:24:40.317 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:24:40.320 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:24:40.325 +03:00 [INF] Hosting environment: Development
2025-09-05 00:24:40.330 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:24:40.334 +03:00 [DBG] Hosting started
2025-09-05 00:24:55.652 +03:00 [INF] Application is shutting down...
2025-09-05 00:24:55.653 +03:00 [DBG] Hosting stopping
2025-09-05 00:24:55.672 +03:00 [DBG] Hosting stopped
2025-09-05 00:25:04.935 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:25:05.250 +03:00 [DBG] Hosting starting
2025-09-05 00:25:05.551 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:25:05.572 +03:00 [INF] Now listening on: https://localhost:5545
2025-09-05 00:25:05.576 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:25:05.582 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:25:05.588 +03:00 [INF] Hosting environment: Development
2025-09-05 00:25:05.592 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:25:05.597 +03:00 [DBG] Hosting started
2025-09-05 00:25:33.684 +03:00 [INF] Application is shutting down...
2025-09-05 00:25:33.686 +03:00 [DBG] Hosting stopping
2025-09-05 00:25:33.707 +03:00 [DBG] Hosting stopped
2025-09-05 00:27:01.883 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:27:02.169 +03:00 [DBG] Hosting starting
2025-09-05 00:27:02.431 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:27:02.437 +03:00 [INF] Now listening on: https://localhost:5545
2025-09-05 00:27:02.442 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:27:02.447 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:27:02.454 +03:00 [INF] Hosting environment: Development
2025-09-05 00:27:02.458 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:27:02.464 +03:00 [DBG] Hosting started
2025-09-05 00:27:21.316 +03:00 [DBG] Connection id "0HNFBV7AJHFVS" accepted.
2025-09-05 00:27:21.597 +03:00 [DBG] Connection id "0HNFBV7AJHFVT" accepted.
2025-09-05 00:27:21.605 +03:00 [DBG] Connection id "0HNFBV7AJHFVS" started.
2025-09-05 00:27:21.656 +03:00 [DBG] Connection id "0HNFBV7AJHFVT" started.
2025-09-05 00:27:22.417 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/ - null null
2025-09-05 00:27:23.090 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 00:27:23.879 +03:00 [DBG] No candidates found for the request path '/'
2025-09-05 00:27:23.898 +03:00 [DBG] Request did not match any endpoints
2025-09-05 00:27:23.960 +03:00 [DBG] Connection id "0HNFBV7AJHFVS" completed keep alive response.
2025-09-05 00:27:24.058 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/ - 404 0 null 1647.9662ms
2025-09-05 00:27:24.952 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5544/, Response status code: 404
2025-09-05 00:27:25.464 +03:00 [DBG] Connection id "0HNFBV7AJHFVT" received FIN.
2025-09-05 00:27:25.464 +03:00 [DBG] Connection id "0HNFBV7AJHFVS" received FIN.
2025-09-05 00:27:25.487 +03:00 [DBG] Connection id "0HNFBV7AJHFVT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:27:25.487 +03:00 [DBG] Connection id "0HNFBV7AJHFVS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:27:25.496 +03:00 [DBG] Connection id "0HNFBV7AJHFVT" disconnecting.
2025-09-05 00:27:25.502 +03:00 [DBG] Connection id "0HNFBV7AJHFVS" disconnecting.
2025-09-05 00:27:25.515 +03:00 [DBG] Connection id "0HNFBV7AJHFVT" stopped.
2025-09-05 00:27:25.517 +03:00 [DBG] Connection id "0HNFBV7AJHFVS" stopped.
2025-09-05 00:27:55.180 +03:00 [INF] Application is shutting down...
2025-09-05 00:27:55.181 +03:00 [DBG] Hosting stopping
2025-09-05 00:27:55.198 +03:00 [DBG] Hosting stopped
2025-09-05 00:28:01.750 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:28:02.075 +03:00 [DBG] Hosting starting
2025-09-05 00:28:02.210 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:28:02.214 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:28:02.219 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:28:02.222 +03:00 [INF] Hosting environment: Development
2025-09-05 00:28:02.224 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:28:02.227 +03:00 [DBG] Hosting started
2025-09-05 00:29:12.612 +03:00 [INF] Application is shutting down...
2025-09-05 00:29:12.615 +03:00 [DBG] Hosting stopping
2025-09-05 00:29:12.638 +03:00 [DBG] Hosting stopped
2025-09-05 00:29:18.992 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:29:19.263 +03:00 [DBG] Hosting starting
2025-09-05 00:29:19.387 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:29:19.391 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:29:19.397 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:29:19.402 +03:00 [INF] Hosting environment: Development
2025-09-05 00:29:19.407 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:29:19.412 +03:00 [DBG] Hosting started
2025-09-05 00:29:27.480 +03:00 [INF] Application is shutting down...
2025-09-05 00:29:27.481 +03:00 [DBG] Hosting stopping
2025-09-05 00:29:27.501 +03:00 [DBG] Hosting stopped
2025-09-05 00:29:48.910 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:29:49.328 +03:00 [DBG] Hosting starting
2025-09-05 00:29:49.536 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:29:49.544 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:29:49.555 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:29:49.563 +03:00 [INF] Hosting environment: Development
2025-09-05 00:29:49.571 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:29:49.576 +03:00 [DBG] Hosting started
2025-09-05 00:29:53.655 +03:00 [INF] Application is shutting down...
2025-09-05 00:29:53.657 +03:00 [DBG] Hosting stopping
2025-09-05 00:29:53.676 +03:00 [DBG] Hosting stopped
2025-09-05 00:30:07.902 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:30:08.690 +03:00 [DBG] Hosting starting
2025-09-05 00:30:08.889 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:30:08.893 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:30:08.897 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:30:08.902 +03:00 [INF] Hosting environment: Development
2025-09-05 00:30:08.906 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:30:08.909 +03:00 [DBG] Hosting started
2025-09-05 00:33:34.722 +03:00 [INF] Application is shutting down...
2025-09-05 00:33:34.723 +03:00 [DBG] Hosting stopping
2025-09-05 00:33:34.743 +03:00 [DBG] Hosting stopped
2025-09-05 00:33:47.469 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:33:47.807 +03:00 [DBG] Hosting starting
2025-09-05 00:33:47.985 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:33:47.990 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:33:47.994 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:33:48.000 +03:00 [INF] Hosting environment: Development
2025-09-05 00:33:48.004 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:33:48.009 +03:00 [DBG] Hosting started
2025-09-05 00:33:59.797 +03:00 [INF] Application is shutting down...
2025-09-05 00:33:59.798 +03:00 [DBG] Hosting stopping
2025-09-05 00:33:59.818 +03:00 [DBG] Hosting stopped
2025-09-05 00:35:25.215 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:35:25.617 +03:00 [DBG] Hosting starting
2025-09-05 00:35:25.804 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:35:25.912 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:35:25.918 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:35:25.922 +03:00 [INF] Hosting environment: Development
2025-09-05 00:35:25.924 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:35:25.926 +03:00 [DBG] Hosting started
2025-09-05 00:36:58.461 +03:00 [INF] Application is shutting down...
2025-09-05 00:36:58.463 +03:00 [DBG] Hosting stopping
2025-09-05 00:36:58.483 +03:00 [DBG] Hosting stopped
2025-09-05 00:37:30.227 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:37:30.509 +03:00 [DBG] Hosting starting
2025-09-05 00:37:30.707 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:37:30.712 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:37:30.716 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:37:30.720 +03:00 [INF] Hosting environment: Development
2025-09-05 00:37:30.724 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:37:30.728 +03:00 [DBG] Hosting started
2025-09-05 00:38:02.552 +03:00 [INF] Application is shutting down...
2025-09-05 00:38:02.554 +03:00 [DBG] Hosting stopping
2025-09-05 00:38:02.573 +03:00 [DBG] Hosting stopped
2025-09-05 00:38:33.025 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:38:34.592 +03:00 [DBG] Hosting starting
2025-09-05 00:38:34.893 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:38:34.901 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:38:34.912 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:38:34.919 +03:00 [INF] Hosting environment: Development
2025-09-05 00:38:34.924 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:38:34.935 +03:00 [DBG] Hosting started
2025-09-05 00:38:34.949 +03:00 [DBG] Connection id "0HNFBVDJBP4E8" accepted.
2025-09-05 00:38:34.958 +03:00 [DBG] Connection id "0HNFBVDJBP4E8" started.
2025-09-05 00:38:34.960 +03:00 [DBG] Connection id "0HNFBVDJBP4E9" accepted.
2025-09-05 00:38:34.982 +03:00 [DBG] Connection id "0HNFBVDJBP4E9" started.
2025-09-05 00:38:36.540 +03:00 [DBG] Connection id "0HNFBVDJBP4E9" received FIN.
2025-09-05 00:38:36.541 +03:00 [DBG] Connection id "0HNFBVDJBP4E8" received FIN.
2025-09-05 00:38:36.568 +03:00 [DBG] Connection id "0HNFBVDJBP4E9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:38:36.568 +03:00 [DBG] Connection id "0HNFBVDJBP4E8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:38:36.625 +03:00 [DBG] Connection id "0HNFBVDJBP4E9" disconnecting.
2025-09-05 00:38:36.641 +03:00 [DBG] Connection id "0HNFBVDJBP4E8" disconnecting.
2025-09-05 00:38:36.654 +03:00 [DBG] Connection id "0HNFBVDJBP4E9" stopped.
2025-09-05 00:38:36.657 +03:00 [DBG] Connection id "0HNFBVDJBP4EA" accepted.
2025-09-05 00:38:36.657 +03:00 [DBG] Connection id "0HNFBVDJBP4E8" stopped.
2025-09-05 00:38:36.669 +03:00 [DBG] Connection id "0HNFBVDJBP4EA" started.
2025-09-05 00:38:36.856 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 00:38:36.915 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 00:38:37.416 +03:00 [DBG] Connection id "0HNFBVDJBP4EA" completed keep alive response.
2025-09-05 00:38:37.426 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 579.9212ms
2025-09-05 00:38:41.539 +03:00 [DBG] Connection id "0HNFBVDJBP4EA" received FIN.
2025-09-05 00:38:41.543 +03:00 [DBG] Connection id "0HNFBVDJBP4EA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:38:41.548 +03:00 [DBG] Connection id "0HNFBVDJBP4EA" disconnecting.
2025-09-05 00:38:41.552 +03:00 [DBG] Connection id "0HNFBVDJBP4EA" stopped.
2025-09-05 00:38:53.337 +03:00 [DBG] Connection id "0HNFBVDJBP4EB" accepted.
2025-09-05 00:38:53.341 +03:00 [DBG] Connection id "0HNFBVDJBP4EB" started.
2025-09-05 00:38:53.346 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetAll?IsActive=true - null null
2025-09-05 00:38:53.368 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-05 00:38:53.409 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/GetAll'
2025-09-05 00:38:53.423 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.GetAllUrls (urlshortener)' with route pattern 'api/ShortenUrl/GetAll' is valid for the request path '/api/ShortenUrl/GetAll'
2025-09-05 00:38:53.431 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.GetAllUrls (urlshortener)'
2025-09-05 00:38:53.440 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.GetAllUrls (urlshortener)'
2025-09-05 00:38:53.500 +03:00 [INF] Route matched with {action = "GetAllUrls", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUrls(UrlShortener.Dtos.Request.GetAllUrl) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 00:38:53.510 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 00:38:53.515 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 00:38:53.523 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 00:38:53.529 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 00:38:53.535 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 00:38:53.543 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 00:38:53.775 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-05 00:38:53.814 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 00:38:53.832 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetAllUrl' ...
2025-09-05 00:38:53.842 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetAllUrl' using the name '' in request data ...
2025-09-05 00:38:53.856 +03:00 [DBG] Attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.SearchFor' of type 'System.String' using the name 'SearchFor' in request data ...
2025-09-05 00:38:53.868 +03:00 [DBG] Could not find a value in the request with name 'SearchFor' for binding property 'UrlShortener.Dtos.Request.GetAllUrl.SearchFor' of type 'System.String'.
2025-09-05 00:38:53.878 +03:00 [DBG] Done attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.SearchFor' of type 'System.String'.
2025-09-05 00:38:53.888 +03:00 [DBG] Attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-05 00:38:53.900 +03:00 [DBG] Done attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.IsActive' of type 'System.Boolean'.
2025-09-05 00:38:53.908 +03:00 [DBG] Attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-09-05 00:38:53.919 +03:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'UrlShortener.Dtos.Request.GetAllUrl.PageNumber' of type 'System.Int32'.
2025-09-05 00:38:53.926 +03:00 [DBG] Done attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.PageNumber' of type 'System.Int32'.
2025-09-05 00:38:53.932 +03:00 [DBG] Attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-09-05 00:38:53.937 +03:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'UrlShortener.Dtos.Request.GetAllUrl.PageSize' of type 'System.Int32'.
2025-09-05 00:38:53.944 +03:00 [DBG] Done attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.PageSize' of type 'System.Int32'.
2025-09-05 00:38:53.949 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetAllUrl'.
2025-09-05 00:38:53.956 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetAllUrl'.
2025-09-05 00:38:53.962 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetAllUrl' ...
2025-09-05 00:38:53.981 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetAllUrl'.
2025-09-05 00:38:54.847 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 00:38:54.863 +03:00 [INF] Fetching all Urls
2025-09-05 00:38:54.969 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .Where(x => x.IsActive == __request_IsActive_0)
    .Skip(__p_1)
    .Take(__p_2)'
2025-09-05 00:38:55.388 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-09-05 00:38:55.394 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-09-05 00:38:55.592 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Url>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
        SELECT u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
        FROM Urls AS u
        WHERE u.IsActive == @__request_IsActive_0
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
        SELECT u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
        FROM Urls AS u
        WHERE u.IsActive == @__request_IsActive_0
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Url entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Url instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Url);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Url)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                        {
                            return 
                            {
                                Url instance;
                                instance = new Url();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                instance.<No>k__BackingField = dataReader.GetInt32(3);
                                instance.<OriginalUrl>k__BackingField = dataReader.GetString(4);
                                instance.<ShortenedUrl>k__BackingField = dataReader.GetString(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Url)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: UrlShortener.Data.ApplicationDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-05 00:38:55.676 +03:00 [DBG] Creating DbConnection.
2025-09-05 00:38:55.716 +03:00 [DBG] Created DbConnection. (35ms).
2025-09-05 00:38:55.727 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 00:38:56.033 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 00:38:56.044 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:38:56.061 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2025-09-05 00:38:56.080 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (36ms).
2025-09-05 00:38:56.100 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_IsActive_0='?' (DbType = Boolean), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[IsActive] = @__request_IsActive_0
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-05 00:38:56.227 +03:00 [INF] Executed DbCommand (131ms) [Parameters=[@__request_IsActive_0='?' (DbType = Boolean), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[IsActive] = @__request_IsActive_0
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-05 00:38:56.256 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:38:56.275 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 31ms reading results.
2025-09-05 00:38:56.288 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 00:38:56.300 +03:00 [DBG] Closed connection to database 'db' on server '.' (12ms).
2025-09-05 00:38:56.311 +03:00 [DBG] Compiling query expression: 
'DbSet<UrlClick>()
    .Where(x => __urlsIds_0.Contains(x.Id))'
2025-09-05 00:38:56.436 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UrlClick>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
        SELECT u.Id, u.ClickCount, u.LastAccessedAt
        FROM UrlClicks AS u
        WHERE u.Id IN (
            SELECT u0.value
            FROM OPENJSON(@__urlsIds_0) WITH (value uniqueidentifier '') AS u0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
        SELECT u.Id, u.ClickCount, u.LastAccessedAt
        FROM UrlClicks AS u
        WHERE u.Id IN (
            SELECT u0.value
            FROM OPENJSON(@__urlsIds_0) WITH (value uniqueidentifier '') AS u0), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        UrlClick entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            UrlClick instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(UrlClick);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: UrlClick.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (UrlClick)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]: 
                        {
                            return 
                            {
                                UrlClick instance;
                                instance = new UrlClick();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<ClickCount>k__BackingField = dataReader.GetInt32(1);
                                instance.<LastAccessedAt>k__BackingField = dataReader.IsDBNull(2) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(UrlClick)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: UrlShortener.Data.ApplicationDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-05 00:38:56.462 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 00:38:56.470 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 00:38:56.476 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:38:56.480 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-05 00:38:56.495 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-09-05 00:38:56.500 +03:00 [DBG] Executing DbCommand [Parameters=[@__urlsIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__urlsIds_0) WITH ([value] uniqueidentifier '$') AS [u0]
)
2025-09-05 00:38:56.529 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__urlsIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__urlsIds_0) WITH ([value] uniqueidentifier '$') AS [u0]
)
2025-09-05 00:38:56.540 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:38:56.545 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 6ms reading results.
2025-09-05 00:38:56.550 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 00:38:56.555 +03:00 [DBG] Closed connection to database 'db' on server '.' (4ms).
2025-09-05 00:38:56.568 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 00:38:56.579 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 00:38:56.583 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 00:38:56.587 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 00:38:56.593 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 00:38:56.599 +03:00 [INF] Executing OkObjectResult, writing value of type 'UrlShortener.Dtos.Response.Response`1[[System.Collections.Generic.List`1[[UrlShortener.Dtos.Response.ShortenUrlDto, urlshortener, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-05 00:38:56.863 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.GetAllUrls (urlshortener) in 3316.1674ms
2025-09-05 00:38:56.872 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.GetAllUrls (urlshortener)'
2025-09-05 00:38:56.880 +03:00 [DBG] Connection id "0HNFBVDJBP4EB" completed keep alive response.
2025-09-05 00:38:56.890 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 00:38:56.905 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 00:38:56.928 +03:00 [DBG] Disposed connection to database '' on server '' (11ms).
2025-09-05 00:38:56.975 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetAll?IsActive=true - 200 null application/json; charset=utf-8 3628.2233ms
2025-09-05 00:39:01.572 +03:00 [DBG] Connection id "0HNFBVDJBP4EB" received FIN.
2025-09-05 00:39:01.578 +03:00 [DBG] Connection id "0HNFBVDJBP4EB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:39:01.582 +03:00 [DBG] Connection id "0HNFBVDJBP4EB" disconnecting.
2025-09-05 00:39:01.607 +03:00 [DBG] Connection id "0HNFBVDJBP4EB" stopped.
2025-09-05 00:39:05.615 +03:00 [DBG] Connection id "0HNFBVDJBP4EC" accepted.
2025-09-05 00:39:05.619 +03:00 [DBG] Connection id "0HNFBVDJBP4EC" started.
2025-09-05 00:39:05.624 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetById - null null
2025-09-05 00:39:05.635 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/GetById'
2025-09-05 00:39:05.639 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)' with route pattern 'api/ShortenUrl/GetById' is valid for the request path '/api/ShortenUrl/GetById'
2025-09-05 00:39:05.643 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 00:39:05.647 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 00:39:05.662 +03:00 [INF] Route matched with {action = "GetUrlById", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUrlById(UrlShortener.Dtos.Request.GetUrlRequest) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 00:39:05.670 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 00:39:05.676 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 00:39:05.684 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 00:39:05.692 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 00:39:05.700 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 00:39:05.708 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 00:39:05.715 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 00:39:05.724 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' ...
2025-09-05 00:39:05.731 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' using the name '' in request data ...
2025-09-05 00:39:05.739 +03:00 [DBG] Attempting to bind property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid' using the name 'Id' in request data ...
2025-09-05 00:39:05.745 +03:00 [DBG] Could not find a value in the request with name 'Id' for binding property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid'.
2025-09-05 00:39:05.751 +03:00 [DBG] Done attempting to bind property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid'.
2025-09-05 00:39:05.754 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 00:39:05.757 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 00:39:05.761 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' ...
2025-09-05 00:39:05.765 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 00:39:05.803 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 00:39:05.811 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .FirstOrDefault(x => x.Id == __request_Id_0)'
2025-09-05 00:39:05.836 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Url>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Url>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.Id == @__request_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.Id == @__request_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Url entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Url instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Url);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Url)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                            {
                                return 
                                {
                                    Url instance;
                                    instance = new Url();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                    instance.<No>k__BackingField = dataReader.GetInt32(3);
                                    instance.<OriginalUrl>k__BackingField = dataReader.GetString(4);
                                    instance.<ShortenedUrl>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Url)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 00:39:05.875 +03:00 [DBG] Creating DbConnection.
2025-09-05 00:39:05.882 +03:00 [DBG] Created DbConnection. (6ms).
2025-09-05 00:39:05.887 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 00:39:05.893 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 00:39:05.899 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:39:05.902 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-05 00:39:05.908 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-09-05 00:39:05.913 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 00:39:05.927 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 00:39:05.935 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:39:05.940 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 6ms reading results.
2025-09-05 00:39:05.945 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 00:39:05.951 +03:00 [DBG] Closed connection to database 'db' on server '.' (5ms).
2025-09-05 00:39:05.958 +03:00 [DBG] Compiling query expression: 
'DbSet<UrlClick>()
    .FirstOrDefault(x => x.Id == __request_Id_0)'
2025-09-05 00:39:05.975 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UrlClick>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UrlClick>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
            SELECT TOP(1) u.Id, u.ClickCount, u.LastAccessedAt
            FROM UrlClicks AS u
            WHERE u.Id == @__request_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
            SELECT TOP(1) u.Id, u.ClickCount, u.LastAccessedAt
            FROM UrlClicks AS u
            WHERE u.Id == @__request_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            UrlClick entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UrlClick instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UrlClick);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UrlClick.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (UrlClick)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]: 
                            {
                                return 
                                {
                                    UrlClick instance;
                                    instance = new UrlClick();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ClickCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<LastAccessedAt>k__BackingField = dataReader.IsDBNull(2) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UrlClick)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 00:39:05.990 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 00:39:05.994 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 00:39:05.999 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:39:06.002 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-05 00:39:06.008 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-09-05 00:39:06.013 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 00:39:06.023 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 00:39:06.033 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:39:06.038 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 5ms reading results.
2025-09-05 00:39:06.043 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 00:39:06.048 +03:00 [DBG] Closed connection to database 'db' on server '.' (5ms).
2025-09-05 00:39:06.057 +03:00 [ERR] Error occurred while fetching URL by ID
System.NullReferenceException: Object reference not set to an instance of an object.
   at UrlShortener.Service.Service.ShortenService.GetUrlByIdAsync(GetUrlRequest request) in E:\TDS\urlshortener\Service\Service\ShortenService.cs:line 159
2025-09-05 00:39:06.120 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 00:39:06.126 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 00:39:06.128 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 00:39:06.131 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 00:39:06.133 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 00:39:06.138 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'UrlShortener.Dtos.Response.Response`1[[UrlShortener.Dtos.Response.ShortenUrlDto, urlshortener, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-05 00:39:06.152 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener) in 444.0369ms
2025-09-05 00:39:06.157 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 00:39:06.161 +03:00 [DBG] Connection id "0HNFBVDJBP4EC" completed keep alive response.
2025-09-05 00:39:06.166 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 00:39:06.170 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 00:39:06.176 +03:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-09-05 00:39:06.183 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetById - 400 null application/json; charset=utf-8 558.4501ms
2025-09-05 00:39:06.599 +03:00 [DBG] Connection id "0HNFBVDJBP4EC" received FIN.
2025-09-05 00:39:06.602 +03:00 [DBG] Connection id "0HNFBVDJBP4EC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:39:06.607 +03:00 [DBG] Connection id "0HNFBVDJBP4EC" disconnecting.
2025-09-05 00:39:06.612 +03:00 [DBG] Connection id "0HNFBVDJBP4EC" stopped.
2025-09-05 00:39:58.445 +03:00 [INF] Application is shutting down...
2025-09-05 00:39:58.447 +03:00 [DBG] Hosting stopping
2025-09-05 00:39:58.461 +03:00 [DBG] Hosting stopped
2025-09-05 00:40:22.532 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:40:23.870 +03:00 [DBG] Hosting starting
2025-09-05 00:40:24.303 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:40:24.308 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:40:24.315 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:40:24.320 +03:00 [INF] Hosting environment: Development
2025-09-05 00:40:24.327 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:40:24.333 +03:00 [DBG] Hosting started
2025-09-05 00:40:24.474 +03:00 [DBG] Connection id "0HNFBVEK0AJRR" accepted.
2025-09-05 00:40:24.482 +03:00 [DBG] Connection id "0HNFBVEK0AJRR" started.
2025-09-05 00:40:24.486 +03:00 [DBG] Connection id "0HNFBVEK0AJRS" accepted.
2025-09-05 00:40:24.503 +03:00 [DBG] Connection id "0HNFBVEK0AJRS" started.
2025-09-05 00:40:26.076 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 00:40:26.120 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 00:40:26.637 +03:00 [DBG] Connection id "0HNFBVEK0AJRR" completed keep alive response.
2025-09-05 00:40:26.649 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 580.0278ms
2025-09-05 00:40:26.729 +03:00 [DBG] Connection id "0HNFBVEK0AJRS" received FIN.
2025-09-05 00:40:26.729 +03:00 [DBG] Connection id "0HNFBVEK0AJRR" received FIN.
2025-09-05 00:40:26.756 +03:00 [DBG] Connection id "0HNFBVEK0AJRS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:40:26.756 +03:00 [DBG] Connection id "0HNFBVEK0AJRR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:40:26.765 +03:00 [DBG] Connection id "0HNFBVEK0AJRS" disconnecting.
2025-09-05 00:40:26.785 +03:00 [DBG] Connection id "0HNFBVEK0AJRR" disconnecting.
2025-09-05 00:40:26.795 +03:00 [DBG] Connection id "0HNFBVEK0AJRS" stopped.
2025-09-05 00:40:26.798 +03:00 [DBG] Connection id "0HNFBVEK0AJRR" stopped.
2025-09-05 00:40:30.724 +03:00 [DBG] Connection id "0HNFBVEK0AJRT" accepted.
2025-09-05 00:40:30.728 +03:00 [DBG] Connection id "0HNFBVEK0AJRT" started.
2025-09-05 00:40:30.733 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetById - null null
2025-09-05 00:40:30.754 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-05 00:40:30.806 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/GetById'
2025-09-05 00:40:30.819 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)' with route pattern 'api/ShortenUrl/GetById' is valid for the request path '/api/ShortenUrl/GetById'
2025-09-05 00:40:30.830 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 00:40:30.861 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 00:40:30.971 +03:00 [INF] Route matched with {action = "GetUrlById", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUrlById(UrlShortener.Dtos.Request.GetUrlRequest) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 00:40:30.983 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 00:40:30.988 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 00:40:31.000 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 00:40:31.010 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 00:40:31.017 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 00:40:31.030 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 00:40:31.313 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-05 00:40:31.388 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 00:40:31.407 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' ...
2025-09-05 00:40:31.416 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' using the name '' in request data ...
2025-09-05 00:40:31.430 +03:00 [DBG] Attempting to bind property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid' using the name 'Id' in request data ...
2025-09-05 00:40:31.440 +03:00 [DBG] Could not find a value in the request with name 'Id' for binding property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid'.
2025-09-05 00:40:31.452 +03:00 [DBG] Done attempting to bind property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid'.
2025-09-05 00:40:31.465 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 00:40:31.470 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 00:40:31.476 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' ...
2025-09-05 00:40:31.496 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 00:40:32.358 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 00:40:32.485 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .FirstOrDefault(x => x.Id == __request_Id_0)'
2025-09-05 00:40:33.072 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Url>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Url>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.Id == @__request_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.Id == @__request_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Url entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Url instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Url);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Url)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                            {
                                return 
                                {
                                    Url instance;
                                    instance = new Url();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                    instance.<No>k__BackingField = dataReader.GetInt32(3);
                                    instance.<OriginalUrl>k__BackingField = dataReader.GetString(4);
                                    instance.<ShortenedUrl>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Url)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 00:40:33.287 +03:00 [DBG] Creating DbConnection.
2025-09-05 00:40:33.384 +03:00 [DBG] Created DbConnection. (91ms).
2025-09-05 00:40:33.396 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 00:40:33.697 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 00:40:33.710 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:40:33.725 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2025-09-05 00:40:33.742 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (32ms).
2025-09-05 00:40:33.764 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 00:40:33.865 +03:00 [INF] Executed DbCommand (103ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 00:40:33.982 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:40:34.049 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 142ms reading results.
2025-09-05 00:40:34.308 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 00:40:34.332 +03:00 [DBG] Closed connection to database 'db' on server '.' (24ms).
2025-09-05 00:40:34.346 +03:00 [DBG] Compiling query expression: 
'DbSet<UrlClick>()
    .FirstOrDefault(x => x.Id == __request_Id_0)'
2025-09-05 00:40:34.454 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UrlClick>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UrlClick>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
            SELECT TOP(1) u.Id, u.ClickCount, u.LastAccessedAt
            FROM UrlClicks AS u
            WHERE u.Id == @__request_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
            SELECT TOP(1) u.Id, u.ClickCount, u.LastAccessedAt
            FROM UrlClicks AS u
            WHERE u.Id == @__request_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            UrlClick entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UrlClick instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UrlClick);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UrlClick.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (UrlClick)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]: 
                            {
                                return 
                                {
                                    UrlClick instance;
                                    instance = new UrlClick();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ClickCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<LastAccessedAt>k__BackingField = dataReader.IsDBNull(2) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UrlClick)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 00:40:34.494 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 00:40:34.500 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 00:40:34.505 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:40:34.508 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-05 00:40:34.512 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-09-05 00:40:34.517 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 00:40:34.532 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 00:40:34.541 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:40:34.546 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 5ms reading results.
2025-09-05 00:40:34.552 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 00:40:34.556 +03:00 [DBG] Closed connection to database 'db' on server '.' (4ms).
2025-09-05 00:40:34.565 +03:00 [ERR] Error occurred while fetching URL by ID
System.NullReferenceException: Object reference not set to an instance of an object.
   at UrlShortener.Service.Service.ShortenService.GetUrlByIdAsync(GetUrlRequest request) in E:\TDS\urlshortener\Service\Service\ShortenService.cs:line 159
2025-09-05 00:40:34.644 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 00:40:34.663 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 00:40:34.667 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 00:40:34.671 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 00:40:34.680 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 00:40:34.688 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'UrlShortener.Dtos.Response.Response`1[[UrlShortener.Dtos.Response.ShortenUrlDto, urlshortener, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-05 00:40:34.972 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener) in 3934.3996ms
2025-09-05 00:40:34.978 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 00:40:34.988 +03:00 [DBG] Connection id "0HNFBVEK0AJRT" completed keep alive response.
2025-09-05 00:40:35.002 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 00:40:35.023 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 00:40:35.032 +03:00 [DBG] Disposed connection to database '' on server '' (10ms).
2025-09-05 00:40:35.042 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetById - 400 null application/json; charset=utf-8 4308.1074ms
2025-09-05 00:40:36.743 +03:00 [DBG] Connection id "0HNFBVEK0AJRT" received FIN.
2025-09-05 00:40:36.746 +03:00 [DBG] Connection id "0HNFBVEK0AJRT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:40:36.750 +03:00 [DBG] Connection id "0HNFBVEK0AJRT" disconnecting.
2025-09-05 00:40:36.758 +03:00 [DBG] Connection id "0HNFBVEK0AJRT" stopped.
2025-09-05 00:43:01.280 +03:00 [INF] Application is shutting down...
2025-09-05 00:43:01.281 +03:00 [DBG] Hosting stopping
2025-09-05 00:43:01.297 +03:00 [DBG] Hosting stopped
2025-09-05 00:45:04.418 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:45:05.618 +03:00 [DBG] Hosting starting
2025-09-05 00:45:05.915 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:45:05.921 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:45:05.930 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:45:05.941 +03:00 [INF] Hosting environment: Development
2025-09-05 00:45:05.950 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:45:05.957 +03:00 [DBG] Hosting started
2025-09-05 00:45:06.056 +03:00 [DBG] Connection id "0HNFBVH7TMDM7" accepted.
2025-09-05 00:45:06.065 +03:00 [DBG] Connection id "0HNFBVH7TMDM7" started.
2025-09-05 00:45:06.068 +03:00 [DBG] Connection id "0HNFBVH7TMDM8" accepted.
2025-09-05 00:45:06.096 +03:00 [DBG] Connection id "0HNFBVH7TMDM8" started.
2025-09-05 00:45:07.192 +03:00 [DBG] Connection id "0HNFBVH7TMDM8" received FIN.
2025-09-05 00:45:07.193 +03:00 [DBG] Connection id "0HNFBVH7TMDM7" received FIN.
2025-09-05 00:45:07.219 +03:00 [DBG] Connection id "0HNFBVH7TMDM7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:45:07.219 +03:00 [DBG] Connection id "0HNFBVH7TMDM8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:45:07.234 +03:00 [DBG] Connection id "0HNFBVH7TMDM7" disconnecting.
2025-09-05 00:45:07.239 +03:00 [DBG] Connection id "0HNFBVH7TMDM8" disconnecting.
2025-09-05 00:45:07.251 +03:00 [DBG] Connection id "0HNFBVH7TMDM7" stopped.
2025-09-05 00:45:07.252 +03:00 [DBG] Connection id "0HNFBVH7TMDM8" stopped.
2025-09-05 00:45:07.601 +03:00 [DBG] Connection id "0HNFBVH7TMDM9" accepted.
2025-09-05 00:45:07.606 +03:00 [DBG] Connection id "0HNFBVH7TMDM9" started.
2025-09-05 00:45:07.775 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 00:45:07.817 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 00:45:08.200 +03:00 [DBG] Connection id "0HNFBVH7TMDM9" completed keep alive response.
2025-09-05 00:45:08.211 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 446.0205ms
2025-09-05 00:45:12.183 +03:00 [DBG] Connection id "0HNFBVH7TMDM9" received FIN.
2025-09-05 00:45:12.188 +03:00 [DBG] Connection id "0HNFBVH7TMDM9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:45:12.196 +03:00 [DBG] Connection id "0HNFBVH7TMDM9" disconnecting.
2025-09-05 00:45:12.202 +03:00 [DBG] Connection id "0HNFBVH7TMDM9" stopped.
2025-09-05 00:45:12.823 +03:00 [DBG] Connection id "0HNFBVH7TMDMA" accepted.
2025-09-05 00:45:12.827 +03:00 [DBG] Connection id "0HNFBVH7TMDMA" started.
2025-09-05 00:45:12.832 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetById - null null
2025-09-05 00:45:12.856 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-05 00:45:12.945 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/GetById'
2025-09-05 00:45:12.967 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)' with route pattern 'api/ShortenUrl/GetById' is valid for the request path '/api/ShortenUrl/GetById'
2025-09-05 00:45:12.976 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 00:45:12.983 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 00:45:13.059 +03:00 [INF] Route matched with {action = "GetUrlById", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUrlById(UrlShortener.Dtos.Request.GetUrlRequest) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 00:45:13.072 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 00:45:13.079 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 00:45:13.093 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 00:45:13.104 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 00:45:13.111 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 00:45:13.126 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 00:45:13.566 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-05 00:45:13.682 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 00:45:13.723 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' ...
2025-09-05 00:45:13.823 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' using the name '' in request data ...
2025-09-05 00:45:13.844 +03:00 [DBG] Attempting to bind property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid' using the name 'Id' in request data ...
2025-09-05 00:45:13.856 +03:00 [DBG] Could not find a value in the request with name 'Id' for binding property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid'.
2025-09-05 00:45:13.867 +03:00 [DBG] Done attempting to bind property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid'.
2025-09-05 00:45:13.910 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 00:45:14.016 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 00:45:14.207 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' ...
2025-09-05 00:45:14.297 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 00:45:15.471 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 00:45:15.620 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .FirstOrDefault(x => x.Id == __request_Id_0)'
2025-09-05 00:45:16.197 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Url>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Url>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.Id == @__request_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.Id == @__request_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Url entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Url instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Url);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Url)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                            {
                                return 
                                {
                                    Url instance;
                                    instance = new Url();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                    instance.<No>k__BackingField = dataReader.GetInt32(3);
                                    instance.<OriginalUrl>k__BackingField = dataReader.GetString(4);
                                    instance.<ShortenedUrl>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Url)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 00:45:16.350 +03:00 [DBG] Creating DbConnection.
2025-09-05 00:45:16.400 +03:00 [DBG] Created DbConnection. (46ms).
2025-09-05 00:45:16.410 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 00:45:16.868 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 00:45:16.888 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:45:16.919 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2025-09-05 00:45:16.944 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (59ms).
2025-09-05 00:45:16.976 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 00:45:17.165 +03:00 [INF] Executed DbCommand (189ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 00:45:17.216 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:45:17.240 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 54ms reading results.
2025-09-05 00:45:17.251 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 00:45:17.267 +03:00 [DBG] Closed connection to database 'db' on server '.' (16ms).
2025-09-05 00:45:17.278 +03:00 [DBG] Compiling query expression: 
'DbSet<UrlClick>()
    .FirstOrDefault(x => x.Id == __request_Id_0)'
2025-09-05 00:45:17.343 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UrlClick>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UrlClick>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
            SELECT TOP(1) u.Id, u.ClickCount, u.LastAccessedAt
            FROM UrlClicks AS u
            WHERE u.Id == @__request_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
            SELECT TOP(1) u.Id, u.ClickCount, u.LastAccessedAt
            FROM UrlClicks AS u
            WHERE u.Id == @__request_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            UrlClick entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UrlClick instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UrlClick);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UrlClick.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (UrlClick)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]: 
                            {
                                return 
                                {
                                    UrlClick instance;
                                    instance = new UrlClick();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ClickCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<LastAccessedAt>k__BackingField = dataReader.IsDBNull(2) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UrlClick)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 00:45:17.368 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 00:45:17.377 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 00:45:17.384 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:45:17.389 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-05 00:45:17.396 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-05 00:45:17.402 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 00:45:17.424 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 00:45:17.434 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:45:17.441 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 7ms reading results.
2025-09-05 00:45:17.447 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 00:45:17.453 +03:00 [DBG] Closed connection to database 'db' on server '.' (5ms).
2025-09-05 00:45:17.459 +03:00 [ERR] Error occurred while fetching URL by ID
System.NullReferenceException: Object reference not set to an instance of an object.
   at UrlShortener.Service.Service.ShortenService.GetUrlByIdAsync(GetUrlRequest request) in E:\TDS\urlshortener\Service\Service\ShortenService.cs:line 159
2025-09-05 00:45:17.516 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 00:45:17.528 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 00:45:17.530 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 00:45:17.532 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 00:45:17.536 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 00:45:17.541 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'UrlShortener.Dtos.Response.Response`1[[UrlShortener.Dtos.Response.ShortenUrlDto, urlshortener, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-05 00:45:17.762 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener) in 4635.7804ms
2025-09-05 00:45:17.766 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 00:45:17.771 +03:00 [DBG] Connection id "0HNFBVH7TMDMA" completed keep alive response.
2025-09-05 00:45:17.778 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 00:45:17.787 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 00:45:17.793 +03:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-09-05 00:45:17.803 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetById - 400 null application/json; charset=utf-8 4970.6529ms
2025-09-05 00:45:22.199 +03:00 [DBG] Connection id "0HNFBVH7TMDMA" received FIN.
2025-09-05 00:45:22.244 +03:00 [DBG] Connection id "0HNFBVH7TMDMA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:45:22.269 +03:00 [DBG] Connection id "0HNFBVH7TMDMA" disconnecting.
2025-09-05 00:45:22.321 +03:00 [DBG] Connection id "0HNFBVH7TMDMA" stopped.
2025-09-05 00:47:06.943 +03:00 [INF] Application is shutting down...
2025-09-05 00:47:06.945 +03:00 [DBG] Hosting stopping
2025-09-05 00:47:06.963 +03:00 [DBG] Hosting stopped
2025-09-05 00:47:18.048 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:47:19.060 +03:00 [DBG] Hosting starting
2025-09-05 00:47:19.478 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:47:19.528 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:47:19.654 +03:00 [DBG] Connection id "0HNFBVIFNOVP8" accepted.
2025-09-05 00:47:19.685 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:47:19.695 +03:00 [DBG] Connection id "0HNFBVIFNOVP9" accepted.
2025-09-05 00:47:19.707 +03:00 [INF] Hosting environment: Development
2025-09-05 00:47:19.708 +03:00 [DBG] Connection id "0HNFBVIFNOVP8" started.
2025-09-05 00:47:19.711 +03:00 [DBG] Connection id "0HNFBVIFNOVP9" started.
2025-09-05 00:47:19.720 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:47:19.762 +03:00 [DBG] Hosting started
2025-09-05 00:47:22.092 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 00:47:22.272 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 00:47:22.360 +03:00 [DBG] Connection id "0HNFBVIFNOVP9" received FIN.
2025-09-05 00:47:22.496 +03:00 [DBG] Connection id "0HNFBVIFNOVP9" disconnecting.
2025-09-05 00:47:22.595 +03:00 [DBG] Connection id "0HNFBVIFNOVP9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:47:22.627 +03:00 [DBG] Connection id "0HNFBVIFNOVP9" stopped.
2025-09-05 00:47:23.095 +03:00 [DBG] Connection id "0HNFBVIFNOVP8" completed keep alive response.
2025-09-05 00:47:23.111 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1042.2112ms
2025-09-05 00:47:27.357 +03:00 [DBG] Connection id "0HNFBVIFNOVP8" received FIN.
2025-09-05 00:47:27.365 +03:00 [DBG] Connection id "0HNFBVIFNOVP8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:47:27.377 +03:00 [DBG] Connection id "0HNFBVIFNOVP8" disconnecting.
2025-09-05 00:47:27.389 +03:00 [DBG] Connection id "0HNFBVIFNOVP8" stopped.
2025-09-05 00:49:36.433 +03:00 [INF] Application is shutting down...
2025-09-05 00:49:36.436 +03:00 [DBG] Hosting stopping
2025-09-05 00:49:36.482 +03:00 [DBG] Hosting stopped
2025-09-05 00:49:48.722 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:49:50.023 +03:00 [DBG] Hosting starting
2025-09-05 00:49:51.247 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:49:51.292 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:49:51.309 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:49:51.325 +03:00 [INF] Hosting environment: Development
2025-09-05 00:49:51.354 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:49:51.414 +03:00 [DBG] Hosting started
2025-09-05 00:49:52.544 +03:00 [DBG] Connection id "0HNFBVJT9RJKL" accepted.
2025-09-05 00:49:52.556 +03:00 [DBG] Connection id "0HNFBVJT9RJKL" started.
2025-09-05 00:49:52.832 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 00:49:52.936 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 00:49:53.534 +03:00 [DBG] Connection id "0HNFBVJT9RJKL" completed keep alive response.
2025-09-05 00:49:53.567 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 743.1079ms
2025-09-05 00:49:57.609 +03:00 [DBG] Connection id "0HNFBVJT9RJKL" received FIN.
2025-09-05 00:49:57.624 +03:00 [DBG] Connection id "0HNFBVJT9RJKL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:49:57.631 +03:00 [DBG] Connection id "0HNFBVJT9RJKL" disconnecting.
2025-09-05 00:49:57.638 +03:00 [DBG] Connection id "0HNFBVJT9RJKL" stopped.
2025-09-05 00:50:01.023 +03:00 [DBG] Connection id "0HNFBVJT9RJKM" accepted.
2025-09-05 00:50:01.028 +03:00 [DBG] Connection id "0HNFBVJT9RJKM" started.
2025-09-05 00:50:01.034 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetById - null null
2025-09-05 00:50:01.057 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-05 00:50:01.099 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/GetById'
2025-09-05 00:50:01.112 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)' with route pattern 'api/ShortenUrl/GetById' is valid for the request path '/api/ShortenUrl/GetById'
2025-09-05 00:50:01.119 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 00:50:01.128 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 00:50:01.178 +03:00 [INF] Route matched with {action = "GetUrlById", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUrlById(UrlShortener.Dtos.Request.GetUrlRequest) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 00:50:01.188 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 00:50:01.194 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 00:50:01.201 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 00:50:01.205 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 00:50:01.211 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 00:50:01.218 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 00:50:01.414 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-05 00:50:01.469 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 00:50:01.490 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' ...
2025-09-05 00:50:01.502 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' using the name '' in request data ...
2025-09-05 00:50:01.520 +03:00 [DBG] Attempting to bind property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid' using the name 'Id' in request data ...
2025-09-05 00:50:01.532 +03:00 [DBG] Could not find a value in the request with name 'Id' for binding property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid'.
2025-09-05 00:50:01.543 +03:00 [DBG] Done attempting to bind property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid'.
2025-09-05 00:50:01.557 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 00:50:01.564 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 00:50:01.571 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' ...
2025-09-05 00:50:01.683 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener) in 463.375ms
2025-09-05 00:50:01.688 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 00:50:01.692 +03:00 [ERR] An unhandled exception has occurred while executing the request.
FluentValidation.AsyncValidatorInvokedSynchronouslyException: Validator "GetUrlRequestValidator" can't be used with ASP.NET automatic validation as it contains asynchronous rules. ASP.NET's validation pipeline is not asynchronous and can't invoke asynchronous rules. Remove the asynchronous rules in order for this validator to run.
   at FluentValidation.AbstractValidator`1.Validate(ValidationContext`1 context) in /_/src/FluentValidation/AbstractValidator.cs:line 124
   at FluentValidation.AbstractValidator`1.FluentValidation.IValidator.Validate(IValidationContext context) in /_/src/FluentValidation/AbstractValidator.cs:line 85
   at FluentValidation.AspNetCore.FluentValidationModelValidator.Validate(ModelValidationContext mvContext) in /_/src/FluentValidation.AspNetCore/FluentValidationModelValidatorProvider.cs:line 150
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.ValidateNode()
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitComplexType(IValidationStrategy defaultStrategy)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitImplementation(ModelMetadata& metadata, String& key, Object model)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.Visit(ModelMetadata metadata, String key, Object model)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>n__1(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>c__DisplayClass2_0.<Validate>g__BaseValidate|0() in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 45
   at FluentValidation.AspNetCore.FluentValidationVisitor.ValidateInternal(ModelMetadata metadata, String key, Object model, Func`1 continuation) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 63
   at FluentValidation.AspNetCore.FluentValidationVisitor.Validate(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 47
   at Microsoft.AspNetCore.Mvc.ModelBinding.ObjectModelValidator.Validate(ActionContext actionContext, ValidationStateDictionary validationState, String prefix, Object model, ModelMetadata metadata, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.EnforceBindRequiredAndValidate(ObjectModelValidator baseObjectValidator, ActionContext actionContext, ParameterDescriptor parameter, ModelMetadata metadata, ModelBindingContext modelBindingContext, ModelBindingResult modelBindingResult, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-05 00:50:01.751 +03:00 [DBG] Connection id "0HNFBVJT9RJKM" completed keep alive response.
2025-09-05 00:50:01.776 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetById - 500 null text/plain; charset=utf-8 741.0694ms
2025-09-05 00:50:02.617 +03:00 [DBG] Connection id "0HNFBVJT9RJKM" received FIN.
2025-09-05 00:50:02.621 +03:00 [DBG] Connection id "0HNFBVJT9RJKM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:50:02.626 +03:00 [DBG] Connection id "0HNFBVJT9RJKM" disconnecting.
2025-09-05 00:50:02.630 +03:00 [DBG] Connection id "0HNFBVJT9RJKM" stopped.
2025-09-05 00:50:23.209 +03:00 [DBG] Connection id "0HNFBVJT9RJKN" accepted.
2025-09-05 00:50:23.212 +03:00 [DBG] Connection id "0HNFBVJT9RJKN" started.
2025-09-05 00:50:23.214 +03:00 [DBG] Connection id "0HNFBVJT9RJKO" accepted.
2025-09-05 00:50:23.243 +03:00 [DBG] Connection id "0HNFBVJT9RJKO" started.
2025-09-05 00:50:27.660 +03:00 [DBG] Connection id "0HNFBVJT9RJKO" received FIN.
2025-09-05 00:50:27.660 +03:00 [DBG] Connection id "0HNFBVJT9RJKN" received FIN.
2025-09-05 00:50:27.664 +03:00 [DBG] Connection id "0HNFBVJT9RJKO" disconnecting.
2025-09-05 00:50:27.667 +03:00 [DBG] Connection id "0HNFBVJT9RJKN" disconnecting.
2025-09-05 00:50:27.670 +03:00 [DBG] Connection id "0HNFBVJT9RJKO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:50:27.674 +03:00 [DBG] Connection id "0HNFBVJT9RJKN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:50:27.681 +03:00 [DBG] Connection id "0HNFBVJT9RJKO" stopped.
2025-09-05 00:50:27.692 +03:00 [DBG] Connection id "0HNFBVJT9RJKN" stopped.
2025-09-05 00:53:03.615 +03:00 [INF] Application is shutting down...
2025-09-05 00:53:03.618 +03:00 [DBG] Hosting stopping
2025-09-05 00:53:03.650 +03:00 [DBG] Hosting stopped
2025-09-05 00:53:13.591 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:53:14.870 +03:00 [DBG] Hosting starting
2025-09-05 00:53:15.353 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:53:15.362 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:53:15.369 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:53:15.384 +03:00 [INF] Hosting environment: Development
2025-09-05 00:53:15.391 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:53:15.397 +03:00 [DBG] Hosting started
2025-09-05 00:53:15.508 +03:00 [DBG] Connection id "0HNFBVLPPFAGU" accepted.
2025-09-05 00:53:15.519 +03:00 [DBG] Connection id "0HNFBVLPPFAGV" accepted.
2025-09-05 00:53:15.519 +03:00 [DBG] Connection id "0HNFBVLPPFAGU" started.
2025-09-05 00:53:15.531 +03:00 [DBG] Connection id "0HNFBVLPPFAGV" started.
2025-09-05 00:53:17.487 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 00:53:17.536 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 00:53:17.935 +03:00 [DBG] Connection id "0HNFBVLPPFAGV" received FIN.
2025-09-05 00:53:17.966 +03:00 [DBG] Connection id "0HNFBVLPPFAGV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:53:17.979 +03:00 [DBG] Connection id "0HNFBVLPPFAGV" disconnecting.
2025-09-05 00:53:17.991 +03:00 [DBG] Connection id "0HNFBVLPPFAGV" stopped.
2025-09-05 00:53:18.180 +03:00 [DBG] Connection id "0HNFBVLPPFAGU" completed keep alive response.
2025-09-05 00:53:18.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 724.1149ms
2025-09-05 00:53:21.805 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetById - null null
2025-09-05 00:53:21.870 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-05 00:53:22.001 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/GetById'
2025-09-05 00:53:22.023 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)' with route pattern 'api/ShortenUrl/GetById' is valid for the request path '/api/ShortenUrl/GetById'
2025-09-05 00:53:22.034 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 00:53:22.050 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 00:53:22.174 +03:00 [INF] Route matched with {action = "GetUrlById", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUrlById(UrlShortener.Dtos.Request.GetUrlRequest, FluentValidation.IValidator`1[UrlShortener.Dtos.Request.GetUrlRequest]) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 00:53:22.184 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 00:53:22.190 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 00:53:22.199 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 00:53:22.208 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 00:53:22.216 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 00:53:22.227 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 00:53:22.472 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-05 00:53:22.522 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 00:53:22.537 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' ...
2025-09-05 00:53:22.546 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' using the name '' in request data ...
2025-09-05 00:53:22.558 +03:00 [DBG] Attempting to bind property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid' using the name 'Id' in request data ...
2025-09-05 00:53:22.565 +03:00 [DBG] Could not find a value in the request with name 'Id' for binding property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid'.
2025-09-05 00:53:22.572 +03:00 [DBG] Done attempting to bind property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid'.
2025-09-05 00:53:22.579 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 00:53:22.584 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 00:53:22.588 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' ...
2025-09-05 00:53:22.602 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 00:53:22.609 +03:00 [DBG] Attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.GetUrlRequest]' ...
2025-09-05 00:53:22.664 +03:00 [DBG] Done attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.GetUrlRequest]'.
2025-09-05 00:53:22.672 +03:00 [DBG] Attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.GetUrlRequest]' ...
2025-09-05 00:53:22.681 +03:00 [DBG] Done attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.GetUrlRequest]'.
2025-09-05 00:53:23.828 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 00:53:24.058 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .FirstOrDefault(x => x.Id == __request_Id_0)'
2025-09-05 00:53:24.552 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Url>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Url>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.Id == @__request_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.Id == @__request_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Url entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Url instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Url);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Url)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                            {
                                return 
                                {
                                    Url instance;
                                    instance = new Url();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                    instance.<No>k__BackingField = dataReader.GetInt32(3);
                                    instance.<OriginalUrl>k__BackingField = dataReader.GetString(4);
                                    instance.<ShortenedUrl>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Url)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 00:53:24.636 +03:00 [DBG] Creating DbConnection.
2025-09-05 00:53:24.676 +03:00 [DBG] Created DbConnection. (36ms).
2025-09-05 00:53:24.686 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 00:53:24.971 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 00:53:24.983 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:53:24.999 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2025-09-05 00:53:25.018 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (36ms).
2025-09-05 00:53:25.042 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 00:53:25.145 +03:00 [INF] Executed DbCommand (109ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 00:53:25.178 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:53:25.206 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 40ms reading results.
2025-09-05 00:53:25.224 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 00:53:25.250 +03:00 [DBG] Closed connection to database 'db' on server '.' (26ms).
2025-09-05 00:53:25.285 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 00:53:25.302 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 00:53:25.306 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 00:53:25.311 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 00:53:25.322 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 00:53:25.331 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[FluentValidation.Results.ValidationFailure, FluentValidation, Version=12.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0]]'.
2025-09-05 00:53:25.626 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener) in 3395.3865ms
2025-09-05 00:53:25.634 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 00:53:25.646 +03:00 [DBG] Connection id "0HNFBVLPPFAGU" completed keep alive response.
2025-09-05 00:53:25.674 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 00:53:25.706 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 00:53:25.774 +03:00 [DBG] Disposed connection to database '' on server '' (70ms).
2025-09-05 00:53:25.789 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetById - 400 null application/json; charset=utf-8 3983.3569ms
2025-09-05 00:53:27.960 +03:00 [DBG] Connection id "0HNFBVLPPFAGU" received FIN.
2025-09-05 00:53:27.963 +03:00 [DBG] Connection id "0HNFBVLPPFAGU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:53:27.969 +03:00 [DBG] Connection id "0HNFBVLPPFAGU" disconnecting.
2025-09-05 00:53:27.974 +03:00 [DBG] Connection id "0HNFBVLPPFAGU" stopped.
2025-09-05 00:54:16.325 +03:00 [INF] Application is shutting down...
2025-09-05 00:54:16.326 +03:00 [DBG] Hosting stopping
2025-09-05 00:54:16.347 +03:00 [DBG] Hosting stopped
2025-09-05 00:54:25.668 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:54:26.858 +03:00 [DBG] Hosting starting
2025-09-05 00:54:27.172 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:54:27.178 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:54:27.184 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:54:27.193 +03:00 [INF] Hosting environment: Development
2025-09-05 00:54:27.200 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:54:27.205 +03:00 [DBG] Hosting started
2025-09-05 00:54:27.330 +03:00 [DBG] Connection id "0HNFBVMF6DDP4" accepted.
2025-09-05 00:54:27.346 +03:00 [DBG] Connection id "0HNFBVMF6DDP4" started.
2025-09-05 00:54:27.358 +03:00 [DBG] Connection id "0HNFBVMF6DDP5" accepted.
2025-09-05 00:54:27.373 +03:00 [DBG] Connection id "0HNFBVMF6DDP5" started.
2025-09-05 00:54:28.067 +03:00 [DBG] Connection id "0HNFBVMF6DDP5" received FIN.
2025-09-05 00:54:28.068 +03:00 [DBG] Connection id "0HNFBVMF6DDP4" received FIN.
2025-09-05 00:54:28.100 +03:00 [DBG] Connection id "0HNFBVMF6DDP4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:54:28.100 +03:00 [DBG] Connection id "0HNFBVMF6DDP5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:54:28.119 +03:00 [DBG] Connection id "0HNFBVMF6DDP4" disconnecting.
2025-09-05 00:54:28.139 +03:00 [DBG] Connection id "0HNFBVMF6DDP5" disconnecting.
2025-09-05 00:54:28.148 +03:00 [DBG] Connection id "0HNFBVMF6DDP4" stopped.
2025-09-05 00:54:28.148 +03:00 [DBG] Connection id "0HNFBVMF6DDP5" stopped.
2025-09-05 00:54:29.189 +03:00 [DBG] Connection id "0HNFBVMF6DDP6" accepted.
2025-09-05 00:54:29.199 +03:00 [DBG] Connection id "0HNFBVMF6DDP6" started.
2025-09-05 00:54:29.426 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 00:54:29.489 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 00:54:29.957 +03:00 [DBG] Connection id "0HNFBVMF6DDP6" completed keep alive response.
2025-09-05 00:54:29.970 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 558.1989ms
2025-09-05 00:54:33.061 +03:00 [DBG] Connection id "0HNFBVMF6DDP6" received FIN.
2025-09-05 00:54:33.065 +03:00 [DBG] Connection id "0HNFBVMF6DDP6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:54:33.070 +03:00 [DBG] Connection id "0HNFBVMF6DDP6" disconnecting.
2025-09-05 00:54:33.074 +03:00 [DBG] Connection id "0HNFBVMF6DDP6" stopped.
2025-09-05 00:54:34.687 +03:00 [DBG] Connection id "0HNFBVMF6DDP7" accepted.
2025-09-05 00:54:34.690 +03:00 [DBG] Connection id "0HNFBVMF6DDP7" started.
2025-09-05 00:54:34.695 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetById - null null
2025-09-05 00:54:34.715 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-05 00:54:34.756 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/GetById'
2025-09-05 00:54:34.769 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)' with route pattern 'api/ShortenUrl/GetById' is valid for the request path '/api/ShortenUrl/GetById'
2025-09-05 00:54:34.777 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 00:54:34.785 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 00:54:34.837 +03:00 [INF] Route matched with {action = "GetUrlById", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUrlById(UrlShortener.Dtos.Request.GetUrlRequest, FluentValidation.IValidator`1[UrlShortener.Dtos.Request.GetUrlRequest]) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 00:54:34.847 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 00:54:34.854 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 00:54:34.860 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 00:54:34.867 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 00:54:34.871 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 00:54:34.880 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 00:54:35.088 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-05 00:54:35.126 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 00:54:35.138 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' ...
2025-09-05 00:54:35.147 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' using the name '' in request data ...
2025-09-05 00:54:35.162 +03:00 [DBG] Attempting to bind property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid' using the name 'Id' in request data ...
2025-09-05 00:54:35.169 +03:00 [DBG] Could not find a value in the request with name 'Id' for binding property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid'.
2025-09-05 00:54:35.175 +03:00 [DBG] Done attempting to bind property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid'.
2025-09-05 00:54:35.184 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 00:54:35.190 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 00:54:35.193 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' ...
2025-09-05 00:54:35.205 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 00:54:35.210 +03:00 [DBG] Attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.GetUrlRequest]' ...
2025-09-05 00:54:35.254 +03:00 [DBG] Done attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.GetUrlRequest]'.
2025-09-05 00:54:35.262 +03:00 [DBG] Attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.GetUrlRequest]' ...
2025-09-05 00:54:35.268 +03:00 [DBG] Done attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.GetUrlRequest]'.
2025-09-05 00:54:36.157 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 00:54:36.245 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .FirstOrDefault(x => x.Id == __request_Id_0)'
2025-09-05 00:54:36.768 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Url>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Url>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.Id == @__request_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.Id == @__request_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Url entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Url instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Url);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Url)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                            {
                                return 
                                {
                                    Url instance;
                                    instance = new Url();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                    instance.<No>k__BackingField = dataReader.GetInt32(3);
                                    instance.<OriginalUrl>k__BackingField = dataReader.GetString(4);
                                    instance.<ShortenedUrl>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Url)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 00:54:36.907 +03:00 [DBG] Creating DbConnection.
2025-09-05 00:54:36.947 +03:00 [DBG] Created DbConnection. (36ms).
2025-09-05 00:54:36.958 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 00:54:37.261 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 00:54:37.276 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:54:37.293 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (13ms).
2025-09-05 00:54:37.310 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (38ms).
2025-09-05 00:54:37.333 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 00:54:37.449 +03:00 [INF] Executed DbCommand (118ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 00:54:37.486 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:54:37.507 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 37ms reading results.
2025-09-05 00:54:37.519 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 00:54:37.530 +03:00 [DBG] Closed connection to database 'db' on server '.' (10ms).
2025-09-05 00:54:37.546 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 00:54:37.558 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 00:54:37.562 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 00:54:37.565 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 00:54:37.571 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 00:54:37.578 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[FluentValidation.Results.ValidationFailure, FluentValidation, Version=12.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-05 00:54:37.705 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener) in 2822.2832ms
2025-09-05 00:54:37.709 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 00:54:37.714 +03:00 [DBG] Connection id "0HNFBVMF6DDP7" completed keep alive response.
2025-09-05 00:54:37.723 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 00:54:37.736 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 00:54:37.743 +03:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-09-05 00:54:37.748 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetById - 400 null application/json; charset=utf-8 3053.206ms
2025-09-05 00:54:38.064 +03:00 [DBG] Connection id "0HNFBVMF6DDP7" received FIN.
2025-09-05 00:54:38.070 +03:00 [DBG] Connection id "0HNFBVMF6DDP7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:54:38.079 +03:00 [DBG] Connection id "0HNFBVMF6DDP7" disconnecting.
2025-09-05 00:54:38.102 +03:00 [DBG] Connection id "0HNFBVMF6DDP7" stopped.
2025-09-05 00:56:15.763 +03:00 [INF] Application is shutting down...
2025-09-05 00:56:15.765 +03:00 [DBG] Hosting stopping
2025-09-05 00:56:15.801 +03:00 [DBG] Hosting stopped
2025-09-05 00:56:32.127 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 00:56:33.159 +03:00 [DBG] Hosting starting
2025-09-05 00:56:33.511 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 00:56:33.522 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 00:56:33.542 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 00:56:33.556 +03:00 [INF] Hosting environment: Development
2025-09-05 00:56:33.563 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 00:56:33.569 +03:00 [DBG] Hosting started
2025-09-05 00:56:33.643 +03:00 [DBG] Connection id "0HNFBVNKR0UFH" accepted.
2025-09-05 00:56:33.652 +03:00 [DBG] Connection id "0HNFBVNKR0UFH" started.
2025-09-05 00:56:33.656 +03:00 [DBG] Connection id "0HNFBVNKR0UFI" accepted.
2025-09-05 00:56:33.667 +03:00 [DBG] Connection id "0HNFBVNKR0UFI" started.
2025-09-05 00:56:35.403 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 00:56:35.473 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 00:56:36.156 +03:00 [DBG] Connection id "0HNFBVNKR0UFI" completed keep alive response.
2025-09-05 00:56:36.164 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 779.3478ms
2025-09-05 00:56:38.242 +03:00 [DBG] Connection id "0HNFBVNKR0UFI" received FIN.
2025-09-05 00:56:38.242 +03:00 [DBG] Connection id "0HNFBVNKR0UFH" received FIN.
2025-09-05 00:56:38.257 +03:00 [DBG] Connection id "0HNFBVNKR0UFH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:56:38.257 +03:00 [DBG] Connection id "0HNFBVNKR0UFI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:56:38.264 +03:00 [DBG] Connection id "0HNFBVNKR0UFH" disconnecting.
2025-09-05 00:56:38.267 +03:00 [DBG] Connection id "0HNFBVNKR0UFI" disconnecting.
2025-09-05 00:56:38.273 +03:00 [DBG] Connection id "0HNFBVNKR0UFH" stopped.
2025-09-05 00:56:38.275 +03:00 [DBG] Connection id "0HNFBVNKR0UFI" stopped.
2025-09-05 00:56:42.448 +03:00 [DBG] Connection id "0HNFBVNKR0UFJ" accepted.
2025-09-05 00:56:42.451 +03:00 [DBG] Connection id "0HNFBVNKR0UFJ" started.
2025-09-05 00:56:42.457 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/UpdateCount - application/json 62
2025-09-05 00:56:42.480 +03:00 [DBG] The request has an origin header: 'http://localhost:5544'.
2025-09-05 00:56:42.485 +03:00 [INF] CORS policy execution successful.
2025-09-05 00:56:42.493 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-05 00:56:42.535 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/UpdateCount'
2025-09-05 00:56:42.546 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.UpdateCount (urlshortener)' with route pattern 'api/ShortenUrl/UpdateCount' is valid for the request path '/api/ShortenUrl/UpdateCount'
2025-09-05 00:56:42.553 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.UpdateCount (urlshortener)'
2025-09-05 00:56:42.561 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.UpdateCount (urlshortener)'
2025-09-05 00:56:42.621 +03:00 [INF] Route matched with {action = "UpdateCount", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCount(UrlShortener.Dtos.Request.UpdateUrlRequest, FluentValidation.IValidator`1[UrlShortener.Dtos.Request.UpdateUrlRequest]) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 00:56:42.629 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 00:56:42.633 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 00:56:42.641 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 00:56:42.645 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 00:56:42.649 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 00:56:42.655 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 00:56:42.841 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-05 00:56:42.886 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 00:56:42.905 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest' ...
2025-09-05 00:56:42.918 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest' using the name '' in request data ...
2025-09-05 00:56:42.930 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-05 00:56:43.007 +03:00 [DBG] Connection id "0HNFBVNKR0UFJ", Request id "0HNFBVNKR0UFJ:00000001": started reading request body.
2025-09-05 00:56:43.011 +03:00 [DBG] Connection id "0HNFBVNKR0UFJ", Request id "0HNFBVNKR0UFJ:00000001": done reading request body.
2025-09-05 00:56:43.051 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'UrlShortener.Dtos.Request.UpdateUrlRequest'
2025-09-05 00:56:43.055 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest'.
2025-09-05 00:56:43.060 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest'.
2025-09-05 00:56:43.066 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest' ...
2025-09-05 00:56:43.147 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest'.
2025-09-05 00:56:43.168 +03:00 [DBG] Attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.UpdateUrlRequest]' ...
2025-09-05 00:56:43.331 +03:00 [DBG] Done attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.UpdateUrlRequest]'.
2025-09-05 00:56:43.463 +03:00 [DBG] Attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.UpdateUrlRequest]' ...
2025-09-05 00:56:43.471 +03:00 [DBG] Done attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.UpdateUrlRequest]'.
2025-09-05 00:56:44.709 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 00:56:44.813 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .FirstOrDefault(x => x.Id == __request_shortenedUrlId_0)'
2025-09-05 00:56:45.356 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Url>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Url>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.Id == @__request_shortenedUrlId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.Id == @__request_shortenedUrlId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Url entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Url instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Url);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Url)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                            {
                                return 
                                {
                                    Url instance;
                                    instance = new Url();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                    instance.<No>k__BackingField = dataReader.GetInt32(3);
                                    instance.<OriginalUrl>k__BackingField = dataReader.GetString(4);
                                    instance.<ShortenedUrl>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Url)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 00:56:45.440 +03:00 [DBG] Creating DbConnection.
2025-09-05 00:56:45.479 +03:00 [DBG] Created DbConnection. (35ms).
2025-09-05 00:56:45.489 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 00:56:45.809 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 00:56:45.827 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:56:45.854 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (19ms).
2025-09-05 00:56:45.890 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (67ms).
2025-09-05 00:56:45.925 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_shortenedUrlId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_shortenedUrlId_0
2025-09-05 00:56:46.070 +03:00 [INF] Executed DbCommand (158ms) [Parameters=[@__request_shortenedUrlId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_shortenedUrlId_0
2025-09-05 00:56:46.103 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:56:46.121 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 34ms reading results.
2025-09-05 00:56:46.132 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 00:56:46.144 +03:00 [DBG] Closed connection to database 'db' on server '.' (12ms).
2025-09-05 00:56:46.164 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 00:56:46.177 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 00:56:46.181 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 00:56:46.184 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 00:56:46.189 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 00:56:46.197 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[FluentValidation.Results.ValidationFailure, FluentValidation, Version=12.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-05 00:56:46.263 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.UpdateCount (urlshortener) in 3603.0198ms
2025-09-05 00:56:46.269 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.UpdateCount (urlshortener)'
2025-09-05 00:56:46.274 +03:00 [DBG] Connection id "0HNFBVNKR0UFJ" completed keep alive response.
2025-09-05 00:56:46.280 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 00:56:46.292 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 00:56:46.299 +03:00 [DBG] Disposed connection to database '' on server '' (8ms).
2025-09-05 00:56:46.309 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/UpdateCount - 400 null application/json; charset=utf-8 3851.9168ms
2025-09-05 00:56:48.257 +03:00 [DBG] Connection id "0HNFBVNKR0UFJ" received FIN.
2025-09-05 00:56:48.260 +03:00 [DBG] Connection id "0HNFBVNKR0UFJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:56:48.263 +03:00 [DBG] Connection id "0HNFBVNKR0UFJ" disconnecting.
2025-09-05 00:56:48.271 +03:00 [DBG] Connection id "0HNFBVNKR0UFJ" stopped.
2025-09-05 00:57:04.621 +03:00 [DBG] Connection id "0HNFBVNKR0UFK" accepted.
2025-09-05 00:57:04.625 +03:00 [DBG] Connection id "0HNFBVNKR0UFK" started.
2025-09-05 00:57:04.630 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/ShortenUrl - application/json 76
2025-09-05 00:57:04.676 +03:00 [DBG] The request has an origin header: 'http://localhost:5544'.
2025-09-05 00:57:04.709 +03:00 [INF] CORS policy execution successful.
2025-09-05 00:57:04.723 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/ShortenUrl'
2025-09-05 00:57:04.732 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)' with route pattern 'api/ShortenUrl/ShortenUrl' is valid for the request path '/api/ShortenUrl/ShortenUrl'
2025-09-05 00:57:04.743 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 00:57:04.752 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 00:57:04.784 +03:00 [INF] Route matched with {action = "ShortenUrl", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShortenUrl(UrlShortener.Dtos.Request.CreateShortenUrlRequest, FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 00:57:04.808 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 00:57:04.831 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 00:57:04.842 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 00:57:04.853 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 00:57:04.873 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 00:57:04.883 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 00:57:04.903 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 00:57:04.918 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' ...
2025-09-05 00:57:04.934 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' using the name '' in request data ...
2025-09-05 00:57:04.964 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-05 00:57:04.995 +03:00 [DBG] Connection id "0HNFBVNKR0UFK", Request id "0HNFBVNKR0UFK:00000001": started reading request body.
2025-09-05 00:57:05.002 +03:00 [DBG] Connection id "0HNFBVNKR0UFK", Request id "0HNFBVNKR0UFK:00000001": done reading request body.
2025-09-05 00:57:05.019 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'
2025-09-05 00:57:05.023 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 00:57:05.028 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 00:57:05.033 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' ...
2025-09-05 00:57:05.045 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 00:57:05.064 +03:00 [DBG] Attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]' ...
2025-09-05 00:57:05.130 +03:00 [DBG] Done attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]'.
2025-09-05 00:57:05.143 +03:00 [DBG] Attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]' ...
2025-09-05 00:57:05.176 +03:00 [DBG] Done attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]'.
2025-09-05 00:57:05.305 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 00:57:05.322 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .FirstOrDefault(x => x.OriginalUrl == __originalUrl_0)'
2025-09-05 00:57:05.401 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Url>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Url>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.OriginalUrl == @__originalUrl_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.OriginalUrl == @__originalUrl_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Url entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Url instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Url);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Url)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                            {
                                return 
                                {
                                    Url instance;
                                    instance = new Url();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                    instance.<No>k__BackingField = dataReader.GetInt32(3);
                                    instance.<OriginalUrl>k__BackingField = dataReader.GetString(4);
                                    instance.<ShortenedUrl>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Url)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 00:57:05.455 +03:00 [DBG] Creating DbConnection.
2025-09-05 00:57:05.465 +03:00 [DBG] Created DbConnection. (9ms).
2025-09-05 00:57:05.472 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 00:57:05.490 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 00:57:05.518 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:57:05.526 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-09-05 00:57:05.545 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2025-09-05 00:57:05.579 +03:00 [DBG] Executing DbCommand [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[OriginalUrl] = @__originalUrl_0
2025-09-05 00:57:05.732 +03:00 [INF] Executed DbCommand (154ms) [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[OriginalUrl] = @__originalUrl_0
2025-09-05 00:57:05.830 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:57:05.845 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 15ms reading results.
2025-09-05 00:57:05.892 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 00:57:05.943 +03:00 [DBG] Closed connection to database 'db' on server '.' (50ms).
2025-09-05 00:57:06.013 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 00:57:06.033 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 00:57:06.050 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-05 00:57:06.118 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-05 00:57:06.137 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .Any(u => u.OriginalUrl == __originalUrl_0)'
2025-09-05 00:57:06.193 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Urls AS u
                WHERE u.OriginalUrl == @__originalUrl_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Urls AS u
                WHERE u.OriginalUrl == @__originalUrl_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 00:57:06.262 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:57:06.266 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-05 00:57:06.276 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-09-05 00:57:06.285 +03:00 [DBG] Executing DbCommand [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Urls] AS [u]
        WHERE [u].[OriginalUrl] = @__originalUrl_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-05 00:57:06.317 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Urls] AS [u]
        WHERE [u].[OriginalUrl] = @__originalUrl_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-05 00:57:06.359 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:57:06.370 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 38ms reading results.
2025-09-05 00:57:06.397 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .Select(u => u.ShortenedUrl)'
2025-09-05 00:57:06.444 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT u.ShortenedUrl
        FROM Urls AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT u.ShortenedUrl
        FROM Urls AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.GetString(0);
        return value1;
    }, 
    contextType: UrlShortener.Data.ApplicationDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-05 00:57:06.467 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:57:06.474 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-09-05 00:57:06.480 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-05 00:57:06.487 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ShortenedUrl]
FROM [Urls] AS [u]
2025-09-05 00:57:06.499 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ShortenedUrl]
FROM [Urls] AS [u]
2025-09-05 00:57:06.510 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:57:06.517 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 8ms reading results.
2025-09-05 00:57:06.524 +03:00 [INF] Start Proccess of Shortening URL
2025-09-05 00:57:06.529 +03:00 [INF] https://docs.docker.com/compose/how-tos/project-name/
2025-09-05 00:57:06.535 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .Count()'
2025-09-05 00:57:06.654 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Urls AS u) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Urls AS u, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 00:57:06.700 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:57:06.708 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-09-05 00:57:06.719 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-09-05 00:57:06.725 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Urls] AS [u]
2025-09-05 00:57:06.743 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Urls] AS [u]
2025-09-05 00:57:06.765 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:57:06.774 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 18ms reading results.
2025-09-05 00:57:07.086 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Url' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 00:57:07.158 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UrlClick' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 00:57:07.178 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-09-05 00:57:07.199 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-09-05 00:57:07.288 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-09-05 00:57:07.512 +03:00 [DBG] Executing 2 update commands as a batch.
2025-09-05 00:57:07.526 +03:00 [DBG] Creating transaction savepoint.
2025-09-05 00:57:07.574 +03:00 [DBG] Created transaction savepoint.
2025-09-05 00:57:07.583 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:57:07.586 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-05 00:57:07.592 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-09-05 00:57:07.597 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UrlClicks] ([Id], [ClickCount], [LastAccessedAt])
VALUES (@p0, @p1, @p2);
INSERT INTO [Urls] ([Id], [CreatedAt], [IsActive], [No], [OriginalUrl], [ShortenedUrl])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
2025-09-05 00:57:07.621 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UrlClicks] ([Id], [ClickCount], [LastAccessedAt])
VALUES (@p0, @p1, @p2);
INSERT INTO [Urls] ([Id], [CreatedAt], [IsActive], [No], [OriginalUrl], [ShortenedUrl])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
2025-09-05 00:57:07.640 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:57:07.646 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 16ms reading results.
2025-09-05 00:57:07.696 +03:00 [DBG] An entity of type 'Url' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 00:57:07.707 +03:00 [DBG] An entity of type 'UrlClick' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 00:57:07.724 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2025-09-05 00:57:07.745 +03:00 [DBG] Committing transaction.
2025-09-05 00:57:07.774 +03:00 [DBG] Committed transaction.
2025-09-05 00:57:07.788 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 00:57:07.795 +03:00 [DBG] Closed connection to database 'db' on server '.' (6ms).
2025-09-05 00:57:07.810 +03:00 [DBG] Disposing transaction.
2025-09-05 00:57:07.816 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 00:57:07.828 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 00:57:07.832 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 00:57:07.838 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 00:57:07.843 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 00:57:07.850 +03:00 [INF] Executing OkObjectResult, writing value of type 'UrlShortener.Dtos.Response.Response`1[[UrlShortener.Dtos.Response.ShortenUrlDto, urlshortener, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-05 00:57:07.943 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener) in 3060.2451ms
2025-09-05 00:57:07.950 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 00:57:07.954 +03:00 [DBG] Connection id "0HNFBVNKR0UFK" completed keep alive response.
2025-09-05 00:57:07.961 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 00:57:07.967 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 00:57:07.975 +03:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-09-05 00:57:07.985 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/ShortenUrl - 200 null application/json; charset=utf-8 3354.9377ms
2025-09-05 00:57:08.294 +03:00 [DBG] Connection id "0HNFBVNKR0UFK" received FIN.
2025-09-05 00:57:08.300 +03:00 [DBG] Connection id "0HNFBVNKR0UFK" disconnecting.
2025-09-05 00:57:08.327 +03:00 [DBG] Connection id "0HNFBVNKR0UFK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:57:08.378 +03:00 [DBG] Connection id "0HNFBVNKR0UFK" stopped.
2025-09-05 00:59:54.219 +03:00 [DBG] Connection id "0HNFBVNKR0UFL" accepted.
2025-09-05 00:59:54.222 +03:00 [DBG] Connection id "0HNFBVNKR0UFL" started.
2025-09-05 00:59:54.225 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/ShortenUrl - application/json 76
2025-09-05 00:59:54.235 +03:00 [DBG] The request has an origin header: 'http://localhost:5544'.
2025-09-05 00:59:54.239 +03:00 [INF] CORS policy execution successful.
2025-09-05 00:59:54.243 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/ShortenUrl'
2025-09-05 00:59:54.248 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)' with route pattern 'api/ShortenUrl/ShortenUrl' is valid for the request path '/api/ShortenUrl/ShortenUrl'
2025-09-05 00:59:54.255 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 00:59:54.260 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 00:59:54.266 +03:00 [INF] Route matched with {action = "ShortenUrl", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShortenUrl(UrlShortener.Dtos.Request.CreateShortenUrlRequest, FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 00:59:54.274 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 00:59:54.280 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 00:59:54.286 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 00:59:54.294 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 00:59:54.301 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 00:59:54.311 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 00:59:54.332 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 00:59:54.339 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' ...
2025-09-05 00:59:54.347 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' using the name '' in request data ...
2025-09-05 00:59:54.356 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-05 00:59:54.364 +03:00 [DBG] Connection id "0HNFBVNKR0UFL", Request id "0HNFBVNKR0UFL:00000001": started reading request body.
2025-09-05 00:59:54.371 +03:00 [DBG] Connection id "0HNFBVNKR0UFL", Request id "0HNFBVNKR0UFL:00000001": done reading request body.
2025-09-05 00:59:54.380 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'
2025-09-05 00:59:54.384 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 00:59:54.392 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 00:59:54.399 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' ...
2025-09-05 00:59:54.407 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 00:59:54.414 +03:00 [DBG] Attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]' ...
2025-09-05 00:59:54.422 +03:00 [DBG] Done attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]'.
2025-09-05 00:59:54.430 +03:00 [DBG] Attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]' ...
2025-09-05 00:59:54.437 +03:00 [DBG] Done attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]'.
2025-09-05 00:59:54.674 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 00:59:54.691 +03:00 [DBG] Creating DbConnection.
2025-09-05 00:59:54.694 +03:00 [DBG] Created DbConnection. (3ms).
2025-09-05 00:59:54.700 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 00:59:54.705 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 00:59:54.712 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:59:54.717 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-05 00:59:54.723 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-09-05 00:59:54.728 +03:00 [DBG] Executing DbCommand [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[OriginalUrl] = @__originalUrl_0
2025-09-05 00:59:54.742 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[OriginalUrl] = @__originalUrl_0
2025-09-05 00:59:54.753 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:59:54.759 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 6ms reading results.
2025-09-05 00:59:54.764 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 00:59:54.769 +03:00 [DBG] Closed connection to database 'db' on server '.' (4ms).
2025-09-05 00:59:54.782 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 00:59:54.787 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 00:59:54.793 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-05 00:59:54.798 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-05 00:59:54.803 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:59:54.808 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-05 00:59:54.814 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-09-05 00:59:54.819 +03:00 [DBG] Executing DbCommand [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Urls] AS [u]
        WHERE [u].[OriginalUrl] = @__originalUrl_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-05 00:59:54.833 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Urls] AS [u]
        WHERE [u].[OriginalUrl] = @__originalUrl_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-05 00:59:54.842 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:59:54.847 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 4ms reading results.
2025-09-05 00:59:54.854 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:59:54.858 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-05 00:59:54.862 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-09-05 00:59:54.868 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ShortenedUrl]
FROM [Urls] AS [u]
2025-09-05 00:59:54.879 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ShortenedUrl]
FROM [Urls] AS [u]
2025-09-05 00:59:54.887 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:59:54.892 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 5ms reading results.
2025-09-05 00:59:54.900 +03:00 [INF] Start Proccess of Shortening URL
2025-09-05 00:59:54.903 +03:00 [INF] https://docs.docker.com/compose/how-tos/project-name/
2025-09-05 00:59:54.907 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:59:54.911 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-05 00:59:54.916 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-09-05 00:59:54.920 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Urls] AS [u]
2025-09-05 00:59:54.930 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Urls] AS [u]
2025-09-05 00:59:54.943 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:59:54.948 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 6ms reading results.
2025-09-05 00:59:54.956 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Url' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 00:59:54.961 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UrlClick' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 00:59:54.967 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-09-05 00:59:54.971 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-09-05 00:59:54.975 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-09-05 00:59:54.980 +03:00 [DBG] Executing 2 update commands as a batch.
2025-09-05 00:59:54.983 +03:00 [DBG] Creating transaction savepoint.
2025-09-05 00:59:54.987 +03:00 [DBG] Created transaction savepoint.
2025-09-05 00:59:54.990 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 00:59:54.993 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-05 00:59:54.998 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-09-05 00:59:55.002 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UrlClicks] ([Id], [ClickCount], [LastAccessedAt])
VALUES (@p0, @p1, @p2);
INSERT INTO [Urls] ([Id], [CreatedAt], [IsActive], [No], [OriginalUrl], [ShortenedUrl])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
2025-09-05 00:59:55.017 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UrlClicks] ([Id], [ClickCount], [LastAccessedAt])
VALUES (@p0, @p1, @p2);
INSERT INTO [Urls] ([Id], [CreatedAt], [IsActive], [No], [OriginalUrl], [ShortenedUrl])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
2025-09-05 00:59:55.025 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 00:59:55.030 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 4ms reading results.
2025-09-05 00:59:55.036 +03:00 [DBG] An entity of type 'Url' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 00:59:55.043 +03:00 [DBG] An entity of type 'UrlClick' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 00:59:55.049 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2025-09-05 00:59:55.054 +03:00 [DBG] Committing transaction.
2025-09-05 00:59:55.058 +03:00 [DBG] Committed transaction.
2025-09-05 00:59:55.061 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 00:59:55.067 +03:00 [DBG] Closed connection to database 'db' on server '.' (6ms).
2025-09-05 00:59:55.072 +03:00 [DBG] Disposing transaction.
2025-09-05 00:59:55.077 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 00:59:55.083 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 00:59:55.086 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 00:59:55.089 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 00:59:55.092 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 00:59:55.096 +03:00 [INF] Executing OkObjectResult, writing value of type 'UrlShortener.Dtos.Response.Response`1[[UrlShortener.Dtos.Response.ShortenUrlDto, urlshortener, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-05 00:59:55.101 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener) in 790.5212ms
2025-09-05 00:59:55.105 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 00:59:55.109 +03:00 [DBG] Connection id "0HNFBVNKR0UFL" completed keep alive response.
2025-09-05 00:59:55.113 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 00:59:55.116 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 00:59:55.122 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-05 00:59:55.127 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/ShortenUrl - 200 null application/json; charset=utf-8 901.6105ms
2025-09-05 00:59:58.515 +03:00 [DBG] Connection id "0HNFBVNKR0UFL" received FIN.
2025-09-05 00:59:58.519 +03:00 [DBG] Connection id "0HNFBVNKR0UFL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 00:59:58.522 +03:00 [DBG] Connection id "0HNFBVNKR0UFL" disconnecting.
2025-09-05 00:59:58.527 +03:00 [DBG] Connection id "0HNFBVNKR0UFL" stopped.
2025-09-05 01:00:03.374 +03:00 [INF] Application is shutting down...
2025-09-05 01:00:03.376 +03:00 [DBG] Hosting stopping
2025-09-05 01:00:03.392 +03:00 [DBG] Hosting stopped
2025-09-05 01:00:13.254 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 01:00:13.954 +03:00 [DBG] Hosting starting
2025-09-05 01:00:14.787 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 01:00:14.871 +03:00 [DBG] Connection id "0HNFBVPMOQE64" accepted.
2025-09-05 01:00:14.902 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 01:00:14.953 +03:00 [DBG] Connection id "0HNFBVPMOQE65" accepted.
2025-09-05 01:00:14.968 +03:00 [DBG] Connection id "0HNFBVPMOQE64" started.
2025-09-05 01:00:14.971 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 01:00:15.021 +03:00 [DBG] Connection id "0HNFBVPMOQE65" started.
2025-09-05 01:00:15.055 +03:00 [INF] Hosting environment: Development
2025-09-05 01:00:15.091 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 01:00:15.138 +03:00 [DBG] Hosting started
2025-09-05 01:00:17.127 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 01:00:17.267 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 01:00:18.018 +03:00 [DBG] Connection id "0HNFBVPMOQE64" completed keep alive response.
2025-09-05 01:00:18.043 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 916.3437ms
2025-09-05 01:00:18.588 +03:00 [DBG] Connection id "0HNFBVPMOQE65" received FIN.
2025-09-05 01:00:18.588 +03:00 [DBG] Connection id "0HNFBVPMOQE64" received FIN.
2025-09-05 01:00:18.603 +03:00 [DBG] Connection id "0HNFBVPMOQE64" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:00:18.604 +03:00 [DBG] Connection id "0HNFBVPMOQE65" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:00:18.612 +03:00 [DBG] Connection id "0HNFBVPMOQE64" disconnecting.
2025-09-05 01:00:18.615 +03:00 [DBG] Connection id "0HNFBVPMOQE65" disconnecting.
2025-09-05 01:00:18.623 +03:00 [DBG] Connection id "0HNFBVPMOQE64" stopped.
2025-09-05 01:00:18.623 +03:00 [DBG] Connection id "0HNFBVPMOQE65" stopped.
2025-09-05 01:00:39.822 +03:00 [DBG] Connection id "0HNFBVPMOQE66" accepted.
2025-09-05 01:00:39.832 +03:00 [DBG] Connection id "0HNFBVPMOQE66" started.
2025-09-05 01:00:39.844 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/ShortenUrl - application/json 76
2025-09-05 01:00:39.897 +03:00 [DBG] The request has an origin header: 'http://localhost:5544'.
2025-09-05 01:00:39.904 +03:00 [INF] CORS policy execution successful.
2025-09-05 01:00:39.918 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-05 01:00:40.033 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/ShortenUrl'
2025-09-05 01:00:40.045 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)' with route pattern 'api/ShortenUrl/ShortenUrl' is valid for the request path '/api/ShortenUrl/ShortenUrl'
2025-09-05 01:00:40.052 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 01:00:40.059 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 01:00:40.169 +03:00 [INF] Route matched with {action = "ShortenUrl", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShortenUrl(UrlShortener.Dtos.Request.CreateShortenUrlRequest, FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 01:00:40.180 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 01:00:40.189 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 01:00:40.200 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 01:00:40.208 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 01:00:40.217 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 01:00:40.229 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 01:00:40.455 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-05 01:00:40.527 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 01:00:40.546 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' ...
2025-09-05 01:00:40.558 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' using the name '' in request data ...
2025-09-05 01:00:40.567 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-05 01:00:40.669 +03:00 [DBG] Connection id "0HNFBVPMOQE66", Request id "0HNFBVPMOQE66:00000001": started reading request body.
2025-09-05 01:00:40.676 +03:00 [DBG] Connection id "0HNFBVPMOQE66", Request id "0HNFBVPMOQE66:00000001": done reading request body.
2025-09-05 01:00:40.735 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'
2025-09-05 01:00:40.740 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 01:00:40.745 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 01:00:40.752 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' ...
2025-09-05 01:00:40.774 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 01:00:40.786 +03:00 [DBG] Attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]' ...
2025-09-05 01:00:40.846 +03:00 [DBG] Done attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]'.
2025-09-05 01:00:40.854 +03:00 [DBG] Attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]' ...
2025-09-05 01:00:40.867 +03:00 [DBG] Done attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]'.
2025-09-05 01:00:41.916 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 01:00:42.002 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .FirstOrDefault(x => x.OriginalUrl == __originalUrl_0)'
2025-09-05 01:00:42.565 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Url>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Url>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.OriginalUrl == @__originalUrl_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.OriginalUrl == @__originalUrl_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Url entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Url instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Url);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Url)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                            {
                                return 
                                {
                                    Url instance;
                                    instance = new Url();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                    instance.<No>k__BackingField = dataReader.GetInt32(3);
                                    instance.<OriginalUrl>k__BackingField = dataReader.GetString(4);
                                    instance.<ShortenedUrl>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Url)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 01:00:42.687 +03:00 [DBG] Creating DbConnection.
2025-09-05 01:00:42.728 +03:00 [DBG] Created DbConnection. (37ms).
2025-09-05 01:00:42.737 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:00:43.159 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:00:43.174 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:00:43.202 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (15ms).
2025-09-05 01:00:43.239 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (64ms).
2025-09-05 01:00:43.281 +03:00 [DBG] Executing DbCommand [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[OriginalUrl] = @__originalUrl_0
2025-09-05 01:00:43.433 +03:00 [INF] Executed DbCommand (171ms) [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[OriginalUrl] = @__originalUrl_0
2025-09-05 01:00:43.484 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:00:43.522 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 62ms reading results.
2025-09-05 01:00:43.544 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:00:43.576 +03:00 [DBG] Closed connection to database 'db' on server '.' (32ms).
2025-09-05 01:00:43.623 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:00:43.634 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:00:43.653 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-05 01:00:43.671 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-05 01:00:43.678 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .Any(u => u.OriginalUrl == __originalUrl_0)'
2025-09-05 01:00:43.702 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Urls AS u
                WHERE u.OriginalUrl == @__originalUrl_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Urls AS u
                WHERE u.OriginalUrl == @__originalUrl_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 01:00:43.757 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:00:43.762 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-05 01:00:43.773 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-09-05 01:00:43.779 +03:00 [DBG] Executing DbCommand [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Urls] AS [u]
        WHERE [u].[OriginalUrl] = @__originalUrl_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-05 01:00:43.803 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Urls] AS [u]
        WHERE [u].[OriginalUrl] = @__originalUrl_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-05 01:00:43.836 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:00:43.843 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 29ms reading results.
2025-09-05 01:00:43.867 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .Select(u => u.ShortenedUrl)'
2025-09-05 01:00:43.905 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT u.ShortenedUrl
        FROM Urls AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT u.ShortenedUrl
        FROM Urls AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.GetString(0);
        return value1;
    }, 
    contextType: UrlShortener.Data.ApplicationDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-05 01:00:43.921 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:00:43.929 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-09-05 01:00:43.945 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2025-09-05 01:00:43.953 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ShortenedUrl]
FROM [Urls] AS [u]
2025-09-05 01:00:43.972 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ShortenedUrl]
FROM [Urls] AS [u]
2025-09-05 01:00:43.985 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:00:43.990 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 7ms reading results.
2025-09-05 01:00:43.996 +03:00 [INF] Start Proccess of Shortening URL
2025-09-05 01:00:44.001 +03:00 [INF] https://docs.docker.com/compose/how-tos/project-name/
2025-09-05 01:00:44.006 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .Count()'
2025-09-05 01:00:44.118 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Urls AS u) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Urls AS u, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 01:00:44.159 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:00:44.166 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-09-05 01:00:44.173 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-09-05 01:00:44.185 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Urls] AS [u]
2025-09-05 01:00:44.206 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Urls] AS [u]
2025-09-05 01:00:44.232 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:00:44.239 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 17ms reading results.
2025-09-05 01:00:44.496 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Url' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:00:44.527 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UrlClick' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:00:44.540 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-09-05 01:00:44.554 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-09-05 01:00:44.603 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-09-05 01:00:44.719 +03:00 [DBG] Executing 2 update commands as a batch.
2025-09-05 01:00:44.729 +03:00 [DBG] Creating transaction savepoint.
2025-09-05 01:00:44.749 +03:00 [DBG] Created transaction savepoint.
2025-09-05 01:00:44.758 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:00:44.763 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-05 01:00:44.767 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-09-05 01:00:44.771 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UrlClicks] ([Id], [ClickCount], [LastAccessedAt])
VALUES (@p0, @p1, @p2);
INSERT INTO [Urls] ([Id], [CreatedAt], [IsActive], [No], [OriginalUrl], [ShortenedUrl])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
2025-09-05 01:00:44.781 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UrlClicks] ([Id], [ClickCount], [LastAccessedAt])
VALUES (@p0, @p1, @p2);
INSERT INTO [Urls] ([Id], [CreatedAt], [IsActive], [No], [OriginalUrl], [ShortenedUrl])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
2025-09-05 01:00:44.792 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:00:44.796 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 9ms reading results.
2025-09-05 01:00:44.833 +03:00 [DBG] An entity of type 'Url' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:00:44.846 +03:00 [DBG] An entity of type 'UrlClick' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:00:44.864 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2025-09-05 01:00:44.880 +03:00 [DBG] Committing transaction.
2025-09-05 01:00:44.895 +03:00 [DBG] Committed transaction.
2025-09-05 01:00:44.904 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:00:44.910 +03:00 [DBG] Closed connection to database 'db' on server '.' (6ms).
2025-09-05 01:00:44.922 +03:00 [DBG] Disposing transaction.
2025-09-05 01:00:44.937 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 01:00:44.949 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 01:00:44.953 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 01:00:44.956 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 01:00:44.962 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 01:00:44.969 +03:00 [INF] Executing OkObjectResult, writing value of type 'UrlShortener.Dtos.Response.Response`1[[UrlShortener.Dtos.Response.ShortenUrlDto, urlshortener, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-05 01:00:45.066 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener) in 4836.3621ms
2025-09-05 01:00:45.073 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 01:00:45.080 +03:00 [DBG] Connection id "0HNFBVPMOQE66" completed keep alive response.
2025-09-05 01:00:45.089 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 01:00:45.102 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 01:00:45.112 +03:00 [DBG] Disposed connection to database '' on server '' (9ms).
2025-09-05 01:00:45.121 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/ShortenUrl - 200 null application/json; charset=utf-8 5277.2066ms
2025-09-05 01:00:48.631 +03:00 [DBG] Connection id "0HNFBVPMOQE66" received FIN.
2025-09-05 01:00:48.635 +03:00 [DBG] Connection id "0HNFBVPMOQE66" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:00:48.640 +03:00 [DBG] Connection id "0HNFBVPMOQE66" disconnecting.
2025-09-05 01:00:48.646 +03:00 [DBG] Connection id "0HNFBVPMOQE66" stopped.
2025-09-05 01:01:07.606 +03:00 [DBG] Connection id "0HNFBVPMOQE67" accepted.
2025-09-05 01:01:07.610 +03:00 [DBG] Connection id "0HNFBVPMOQE67" started.
2025-09-05 01:01:07.616 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/UpdateCount - application/json 62
2025-09-05 01:01:07.630 +03:00 [DBG] The request has an origin header: 'http://localhost:5544'.
2025-09-05 01:01:07.635 +03:00 [INF] CORS policy execution successful.
2025-09-05 01:01:07.639 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/UpdateCount'
2025-09-05 01:01:07.642 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.UpdateCount (urlshortener)' with route pattern 'api/ShortenUrl/UpdateCount' is valid for the request path '/api/ShortenUrl/UpdateCount'
2025-09-05 01:01:07.646 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.UpdateCount (urlshortener)'
2025-09-05 01:01:07.649 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.UpdateCount (urlshortener)'
2025-09-05 01:01:07.662 +03:00 [INF] Route matched with {action = "UpdateCount", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCount(UrlShortener.Dtos.Request.UpdateUrlRequest, FluentValidation.IValidator`1[UrlShortener.Dtos.Request.UpdateUrlRequest]) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 01:01:07.667 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 01:01:07.671 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 01:01:07.675 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 01:01:07.678 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 01:01:07.683 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 01:01:07.687 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 01:01:07.692 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 01:01:07.697 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest' ...
2025-09-05 01:01:07.700 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest' using the name '' in request data ...
2025-09-05 01:01:07.703 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-05 01:01:07.709 +03:00 [DBG] Connection id "0HNFBVPMOQE67", Request id "0HNFBVPMOQE67:00000001": started reading request body.
2025-09-05 01:01:07.712 +03:00 [DBG] Connection id "0HNFBVPMOQE67", Request id "0HNFBVPMOQE67:00000001": done reading request body.
2025-09-05 01:01:07.718 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'UrlShortener.Dtos.Request.UpdateUrlRequest'
2025-09-05 01:01:07.721 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest'.
2025-09-05 01:01:07.724 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest'.
2025-09-05 01:01:07.728 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest' ...
2025-09-05 01:01:07.733 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest'.
2025-09-05 01:01:07.735 +03:00 [DBG] Attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.UpdateUrlRequest]' ...
2025-09-05 01:01:07.749 +03:00 [DBG] Done attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.UpdateUrlRequest]'.
2025-09-05 01:01:07.755 +03:00 [DBG] Attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.UpdateUrlRequest]' ...
2025-09-05 01:01:07.760 +03:00 [DBG] Done attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.UpdateUrlRequest]'.
2025-09-05 01:01:07.803 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 01:01:07.813 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .FirstOrDefault(x => x.Id == __request_shortenedUrlId_0)'
2025-09-05 01:01:07.832 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Url>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Url>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.Id == @__request_shortenedUrlId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.Id == @__request_shortenedUrlId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Url entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Url instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Url);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Url)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                            {
                                return 
                                {
                                    Url instance;
                                    instance = new Url();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                    instance.<No>k__BackingField = dataReader.GetInt32(3);
                                    instance.<OriginalUrl>k__BackingField = dataReader.GetString(4);
                                    instance.<ShortenedUrl>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Url)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 01:01:07.847 +03:00 [DBG] Creating DbConnection.
2025-09-05 01:01:07.852 +03:00 [DBG] Created DbConnection. (4ms).
2025-09-05 01:01:07.856 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:01:07.860 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:01:07.864 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:01:07.867 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-05 01:01:07.870 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-09-05 01:01:07.874 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_shortenedUrlId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_shortenedUrlId_0
2025-09-05 01:01:07.881 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_shortenedUrlId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_shortenedUrlId_0
2025-09-05 01:01:07.895 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Url' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:01:07.902 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:01:07.906 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 19ms reading results.
2025-09-05 01:01:07.912 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:01:07.917 +03:00 [DBG] Closed connection to database 'db' on server '.' (5ms).
2025-09-05 01:01:07.942 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:01:07.950 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:01:07.958 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-05 01:01:07.964 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-05 01:01:07.972 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .FirstOrDefault(x => x.Id == __request_shortenedUrlId_0 && x.IsActive)'
2025-09-05 01:01:07.994 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Url>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Url>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE (u.Id == @__request_shortenedUrlId_0) && u.IsActive) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE (u.Id == @__request_shortenedUrlId_0) && u.IsActive, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Url entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Url instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Url);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Url)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                            {
                                return 
                                {
                                    Url instance;
                                    instance = new Url();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                    instance.<No>k__BackingField = dataReader.GetInt32(3);
                                    instance.<OriginalUrl>k__BackingField = dataReader.GetString(4);
                                    instance.<ShortenedUrl>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Url)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 01:01:08.013 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:01:08.018 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-05 01:01:08.025 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-05 01:01:08.032 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_shortenedUrlId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_shortenedUrlId_0 AND [u].[IsActive] = CAST(1 AS bit)
2025-09-05 01:01:08.047 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_shortenedUrlId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_shortenedUrlId_0 AND [u].[IsActive] = CAST(1 AS bit)
2025-09-05 01:01:08.060 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:01:08.067 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 8ms reading results.
2025-09-05 01:01:08.077 +03:00 [DBG] Compiling query expression: 
'DbSet<UrlClick>()
    .FirstOrDefault(x => x.Id == __url_Id_0)'
2025-09-05 01:01:08.098 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UrlClick>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UrlClick>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
            SELECT TOP(1) u.Id, u.ClickCount, u.LastAccessedAt
            FROM UrlClicks AS u
            WHERE u.Id == @__url_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
            SELECT TOP(1) u.Id, u.ClickCount, u.LastAccessedAt
            FROM UrlClicks AS u
            WHERE u.Id == @__url_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            UrlClick entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UrlClick instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UrlClick);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UrlClick.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (UrlClick)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]: 
                            {
                                return 
                                {
                                    UrlClick instance;
                                    instance = new UrlClick();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ClickCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<LastAccessedAt>k__BackingField = dataReader.IsDBNull(2) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UrlClick)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 01:01:08.160 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:01:08.178 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (17ms).
2025-09-05 01:01:08.232 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (71ms).
2025-09-05 01:01:08.237 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] = @__url_Id_0
2025-09-05 01:01:08.351 +03:00 [INF] Executed DbCommand (113ms) [Parameters=[@__url_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] = @__url_Id_0
2025-09-05 01:01:08.487 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UrlClick' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:01:08.493 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:01:08.499 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 14ms reading results.
2025-09-05 01:01:08.505 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-09-05 01:01:08.509 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-09-05 01:01:08.519 +03:00 [DBG] The unchanged property 'UrlClick.ClickCount' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-05 01:01:08.529 +03:00 [DBG] An entity of type 'UrlClick' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:01:08.535 +03:00 [DBG] The unchanged property 'UrlClick.LastAccessedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-05 01:01:08.539 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-09-05 01:01:08.568 +03:00 [DBG] Creating transaction savepoint.
2025-09-05 01:01:08.576 +03:00 [DBG] Created transaction savepoint.
2025-09-05 01:01:08.580 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:01:08.588 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-09-05 01:01:08.597 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-09-05 01:01:08.603 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UrlClicks] SET [ClickCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-09-05 01:01:08.625 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UrlClicks] SET [ClickCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-09-05 01:01:08.644 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:01:08.650 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 15ms reading results.
2025-09-05 01:01:08.662 +03:00 [DBG] An entity of type 'UrlClick' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:01:08.671 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-09-05 01:01:08.678 +03:00 [DBG] Committing transaction.
2025-09-05 01:01:08.683 +03:00 [DBG] Committed transaction.
2025-09-05 01:01:08.688 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:01:08.695 +03:00 [DBG] Closed connection to database 'db' on server '.' (6ms).
2025-09-05 01:01:08.702 +03:00 [DBG] Disposing transaction.
2025-09-05 01:01:08.705 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 01:01:08.713 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 01:01:08.717 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 01:01:08.721 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 01:01:08.725 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 01:01:08.729 +03:00 [INF] Executing OkObjectResult, writing value of type 'UrlShortener.Dtos.Response.Response`1[[UrlShortener.Dtos.Response.UpdateUrlDto, urlshortener, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-05 01:01:08.742 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.UpdateCount (urlshortener) in 1055.3863ms
2025-09-05 01:01:08.746 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.UpdateCount (urlshortener)'
2025-09-05 01:01:08.750 +03:00 [DBG] Connection id "0HNFBVPMOQE67" completed keep alive response.
2025-09-05 01:01:08.755 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 01:01:08.758 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 01:01:08.763 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-05 01:01:08.769 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/UpdateCount - 200 null application/json; charset=utf-8 1153.3724ms
2025-09-05 01:01:17.545 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetById?Id=98ada45a-e75c-41da-b729-616a1311c57b - null null
2025-09-05 01:01:17.557 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/GetById'
2025-09-05 01:01:17.563 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)' with route pattern 'api/ShortenUrl/GetById' is valid for the request path '/api/ShortenUrl/GetById'
2025-09-05 01:01:17.571 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 01:01:17.575 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 01:01:17.587 +03:00 [INF] Route matched with {action = "GetUrlById", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUrlById(UrlShortener.Dtos.Request.GetUrlRequest, FluentValidation.IValidator`1[UrlShortener.Dtos.Request.GetUrlRequest]) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 01:01:17.594 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 01:01:17.599 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 01:01:17.604 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 01:01:17.608 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 01:01:17.611 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 01:01:17.616 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 01:01:17.629 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 01:01:17.641 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' ...
2025-09-05 01:01:17.648 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' using the name '' in request data ...
2025-09-05 01:01:17.659 +03:00 [DBG] Attempting to bind property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid' using the name 'Id' in request data ...
2025-09-05 01:01:17.668 +03:00 [DBG] Done attempting to bind property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid'.
2025-09-05 01:01:17.676 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 01:01:17.681 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 01:01:17.686 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' ...
2025-09-05 01:01:17.691 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 01:01:17.695 +03:00 [DBG] Attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.GetUrlRequest]' ...
2025-09-05 01:01:17.703 +03:00 [DBG] Done attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.GetUrlRequest]'.
2025-09-05 01:01:17.707 +03:00 [DBG] Attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.GetUrlRequest]' ...
2025-09-05 01:01:17.712 +03:00 [DBG] Done attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.GetUrlRequest]'.
2025-09-05 01:01:17.875 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 01:01:17.885 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .FirstOrDefault(x => x.Id == __request_Id_0)'
2025-09-05 01:01:17.904 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Url>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Url>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.Id == @__request_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.Id == @__request_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Url entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Url instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Url);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Url)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                            {
                                return 
                                {
                                    Url instance;
                                    instance = new Url();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                    instance.<No>k__BackingField = dataReader.GetInt32(3);
                                    instance.<OriginalUrl>k__BackingField = dataReader.GetString(4);
                                    instance.<ShortenedUrl>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Url)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 01:01:17.923 +03:00 [DBG] Creating DbConnection.
2025-09-05 01:01:17.928 +03:00 [DBG] Created DbConnection. (4ms).
2025-09-05 01:01:17.933 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:01:17.940 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:01:17.947 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:01:17.954 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-09-05 01:01:17.959 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-05 01:01:17.965 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 01:01:17.978 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 01:01:17.987 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Url' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:01:17.992 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:01:17.998 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 11ms reading results.
2025-09-05 01:01:18.003 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:01:18.009 +03:00 [DBG] Closed connection to database 'db' on server '.' (5ms).
2025-09-05 01:01:18.034 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:01:18.039 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:01:18.045 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:01:18.051 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-05 01:01:18.057 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-05 01:01:18.062 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 01:01:18.070 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 01:01:18.078 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:01:18.082 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 4ms reading results.
2025-09-05 01:01:18.088 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:01:18.091 +03:00 [DBG] Closed connection to database 'db' on server '.' (3ms).
2025-09-05 01:01:18.098 +03:00 [DBG] Compiling query expression: 
'DbSet<UrlClick>()
    .FirstOrDefault(x => x.Id == __request_Id_0)'
2025-09-05 01:01:18.114 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UrlClick>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UrlClick>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
            SELECT TOP(1) u.Id, u.ClickCount, u.LastAccessedAt
            FROM UrlClicks AS u
            WHERE u.Id == @__request_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
            SELECT TOP(1) u.Id, u.ClickCount, u.LastAccessedAt
            FROM UrlClicks AS u
            WHERE u.Id == @__request_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            UrlClick entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UrlClick instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UrlClick);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UrlClick.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (UrlClick)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]: 
                            {
                                return 
                                {
                                    UrlClick instance;
                                    instance = new UrlClick();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ClickCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<LastAccessedAt>k__BackingField = dataReader.IsDBNull(2) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UrlClick)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 01:01:18.128 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:01:18.132 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:01:18.136 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:01:18.140 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-05 01:01:18.145 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-09-05 01:01:18.149 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 01:01:18.158 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 01:01:18.167 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UrlClick' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:01:18.172 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:01:18.177 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 10ms reading results.
2025-09-05 01:01:18.183 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:01:18.188 +03:00 [DBG] Closed connection to database 'db' on server '.' (5ms).
2025-09-05 01:01:18.195 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 01:01:18.203 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 01:01:18.206 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 01:01:18.209 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 01:01:18.211 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 01:01:18.216 +03:00 [INF] Executing OkObjectResult, writing value of type 'UrlShortener.Dtos.Response.Response`1[[UrlShortener.Dtos.Response.ShortenUrlDto, urlshortener, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-05 01:01:18.225 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener) in 608.7774ms
2025-09-05 01:01:18.230 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 01:01:18.234 +03:00 [DBG] Connection id "0HNFBVPMOQE67" completed keep alive response.
2025-09-05 01:01:18.238 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 01:01:18.243 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 01:01:18.249 +03:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-09-05 01:01:18.255 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetById?Id=98ada45a-e75c-41da-b729-616a1311c57b - 200 null application/json; charset=utf-8 709.5943ms
2025-09-05 01:01:18.669 +03:00 [DBG] Connection id "0HNFBVPMOQE67" received FIN.
2025-09-05 01:01:18.672 +03:00 [DBG] Connection id "0HNFBVPMOQE67" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:01:18.676 +03:00 [DBG] Connection id "0HNFBVPMOQE67" disconnecting.
2025-09-05 01:01:18.680 +03:00 [DBG] Connection id "0HNFBVPMOQE67" stopped.
2025-09-05 01:03:09.180 +03:00 [INF] Application is shutting down...
2025-09-05 01:03:09.183 +03:00 [DBG] Hosting stopping
2025-09-05 01:03:09.208 +03:00 [DBG] Hosting stopped
2025-09-05 01:03:20.793 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 01:03:22.263 +03:00 [DBG] Hosting starting
2025-09-05 01:03:22.807 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 01:03:22.817 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 01:03:22.832 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 01:03:22.847 +03:00 [INF] Hosting environment: Development
2025-09-05 01:03:22.862 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 01:03:22.882 +03:00 [DBG] Hosting started
2025-09-05 01:03:22.936 +03:00 [DBG] Connection id "0HNFBVREQBF6L" accepted.
2025-09-05 01:03:22.951 +03:00 [DBG] Connection id "0HNFBVREQBF6L" started.
2025-09-05 01:03:22.953 +03:00 [DBG] Connection id "0HNFBVREQBF6M" accepted.
2025-09-05 01:03:22.975 +03:00 [DBG] Connection id "0HNFBVREQBF6M" started.
2025-09-05 01:03:24.635 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 01:03:24.687 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 01:03:25.297 +03:00 [DBG] Connection id "0HNFBVREQBF6L" completed keep alive response.
2025-09-05 01:03:25.308 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 685.898ms
2025-09-05 01:03:25.477 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/UpdateCount - application/json 62
2025-09-05 01:03:25.612 +03:00 [DBG] The request has an origin header: 'http://localhost:5544'.
2025-09-05 01:03:25.641 +03:00 [INF] CORS policy execution successful.
2025-09-05 01:03:25.658 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-05 01:03:25.800 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/UpdateCount'
2025-09-05 01:03:25.863 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.UpdateCount (urlshortener)' with route pattern 'api/ShortenUrl/UpdateCount' is valid for the request path '/api/ShortenUrl/UpdateCount'
2025-09-05 01:03:25.874 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.UpdateCount (urlshortener)'
2025-09-05 01:03:25.887 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.UpdateCount (urlshortener)'
2025-09-05 01:03:25.998 +03:00 [INF] Route matched with {action = "UpdateCount", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCount(UrlShortener.Dtos.Request.UpdateUrlRequest, FluentValidation.IValidator`1[UrlShortener.Dtos.Request.UpdateUrlRequest]) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 01:03:26.020 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 01:03:26.030 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 01:03:26.045 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 01:03:26.054 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 01:03:26.061 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 01:03:26.076 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 01:03:26.325 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-05 01:03:26.362 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 01:03:26.374 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest' ...
2025-09-05 01:03:26.381 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest' using the name '' in request data ...
2025-09-05 01:03:26.388 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-05 01:03:26.446 +03:00 [DBG] Connection id "0HNFBVREQBF6L", Request id "0HNFBVREQBF6L:00000002": started reading request body.
2025-09-05 01:03:26.452 +03:00 [DBG] Connection id "0HNFBVREQBF6L", Request id "0HNFBVREQBF6L:00000002": done reading request body.
2025-09-05 01:03:26.509 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'UrlShortener.Dtos.Request.UpdateUrlRequest'
2025-09-05 01:03:26.516 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest'.
2025-09-05 01:03:26.523 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest'.
2025-09-05 01:03:26.529 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest' ...
2025-09-05 01:03:26.553 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest'.
2025-09-05 01:03:26.565 +03:00 [DBG] Attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.UpdateUrlRequest]' ...
2025-09-05 01:03:26.622 +03:00 [DBG] Done attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.UpdateUrlRequest]'.
2025-09-05 01:03:26.627 +03:00 [DBG] Attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.UpdateUrlRequest]' ...
2025-09-05 01:03:26.637 +03:00 [DBG] Done attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.UpdateUrlRequest]'.
2025-09-05 01:03:27.858 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 01:03:27.987 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .FirstOrDefault(x => x.Id == __request_shortenedUrlId_0)'
2025-09-05 01:03:28.797 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Url>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Url>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.Id == @__request_shortenedUrlId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.Id == @__request_shortenedUrlId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Url entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Url instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Url);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Url)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                            {
                                return 
                                {
                                    Url instance;
                                    instance = new Url();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                    instance.<No>k__BackingField = dataReader.GetInt32(3);
                                    instance.<OriginalUrl>k__BackingField = dataReader.GetString(4);
                                    instance.<ShortenedUrl>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Url)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 01:03:28.831 +03:00 [DBG] Connection id "0HNFBVREQBF6M" received FIN.
2025-09-05 01:03:28.864 +03:00 [DBG] Connection id "0HNFBVREQBF6M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:03:28.876 +03:00 [DBG] Connection id "0HNFBVREQBF6M" disconnecting.
2025-09-05 01:03:28.892 +03:00 [DBG] Connection id "0HNFBVREQBF6M" stopped.
2025-09-05 01:03:28.990 +03:00 [DBG] Creating DbConnection.
2025-09-05 01:03:29.045 +03:00 [DBG] Created DbConnection. (49ms).
2025-09-05 01:03:29.055 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:03:29.355 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:03:29.368 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:03:29.385 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2025-09-05 01:03:29.403 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (36ms).
2025-09-05 01:03:29.424 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_shortenedUrlId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_shortenedUrlId_0
2025-09-05 01:03:29.511 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@__request_shortenedUrlId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_shortenedUrlId_0
2025-09-05 01:03:29.591 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Url' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:03:29.659 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:03:29.677 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 149ms reading results.
2025-09-05 01:03:29.689 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:03:29.702 +03:00 [DBG] Closed connection to database 'db' on server '.' (13ms).
2025-09-05 01:03:29.721 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:03:29.728 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:03:29.733 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-05 01:03:29.748 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-05 01:03:29.754 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .FirstOrDefault(x => x.Id == __request_shortenedUrlId_0 && x.IsActive)'
2025-09-05 01:03:29.771 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Url>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Url>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE (u.Id == @__request_shortenedUrlId_0) && u.IsActive) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE (u.Id == @__request_shortenedUrlId_0) && u.IsActive, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Url entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Url instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Url);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Url)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                            {
                                return 
                                {
                                    Url instance;
                                    instance = new Url();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                    instance.<No>k__BackingField = dataReader.GetInt32(3);
                                    instance.<OriginalUrl>k__BackingField = dataReader.GetString(4);
                                    instance.<ShortenedUrl>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Url)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 01:03:29.789 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:03:29.795 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-05 01:03:29.804 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-09-05 01:03:29.812 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_shortenedUrlId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_shortenedUrlId_0 AND [u].[IsActive] = CAST(1 AS bit)
2025-09-05 01:03:29.834 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_shortenedUrlId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_shortenedUrlId_0 AND [u].[IsActive] = CAST(1 AS bit)
2025-09-05 01:03:29.852 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:03:29.860 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 11ms reading results.
2025-09-05 01:03:29.873 +03:00 [DBG] Compiling query expression: 
'DbSet<UrlClick>()
    .FirstOrDefault(x => x.Id == __url_Id_0)'
2025-09-05 01:03:29.899 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UrlClick>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UrlClick>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
            SELECT TOP(1) u.Id, u.ClickCount, u.LastAccessedAt
            FROM UrlClicks AS u
            WHERE u.Id == @__url_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
            SELECT TOP(1) u.Id, u.ClickCount, u.LastAccessedAt
            FROM UrlClicks AS u
            WHERE u.Id == @__url_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            UrlClick entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UrlClick instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UrlClick);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UrlClick.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (UrlClick)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]: 
                            {
                                return 
                                {
                                    UrlClick instance;
                                    instance = new UrlClick();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ClickCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<LastAccessedAt>k__BackingField = dataReader.IsDBNull(2) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UrlClick)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 01:03:29.916 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:03:29.924 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-09-05 01:03:29.931 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-09-05 01:03:29.938 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] = @__url_Id_0
2025-09-05 01:03:29.948 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__url_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] = @__url_Id_0
2025-09-05 01:03:29.963 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UrlClick' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:03:29.985 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:03:29.993 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 39ms reading results.
2025-09-05 01:03:30.005 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-09-05 01:03:30.014 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-09-05 01:03:30.072 +03:00 [DBG] The unchanged property 'UrlClick.ClickCount' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-05 01:03:30.094 +03:00 [DBG] An entity of type 'UrlClick' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:03:30.108 +03:00 [DBG] The unchanged property 'UrlClick.LastAccessedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-05 01:03:30.116 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-09-05 01:03:30.220 +03:00 [DBG] Creating transaction savepoint.
2025-09-05 01:03:30.242 +03:00 [DBG] Created transaction savepoint.
2025-09-05 01:03:30.250 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:03:30.255 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-05 01:03:30.260 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-09-05 01:03:30.266 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UrlClicks] SET [ClickCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-09-05 01:03:30.280 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UrlClicks] SET [ClickCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-09-05 01:03:30.306 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:03:30.314 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 21ms reading results.
2025-09-05 01:03:30.336 +03:00 [DBG] An entity of type 'UrlClick' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:03:30.352 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-09-05 01:03:30.362 +03:00 [DBG] Committing transaction.
2025-09-05 01:03:30.374 +03:00 [DBG] Committed transaction.
2025-09-05 01:03:30.382 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:03:30.388 +03:00 [DBG] Closed connection to database 'db' on server '.' (5ms).
2025-09-05 01:03:30.394 +03:00 [DBG] Disposing transaction.
2025-09-05 01:03:30.406 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 01:03:30.417 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 01:03:30.423 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 01:03:30.427 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 01:03:30.434 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 01:03:30.443 +03:00 [INF] Executing OkObjectResult, writing value of type 'UrlShortener.Dtos.Response.Response`1[[UrlShortener.Dtos.Response.UpdateUrlDto, urlshortener, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-05 01:03:30.517 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.UpdateCount (urlshortener) in 4444.9296ms
2025-09-05 01:03:30.525 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.UpdateCount (urlshortener)'
2025-09-05 01:03:30.533 +03:00 [DBG] Connection id "0HNFBVREQBF6L" completed keep alive response.
2025-09-05 01:03:30.540 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 01:03:30.556 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 01:03:30.567 +03:00 [DBG] Disposed connection to database '' on server '' (10ms).
2025-09-05 01:03:30.577 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/UpdateCount - 200 null application/json; charset=utf-8 5099.5686ms
2025-09-05 01:03:38.852 +03:00 [DBG] Connection id "0HNFBVREQBF6L" received FIN.
2025-09-05 01:03:38.855 +03:00 [DBG] Connection id "0HNFBVREQBF6L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:03:38.859 +03:00 [DBG] Connection id "0HNFBVREQBF6L" disconnecting.
2025-09-05 01:03:38.867 +03:00 [DBG] Connection id "0HNFBVREQBF6L" stopped.
2025-09-05 01:07:31.433 +03:00 [INF] Application is shutting down...
2025-09-05 01:07:31.434 +03:00 [DBG] Hosting stopping
2025-09-05 01:07:31.451 +03:00 [DBG] Hosting stopped
2025-09-05 01:07:41.382 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 01:07:42.804 +03:00 [DBG] Hosting starting
2025-09-05 01:07:43.129 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 01:07:43.248 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 01:07:43.351 +03:00 [DBG] Connection id "0HNFBVTSDR74V" accepted.
2025-09-05 01:07:43.371 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 01:07:43.382 +03:00 [DBG] Connection id "0HNFBVTSDR74V" started.
2025-09-05 01:07:43.385 +03:00 [DBG] Connection id "0HNFBVTSDR750" accepted.
2025-09-05 01:07:43.386 +03:00 [INF] Hosting environment: Development
2025-09-05 01:07:43.423 +03:00 [DBG] Connection id "0HNFBVTSDR750" started.
2025-09-05 01:07:43.435 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 01:07:43.455 +03:00 [DBG] Hosting started
2025-09-05 01:07:45.281 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 01:07:45.333 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 01:07:45.725 +03:00 [DBG] Connection id "0HNFBVTSDR750" completed keep alive response.
2025-09-05 01:07:45.738 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 468.0444ms
2025-09-05 01:07:49.289 +03:00 [DBG] Connection id "0HNFBVTSDR74V" received FIN.
2025-09-05 01:07:49.289 +03:00 [DBG] Connection id "0HNFBVTSDR750" received FIN.
2025-09-05 01:07:49.300 +03:00 [DBG] Connection id "0HNFBVTSDR74V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:07:49.300 +03:00 [DBG] Connection id "0HNFBVTSDR750" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:07:49.306 +03:00 [DBG] Connection id "0HNFBVTSDR74V" disconnecting.
2025-09-05 01:07:49.309 +03:00 [DBG] Connection id "0HNFBVTSDR750" disconnecting.
2025-09-05 01:07:49.313 +03:00 [DBG] Connection id "0HNFBVTSDR74V" stopped.
2025-09-05 01:07:49.314 +03:00 [DBG] Connection id "0HNFBVTSDR750" stopped.
2025-09-05 01:08:14.179 +03:00 [DBG] Connection id "0HNFBVTSDR751" accepted.
2025-09-05 01:08:14.183 +03:00 [DBG] Connection id "0HNFBVTSDR751" started.
2025-09-05 01:08:14.189 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/UpdateCount - application/json 36
2025-09-05 01:08:14.228 +03:00 [DBG] The request has an origin header: 'http://localhost:5544'.
2025-09-05 01:08:14.244 +03:00 [INF] CORS policy execution successful.
2025-09-05 01:08:14.261 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-05 01:08:14.359 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/UpdateCount'
2025-09-05 01:08:14.386 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.UpdateCount (urlshortener)' with route pattern 'api/ShortenUrl/UpdateCount' is valid for the request path '/api/ShortenUrl/UpdateCount'
2025-09-05 01:08:14.421 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.UpdateCount (urlshortener)'
2025-09-05 01:08:14.451 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.UpdateCount (urlshortener)'
2025-09-05 01:08:14.658 +03:00 [INF] Route matched with {action = "UpdateCount", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCount(UrlShortener.Dtos.Request.UpdateUrlRequest, FluentValidation.IValidator`1[UrlShortener.Dtos.Request.UpdateUrlRequest]) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 01:08:14.689 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 01:08:14.716 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 01:08:14.749 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 01:08:14.766 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 01:08:14.780 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 01:08:14.795 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 01:08:15.134 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-05 01:08:15.224 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 01:08:15.245 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest' ...
2025-09-05 01:08:15.261 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest' using the name '' in request data ...
2025-09-05 01:08:15.272 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-05 01:08:15.447 +03:00 [DBG] Connection id "0HNFBVTSDR751", Request id "0HNFBVTSDR751:00000001": started reading request body.
2025-09-05 01:08:15.453 +03:00 [DBG] Connection id "0HNFBVTSDR751", Request id "0HNFBVTSDR751:00000001": done reading request body.
2025-09-05 01:08:15.526 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'UrlShortener.Dtos.Request.UpdateUrlRequest'
2025-09-05 01:08:15.533 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest'.
2025-09-05 01:08:15.547 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest'.
2025-09-05 01:08:15.555 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest' ...
2025-09-05 01:08:15.592 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.UpdateUrlRequest'.
2025-09-05 01:08:15.607 +03:00 [DBG] Attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.UpdateUrlRequest]' ...
2025-09-05 01:08:15.673 +03:00 [DBG] Done attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.UpdateUrlRequest]'.
2025-09-05 01:08:15.679 +03:00 [DBG] Attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.UpdateUrlRequest]' ...
2025-09-05 01:08:15.691 +03:00 [DBG] Done attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.UpdateUrlRequest]'.
2025-09-05 01:08:17.197 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 01:08:17.299 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .FirstOrDefault(x => x.ShortenedUrl == __request_link_0)'
2025-09-05 01:08:18.033 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Url>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Url>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.ShortenedUrl == @__request_link_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.ShortenedUrl == @__request_link_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Url entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Url instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Url);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Url)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                            {
                                return 
                                {
                                    Url instance;
                                    instance = new Url();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                    instance.<No>k__BackingField = dataReader.GetInt32(3);
                                    instance.<OriginalUrl>k__BackingField = dataReader.GetString(4);
                                    instance.<ShortenedUrl>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Url)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 01:08:18.134 +03:00 [DBG] Creating DbConnection.
2025-09-05 01:08:18.213 +03:00 [DBG] Created DbConnection. (66ms).
2025-09-05 01:08:18.232 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:08:18.691 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:08:18.705 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:08:18.724 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (14ms).
2025-09-05 01:08:18.745 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (41ms).
2025-09-05 01:08:18.769 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_link_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[ShortenedUrl] = @__request_link_0
2025-09-05 01:08:18.868 +03:00 [INF] Executed DbCommand (103ms) [Parameters=[@__request_link_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[ShortenedUrl] = @__request_link_0
2025-09-05 01:08:18.963 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Url' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:08:19.026 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:08:19.044 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 159ms reading results.
2025-09-05 01:08:19.054 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:08:19.067 +03:00 [DBG] Closed connection to database 'db' on server '.' (12ms).
2025-09-05 01:08:19.090 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:08:19.099 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:08:19.109 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-05 01:08:19.131 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-05 01:08:19.139 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .FirstOrDefault(x => x.ShortenedUrl == __request_link_0 && x.IsActive)'
2025-09-05 01:08:19.163 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Url>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Url>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE (u.ShortenedUrl == @__request_link_0) && u.IsActive) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE (u.ShortenedUrl == @__request_link_0) && u.IsActive, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Url entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Url instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Url);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Url)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                            {
                                return 
                                {
                                    Url instance;
                                    instance = new Url();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                    instance.<No>k__BackingField = dataReader.GetInt32(3);
                                    instance.<OriginalUrl>k__BackingField = dataReader.GetString(4);
                                    instance.<ShortenedUrl>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Url)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 01:08:19.190 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:08:19.195 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-09-05 01:08:19.244 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (55ms).
2025-09-05 01:08:19.317 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_link_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[ShortenedUrl] = @__request_link_0 AND [u].[IsActive] = CAST(1 AS bit)
2025-09-05 01:08:19.392 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__request_link_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[ShortenedUrl] = @__request_link_0 AND [u].[IsActive] = CAST(1 AS bit)
2025-09-05 01:08:19.472 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:08:19.479 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 16ms reading results.
2025-09-05 01:08:19.537 +03:00 [DBG] Compiling query expression: 
'DbSet<UrlClick>()
    .FirstOrDefault(x => x.Id == __url_Id_0)'
2025-09-05 01:08:19.571 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UrlClick>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UrlClick>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
            SELECT TOP(1) u.Id, u.ClickCount, u.LastAccessedAt
            FROM UrlClicks AS u
            WHERE u.Id == @__url_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
            SELECT TOP(1) u.Id, u.ClickCount, u.LastAccessedAt
            FROM UrlClicks AS u
            WHERE u.Id == @__url_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            UrlClick entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UrlClick instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UrlClick);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UrlClick.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (UrlClick)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]: 
                            {
                                return 
                                {
                                    UrlClick instance;
                                    instance = new UrlClick();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ClickCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<LastAccessedAt>k__BackingField = dataReader.IsDBNull(2) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UrlClick)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 01:08:19.629 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:08:19.637 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-09-05 01:08:19.644 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-09-05 01:08:19.653 +03:00 [DBG] Executing DbCommand [Parameters=[@__url_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] = @__url_Id_0
2025-09-05 01:08:19.673 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__url_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] = @__url_Id_0
2025-09-05 01:08:19.700 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UrlClick' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:08:19.741 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:08:19.745 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 62ms reading results.
2025-09-05 01:08:19.761 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-09-05 01:08:19.773 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-09-05 01:08:19.832 +03:00 [DBG] The unchanged property 'UrlClick.ClickCount' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-05 01:08:19.848 +03:00 [DBG] An entity of type 'UrlClick' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:08:19.862 +03:00 [DBG] The unchanged property 'UrlClick.LastAccessedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-05 01:08:19.868 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-09-05 01:08:20.020 +03:00 [DBG] Creating transaction savepoint.
2025-09-05 01:08:20.051 +03:00 [DBG] Created transaction savepoint.
2025-09-05 01:08:20.063 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:08:20.069 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-05 01:08:20.077 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-09-05 01:08:20.083 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UrlClicks] SET [ClickCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-09-05 01:08:20.102 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UrlClicks] SET [ClickCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-09-05 01:08:20.174 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:08:20.183 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 67ms reading results.
2025-09-05 01:08:20.213 +03:00 [DBG] An entity of type 'UrlClick' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:08:20.230 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-09-05 01:08:20.243 +03:00 [DBG] Committing transaction.
2025-09-05 01:08:20.265 +03:00 [DBG] Committed transaction.
2025-09-05 01:08:20.277 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:08:20.288 +03:00 [DBG] Closed connection to database 'db' on server '.' (10ms).
2025-09-05 01:08:20.299 +03:00 [DBG] Disposing transaction.
2025-09-05 01:08:20.315 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 01:08:20.328 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 01:08:20.330 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 01:08:20.333 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 01:08:20.340 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 01:08:20.344 +03:00 [INF] Executing OkObjectResult, writing value of type 'UrlShortener.Dtos.Response.Response`1[[UrlShortener.Dtos.Response.UpdateUrlDto, urlshortener, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-05 01:08:20.444 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.UpdateCount (urlshortener) in 5648.5389ms
2025-09-05 01:08:20.450 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.UpdateCount (urlshortener)'
2025-09-05 01:08:20.460 +03:00 [DBG] Connection id "0HNFBVTSDR751" completed keep alive response.
2025-09-05 01:08:20.472 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 01:08:20.492 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 01:08:20.506 +03:00 [DBG] Disposed connection to database '' on server '' (13ms).
2025-09-05 01:08:20.516 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/UpdateCount - 200 null application/json; charset=utf-8 6326.1831ms
2025-09-05 01:08:29.328 +03:00 [DBG] Connection id "0HNFBVTSDR751" received FIN.
2025-09-05 01:08:29.334 +03:00 [DBG] Connection id "0HNFBVTSDR751" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:08:29.338 +03:00 [DBG] Connection id "0HNFBVTSDR751" disconnecting.
2025-09-05 01:08:29.343 +03:00 [DBG] Connection id "0HNFBVTSDR751" stopped.
2025-09-05 01:09:04.341 +03:00 [INF] Application is shutting down...
2025-09-05 01:09:04.343 +03:00 [DBG] Hosting stopping
2025-09-05 01:09:04.376 +03:00 [DBG] Hosting stopped
2025-09-05 01:14:50.153 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 01:14:51.368 +03:00 [DBG] Hosting starting
2025-09-05 01:14:51.738 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 01:14:51.751 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 01:14:51.758 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 01:14:51.766 +03:00 [INF] Hosting environment: Development
2025-09-05 01:14:51.803 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 01:14:51.826 +03:00 [DBG] Hosting started
2025-09-05 01:14:52.087 +03:00 [DBG] Connection id "0HNFC01S6JOHN" accepted.
2025-09-05 01:14:52.095 +03:00 [DBG] Connection id "0HNFC01S6JOHN" started.
2025-09-05 01:14:52.097 +03:00 [DBG] Connection id "0HNFC01S6JOHO" accepted.
2025-09-05 01:14:52.115 +03:00 [DBG] Connection id "0HNFC01S6JOHO" started.
2025-09-05 01:14:53.578 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 01:14:53.617 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 01:14:54.320 +03:00 [DBG] Connection id "0HNFC01S6JOHO" completed keep alive response.
2025-09-05 01:14:54.334 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 763.022ms
2025-09-05 01:15:00.202 +03:00 [DBG] Connection id "0HNFC01S6JOHO" received FIN.
2025-09-05 01:15:00.202 +03:00 [DBG] Connection id "0HNFC01S6JOHN" received FIN.
2025-09-05 01:15:00.216 +03:00 [DBG] Connection id "0HNFC01S6JOHO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:15:00.216 +03:00 [DBG] Connection id "0HNFC01S6JOHN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:15:00.221 +03:00 [DBG] Connection id "0HNFC01S6JOHO" disconnecting.
2025-09-05 01:15:00.226 +03:00 [DBG] Connection id "0HNFC01S6JOHN" disconnecting.
2025-09-05 01:15:00.233 +03:00 [DBG] Connection id "0HNFC01S6JOHO" stopped.
2025-09-05 01:15:00.235 +03:00 [DBG] Connection id "0HNFC01S6JOHN" stopped.
2025-09-05 01:15:12.326 +03:00 [DBG] Connection id "0HNFC01S6JOHP" accepted.
2025-09-05 01:15:12.331 +03:00 [DBG] Connection id "0HNFC01S6JOHP" started.
2025-09-05 01:15:12.338 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/ToggleUrl - application/json 50
2025-09-05 01:15:12.362 +03:00 [DBG] The request has an origin header: 'http://localhost:5544'.
2025-09-05 01:15:12.367 +03:00 [INF] CORS policy execution successful.
2025-09-05 01:15:12.373 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-05 01:15:12.415 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/ToggleUrl'
2025-09-05 01:15:12.428 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.ToggleUrl (urlshortener)' with route pattern 'api/ShortenUrl/ToggleUrl' is valid for the request path '/api/ShortenUrl/ToggleUrl'
2025-09-05 01:15:12.436 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.ToggleUrl (urlshortener)'
2025-09-05 01:15:12.445 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.ToggleUrl (urlshortener)'
2025-09-05 01:15:12.504 +03:00 [INF] Route matched with {action = "ToggleUrl", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleUrl(UrlShortener.Dtos.Request.ToggleUrlRequest, FluentValidation.IValidator`1[UrlShortener.Dtos.Request.ToggleUrlRequest]) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 01:15:12.515 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 01:15:12.522 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 01:15:12.531 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 01:15:12.538 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 01:15:12.546 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 01:15:12.558 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 01:15:12.778 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-05 01:15:12.817 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 01:15:12.830 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.ToggleUrlRequest' ...
2025-09-05 01:15:12.838 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.ToggleUrlRequest' using the name '' in request data ...
2025-09-05 01:15:12.845 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-05 01:15:12.893 +03:00 [DBG] Connection id "0HNFC01S6JOHP", Request id "0HNFC01S6JOHP:00000001": started reading request body.
2025-09-05 01:15:12.900 +03:00 [DBG] Connection id "0HNFC01S6JOHP", Request id "0HNFC01S6JOHP:00000001": done reading request body.
2025-09-05 01:15:12.927 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'UrlShortener.Dtos.Request.ToggleUrlRequest'
2025-09-05 01:15:12.933 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.ToggleUrlRequest'.
2025-09-05 01:15:12.939 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.ToggleUrlRequest'.
2025-09-05 01:15:12.943 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.ToggleUrlRequest' ...
2025-09-05 01:15:12.956 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.ToggleUrlRequest'.
2025-09-05 01:15:12.963 +03:00 [DBG] Attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.ToggleUrlRequest]' ...
2025-09-05 01:15:13.083 +03:00 [DBG] Done attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.ToggleUrlRequest]'.
2025-09-05 01:15:13.090 +03:00 [DBG] Attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.ToggleUrlRequest]' ...
2025-09-05 01:15:13.094 +03:00 [DBG] Done attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.ToggleUrlRequest]'.
2025-09-05 01:15:13.968 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 01:15:14.074 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .FirstOrDefault(x => x.Id == __request_Id_0)'
2025-09-05 01:15:15.173 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Url>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Url>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.Id == @__request_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.Id == @__request_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Url entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Url instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Url);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Url)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                            {
                                return 
                                {
                                    Url instance;
                                    instance = new Url();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                    instance.<No>k__BackingField = dataReader.GetInt32(3);
                                    instance.<OriginalUrl>k__BackingField = dataReader.GetString(4);
                                    instance.<ShortenedUrl>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Url)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 01:15:15.286 +03:00 [DBG] Creating DbConnection.
2025-09-05 01:15:15.325 +03:00 [DBG] Created DbConnection. (34ms).
2025-09-05 01:15:15.335 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:15:15.635 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:15:15.647 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:15:15.665 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2025-09-05 01:15:15.684 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (38ms).
2025-09-05 01:15:15.705 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 01:15:15.794 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 01:15:15.887 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Url' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:15:15.951 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:15:15.973 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 158ms reading results.
2025-09-05 01:15:15.995 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:15:16.048 +03:00 [DBG] Closed connection to database 'db' on server '.' (51ms).
2025-09-05 01:15:16.247 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:15:16.273 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:15:16.449 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-05 01:15:16.502 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-05 01:15:16.519 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:15:16.524 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-05 01:15:16.531 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-05 01:15:16.536 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 01:15:16.546 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 01:15:16.558 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:15:16.563 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 10ms reading results.
2025-09-05 01:15:16.578 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-09-05 01:15:16.589 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-09-05 01:15:16.627 +03:00 [DBG] The unchanged property 'Url.IsActive' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-05 01:15:16.648 +03:00 [DBG] An entity of type 'Url' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:15:16.674 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-09-05 01:15:16.789 +03:00 [DBG] Creating transaction savepoint.
2025-09-05 01:15:16.809 +03:00 [DBG] Created transaction savepoint.
2025-09-05 01:15:16.816 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:15:16.824 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-09-05 01:15:16.830 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-09-05 01:15:16.835 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Urls] SET [IsActive] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-09-05 01:15:16.852 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Urls] SET [IsActive] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-09-05 01:15:16.886 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:15:16.894 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 26ms reading results.
2025-09-05 01:15:16.919 +03:00 [DBG] An entity of type 'Url' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:15:16.939 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-09-05 01:15:16.957 +03:00 [DBG] Committing transaction.
2025-09-05 01:15:16.976 +03:00 [DBG] Committed transaction.
2025-09-05 01:15:16.988 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:15:16.994 +03:00 [DBG] Closed connection to database 'db' on server '.' (5ms).
2025-09-05 01:15:17.006 +03:00 [DBG] Disposing transaction.
2025-09-05 01:15:17.026 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 01:15:17.039 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 01:15:17.043 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 01:15:17.047 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 01:15:17.052 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 01:15:17.060 +03:00 [INF] Executing OkObjectResult, writing value of type 'UrlShortener.Dtos.Response.Response`1[[UrlShortener.Dtos.Response.ShortenUrlDto, urlshortener, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-05 01:15:17.206 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.ToggleUrl (urlshortener) in 4642.742ms
2025-09-05 01:15:17.213 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.ToggleUrl (urlshortener)'
2025-09-05 01:15:17.226 +03:00 [DBG] Connection id "0HNFC01S6JOHP" completed keep alive response.
2025-09-05 01:15:17.240 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 01:15:17.269 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 01:15:17.282 +03:00 [DBG] Disposed connection to database '' on server '' (16ms).
2025-09-05 01:15:17.295 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/ToggleUrl - 200 null application/json; charset=utf-8 4956.3668ms
2025-09-05 01:15:20.226 +03:00 [DBG] Connection id "0HNFC01S6JOHP" received FIN.
2025-09-05 01:15:20.232 +03:00 [DBG] Connection id "0HNFC01S6JOHP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:15:20.236 +03:00 [DBG] Connection id "0HNFC01S6JOHP" disconnecting.
2025-09-05 01:15:20.241 +03:00 [DBG] Connection id "0HNFC01S6JOHP" stopped.
2025-09-05 01:15:33.037 +03:00 [DBG] Connection id "0HNFC01S6JOHQ" accepted.
2025-09-05 01:15:33.041 +03:00 [DBG] Connection id "0HNFC01S6JOHQ" started.
2025-09-05 01:15:33.046 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetAll?IsActive=true - null null
2025-09-05 01:15:33.063 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/GetAll'
2025-09-05 01:15:33.068 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.GetAllUrls (urlshortener)' with route pattern 'api/ShortenUrl/GetAll' is valid for the request path '/api/ShortenUrl/GetAll'
2025-09-05 01:15:33.076 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.GetAllUrls (urlshortener)'
2025-09-05 01:15:33.081 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.GetAllUrls (urlshortener)'
2025-09-05 01:15:33.094 +03:00 [INF] Route matched with {action = "GetAllUrls", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUrls(UrlShortener.Dtos.Request.GetAllUrl) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 01:15:33.101 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 01:15:33.105 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 01:15:33.110 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 01:15:33.116 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 01:15:33.121 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 01:15:33.126 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 01:15:33.132 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 01:15:33.142 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetAllUrl' ...
2025-09-05 01:15:33.148 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetAllUrl' using the name '' in request data ...
2025-09-05 01:15:33.161 +03:00 [DBG] Attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.SearchFor' of type 'System.String' using the name 'SearchFor' in request data ...
2025-09-05 01:15:33.170 +03:00 [DBG] Could not find a value in the request with name 'SearchFor' for binding property 'UrlShortener.Dtos.Request.GetAllUrl.SearchFor' of type 'System.String'.
2025-09-05 01:15:33.179 +03:00 [DBG] Done attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.SearchFor' of type 'System.String'.
2025-09-05 01:15:33.187 +03:00 [DBG] Attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-05 01:15:33.194 +03:00 [DBG] Done attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.IsActive' of type 'System.Boolean'.
2025-09-05 01:15:33.201 +03:00 [DBG] Attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-09-05 01:15:33.209 +03:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'UrlShortener.Dtos.Request.GetAllUrl.PageNumber' of type 'System.Int32'.
2025-09-05 01:15:33.215 +03:00 [DBG] Done attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.PageNumber' of type 'System.Int32'.
2025-09-05 01:15:33.222 +03:00 [DBG] Attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-09-05 01:15:33.228 +03:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'UrlShortener.Dtos.Request.GetAllUrl.PageSize' of type 'System.Int32'.
2025-09-05 01:15:33.234 +03:00 [DBG] Done attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.PageSize' of type 'System.Int32'.
2025-09-05 01:15:33.240 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetAllUrl'.
2025-09-05 01:15:33.244 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetAllUrl'.
2025-09-05 01:15:33.249 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetAllUrl' ...
2025-09-05 01:15:33.256 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetAllUrl'.
2025-09-05 01:15:33.312 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 01:15:33.323 +03:00 [INF] Fetching all Urls
2025-09-05 01:15:33.342 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .Where(x => x.IsActive == __request_IsActive_0)
    .Skip(__p_1)
    .Take(__p_2)'
2025-09-05 01:15:33.353 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-09-05 01:15:33.359 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-09-05 01:15:33.379 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Url>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
        SELECT u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
        FROM Urls AS u
        WHERE u.IsActive == @__request_IsActive_0
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
        SELECT u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
        FROM Urls AS u
        WHERE u.IsActive == @__request_IsActive_0
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Url entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Url instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Url);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Url)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                        {
                            return 
                            {
                                Url instance;
                                instance = new Url();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                instance.<No>k__BackingField = dataReader.GetInt32(3);
                                instance.<OriginalUrl>k__BackingField = dataReader.GetString(4);
                                instance.<ShortenedUrl>k__BackingField = dataReader.GetString(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Url)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: UrlShortener.Data.ApplicationDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-05 01:15:33.398 +03:00 [DBG] Creating DbConnection.
2025-09-05 01:15:33.403 +03:00 [DBG] Created DbConnection. (4ms).
2025-09-05 01:15:33.409 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:15:33.415 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:15:33.420 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:15:33.425 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-05 01:15:33.431 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-09-05 01:15:33.437 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_IsActive_0='?' (DbType = Boolean), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[IsActive] = @__request_IsActive_0
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-05 01:15:33.458 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__request_IsActive_0='?' (DbType = Boolean), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[IsActive] = @__request_IsActive_0
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-05 01:15:33.471 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:15:33.477 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 8ms reading results.
2025-09-05 01:15:33.484 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:15:33.490 +03:00 [DBG] Closed connection to database 'db' on server '.' (5ms).
2025-09-05 01:15:33.508 +03:00 [DBG] Compiling query expression: 
'DbSet<UrlClick>()
    .Where(x => __urlsIds_0.Contains(x.Id))'
2025-09-05 01:15:33.640 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UrlClick>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
        SELECT u.Id, u.ClickCount, u.LastAccessedAt
        FROM UrlClicks AS u
        WHERE u.Id IN (
            SELECT u0.value
            FROM OPENJSON(@__urlsIds_0) WITH (value uniqueidentifier '') AS u0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
        SELECT u.Id, u.ClickCount, u.LastAccessedAt
        FROM UrlClicks AS u
        WHERE u.Id IN (
            SELECT u0.value
            FROM OPENJSON(@__urlsIds_0) WITH (value uniqueidentifier '') AS u0), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        UrlClick entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            UrlClick instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(UrlClick);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: UrlClick.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (UrlClick)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]: 
                        {
                            return 
                            {
                                UrlClick instance;
                                instance = new UrlClick();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<ClickCount>k__BackingField = dataReader.GetInt32(1);
                                instance.<LastAccessedAt>k__BackingField = dataReader.IsDBNull(2) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(UrlClick)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: UrlShortener.Data.ApplicationDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-05 01:15:33.666 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:15:33.673 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:15:33.679 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:15:33.685 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-05 01:15:33.700 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2025-09-05 01:15:33.707 +03:00 [DBG] Executing DbCommand [Parameters=[@__urlsIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__urlsIds_0) WITH ([value] uniqueidentifier '$') AS [u0]
)
2025-09-05 01:15:33.726 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__urlsIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__urlsIds_0) WITH ([value] uniqueidentifier '$') AS [u0]
)
2025-09-05 01:15:33.738 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:15:33.746 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 7ms reading results.
2025-09-05 01:15:33.753 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:15:33.758 +03:00 [DBG] Closed connection to database 'db' on server '.' (5ms).
2025-09-05 01:15:33.770 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 01:15:33.783 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 01:15:33.787 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 01:15:33.791 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 01:15:33.795 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 01:15:33.802 +03:00 [INF] Executing OkObjectResult, writing value of type 'UrlShortener.Dtos.Response.Response`1[[System.Collections.Generic.List`1[[UrlShortener.Dtos.Response.ShortenUrlDto, urlshortener, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-05 01:15:33.828 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.GetAllUrls (urlshortener) in 702.845ms
2025-09-05 01:15:33.836 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.GetAllUrls (urlshortener)'
2025-09-05 01:15:33.842 +03:00 [DBG] Connection id "0HNFC01S6JOHQ" completed keep alive response.
2025-09-05 01:15:33.848 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 01:15:33.853 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 01:15:33.859 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-05 01:15:33.867 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetAll?IsActive=true - 200 null application/json; charset=utf-8 819.9507ms
2025-09-05 01:15:40.257 +03:00 [DBG] Connection id "0HNFC01S6JOHQ" received FIN.
2025-09-05 01:15:40.262 +03:00 [DBG] Connection id "0HNFC01S6JOHQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:15:40.266 +03:00 [DBG] Connection id "0HNFC01S6JOHQ" disconnecting.
2025-09-05 01:15:40.268 +03:00 [DBG] Connection id "0HNFC01S6JOHQ" stopped.
2025-09-05 01:15:58.424 +03:00 [DBG] Connection id "0HNFC01S6JOHR" accepted.
2025-09-05 01:15:58.428 +03:00 [DBG] Connection id "0HNFC01S6JOHR" started.
2025-09-05 01:15:58.433 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/ToggleUrl - application/json 50
2025-09-05 01:15:58.443 +03:00 [DBG] The request has an origin header: 'http://localhost:5544'.
2025-09-05 01:15:58.447 +03:00 [INF] CORS policy execution successful.
2025-09-05 01:15:58.451 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/ToggleUrl'
2025-09-05 01:15:58.456 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.ToggleUrl (urlshortener)' with route pattern 'api/ShortenUrl/ToggleUrl' is valid for the request path '/api/ShortenUrl/ToggleUrl'
2025-09-05 01:15:58.464 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.ToggleUrl (urlshortener)'
2025-09-05 01:15:58.469 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.ToggleUrl (urlshortener)'
2025-09-05 01:15:58.474 +03:00 [INF] Route matched with {action = "ToggleUrl", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleUrl(UrlShortener.Dtos.Request.ToggleUrlRequest, FluentValidation.IValidator`1[UrlShortener.Dtos.Request.ToggleUrlRequest]) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 01:15:58.484 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 01:15:58.491 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 01:15:58.496 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 01:15:58.504 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 01:15:58.508 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 01:15:58.514 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 01:15:58.526 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 01:15:58.531 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.ToggleUrlRequest' ...
2025-09-05 01:15:58.538 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.ToggleUrlRequest' using the name '' in request data ...
2025-09-05 01:15:58.544 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-05 01:15:58.551 +03:00 [DBG] Connection id "0HNFC01S6JOHR", Request id "0HNFC01S6JOHR:00000001": started reading request body.
2025-09-05 01:15:58.557 +03:00 [DBG] Connection id "0HNFC01S6JOHR", Request id "0HNFC01S6JOHR:00000001": done reading request body.
2025-09-05 01:15:58.563 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'UrlShortener.Dtos.Request.ToggleUrlRequest'
2025-09-05 01:15:58.568 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.ToggleUrlRequest'.
2025-09-05 01:15:58.571 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.ToggleUrlRequest'.
2025-09-05 01:15:58.576 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.ToggleUrlRequest' ...
2025-09-05 01:15:58.580 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.ToggleUrlRequest'.
2025-09-05 01:15:58.586 +03:00 [DBG] Attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.ToggleUrlRequest]' ...
2025-09-05 01:15:58.594 +03:00 [DBG] Done attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.ToggleUrlRequest]'.
2025-09-05 01:15:58.600 +03:00 [DBG] Attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.ToggleUrlRequest]' ...
2025-09-05 01:15:58.604 +03:00 [DBG] Done attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.ToggleUrlRequest]'.
2025-09-05 01:15:58.828 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 01:15:58.838 +03:00 [DBG] Creating DbConnection.
2025-09-05 01:15:58.841 +03:00 [DBG] Created DbConnection. (3ms).
2025-09-05 01:15:58.844 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:15:58.850 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:15:58.857 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:15:58.861 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-05 01:15:58.866 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-09-05 01:15:58.873 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 01:15:58.884 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 01:15:58.895 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Url' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:15:58.902 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:15:58.906 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 12ms reading results.
2025-09-05 01:15:58.913 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:15:58.920 +03:00 [DBG] Closed connection to database 'db' on server '.' (7ms).
2025-09-05 01:15:58.937 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:15:58.943 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:15:58.951 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-05 01:15:58.957 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-05 01:15:58.964 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:15:58.970 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-05 01:15:58.975 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-05 01:15:58.981 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 01:15:58.991 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 01:15:59.000 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:15:59.005 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 5ms reading results.
2025-09-05 01:15:59.012 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-09-05 01:15:59.016 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-09-05 01:15:59.019 +03:00 [DBG] The unchanged property 'Url.IsActive' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-05 01:15:59.025 +03:00 [DBG] An entity of type 'Url' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:15:59.031 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-09-05 01:15:59.036 +03:00 [DBG] Creating transaction savepoint.
2025-09-05 01:15:59.040 +03:00 [DBG] Created transaction savepoint.
2025-09-05 01:15:59.043 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:15:59.047 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-05 01:15:59.052 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-09-05 01:15:59.057 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Urls] SET [IsActive] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-09-05 01:15:59.065 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Urls] SET [IsActive] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-09-05 01:15:59.080 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:15:59.086 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 6ms reading results.
2025-09-05 01:15:59.093 +03:00 [DBG] An entity of type 'Url' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:15:59.099 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-09-05 01:15:59.104 +03:00 [DBG] Committing transaction.
2025-09-05 01:15:59.108 +03:00 [DBG] Committed transaction.
2025-09-05 01:15:59.110 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:15:59.116 +03:00 [DBG] Closed connection to database 'db' on server '.' (5ms).
2025-09-05 01:15:59.121 +03:00 [DBG] Disposing transaction.
2025-09-05 01:15:59.123 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 01:15:59.130 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 01:15:59.133 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 01:15:59.137 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 01:15:59.139 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 01:15:59.144 +03:00 [INF] Executing OkObjectResult, writing value of type 'UrlShortener.Dtos.Response.Response`1[[UrlShortener.Dtos.Response.ShortenUrlDto, urlshortener, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-05 01:15:59.150 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.ToggleUrl (urlshortener) in 636.0592ms
2025-09-05 01:15:59.154 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.ToggleUrl (urlshortener)'
2025-09-05 01:15:59.159 +03:00 [DBG] Connection id "0HNFC01S6JOHR" completed keep alive response.
2025-09-05 01:15:59.162 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 01:15:59.166 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 01:15:59.171 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-05 01:15:59.176 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/ToggleUrl - 200 null application/json; charset=utf-8 743.3839ms
2025-09-05 01:16:00.287 +03:00 [DBG] Connection id "0HNFC01S6JOHR" received FIN.
2025-09-05 01:16:00.290 +03:00 [DBG] Connection id "0HNFC01S6JOHR" disconnecting.
2025-09-05 01:16:00.294 +03:00 [DBG] Connection id "0HNFC01S6JOHR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:16:00.301 +03:00 [DBG] Connection id "0HNFC01S6JOHR" stopped.
2025-09-05 01:16:28.205 +03:00 [DBG] Connection id "0HNFC01S6JOHS" accepted.
2025-09-05 01:16:28.209 +03:00 [DBG] Connection id "0HNFC01S6JOHS" started.
2025-09-05 01:16:28.213 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetById?Id=98ada45a-e75c-41da-b729-616a1311c57b - null null
2025-09-05 01:16:28.220 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/GetById'
2025-09-05 01:16:28.223 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)' with route pattern 'api/ShortenUrl/GetById' is valid for the request path '/api/ShortenUrl/GetById'
2025-09-05 01:16:28.227 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 01:16:28.231 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 01:16:28.241 +03:00 [INF] Route matched with {action = "GetUrlById", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUrlById(UrlShortener.Dtos.Request.GetUrlRequest, FluentValidation.IValidator`1[UrlShortener.Dtos.Request.GetUrlRequest]) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 01:16:28.245 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 01:16:28.249 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 01:16:28.252 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 01:16:28.256 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 01:16:28.259 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 01:16:28.263 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 01:16:28.266 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 01:16:28.270 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' ...
2025-09-05 01:16:28.274 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' using the name '' in request data ...
2025-09-05 01:16:28.279 +03:00 [DBG] Attempting to bind property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid' using the name 'Id' in request data ...
2025-09-05 01:16:28.283 +03:00 [DBG] Done attempting to bind property 'UrlShortener.Dtos.Request.GetUrlRequest.Id' of type 'System.Guid'.
2025-09-05 01:16:28.287 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 01:16:28.290 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 01:16:28.293 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest' ...
2025-09-05 01:16:28.297 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetUrlRequest'.
2025-09-05 01:16:28.299 +03:00 [DBG] Attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.GetUrlRequest]' ...
2025-09-05 01:16:28.307 +03:00 [DBG] Done attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.GetUrlRequest]'.
2025-09-05 01:16:28.311 +03:00 [DBG] Attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.GetUrlRequest]' ...
2025-09-05 01:16:28.316 +03:00 [DBG] Done attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.GetUrlRequest]'.
2025-09-05 01:16:28.326 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 01:16:28.333 +03:00 [DBG] Creating DbConnection.
2025-09-05 01:16:28.336 +03:00 [DBG] Created DbConnection. (3ms).
2025-09-05 01:16:28.340 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:16:28.344 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:16:28.349 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:16:28.352 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-05 01:16:28.355 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-09-05 01:16:28.358 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 01:16:28.368 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 01:16:28.374 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Url' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:16:28.377 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:16:28.379 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 5ms reading results.
2025-09-05 01:16:28.382 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:16:28.386 +03:00 [DBG] Closed connection to database 'db' on server '.' (3ms).
2025-09-05 01:16:28.392 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:16:28.395 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:16:28.398 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:16:28.400 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-05 01:16:28.404 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-09-05 01:16:28.407 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 01:16:28.412 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 01:16:28.416 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:16:28.420 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 3ms reading results.
2025-09-05 01:16:28.423 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:16:28.427 +03:00 [DBG] Closed connection to database 'db' on server '.' (3ms).
2025-09-05 01:16:28.433 +03:00 [DBG] Compiling query expression: 
'DbSet<UrlClick>()
    .FirstOrDefault(x => x.Id == __request_Id_0)'
2025-09-05 01:16:28.450 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UrlClick>(
    asyncEnumerable: SingleQueryingEnumerable.Create<UrlClick>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
            SELECT TOP(1) u.Id, u.ClickCount, u.LastAccessedAt
            FROM UrlClicks AS u
            WHERE u.Id == @__request_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
            SELECT TOP(1) u.Id, u.ClickCount, u.LastAccessedAt
            FROM UrlClicks AS u
            WHERE u.Id == @__request_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            UrlClick entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                UrlClick instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(UrlClick);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: UrlClick.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (UrlClick)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]: 
                            {
                                return 
                                {
                                    UrlClick instance;
                                    instance = new UrlClick();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ClickCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<LastAccessedAt>k__BackingField = dataReader.IsDBNull(2) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(UrlClick)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 01:16:28.468 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:16:28.475 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:16:28.479 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:16:28.483 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-05 01:16:28.488 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-09-05 01:16:28.491 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 01:16:28.499 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] = @__request_Id_0
2025-09-05 01:16:28.512 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UrlClick' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:16:28.534 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:16:28.538 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 33ms reading results.
2025-09-05 01:16:28.543 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:16:28.546 +03:00 [DBG] Closed connection to database 'db' on server '.' (2ms).
2025-09-05 01:16:28.550 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 01:16:28.555 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 01:16:28.557 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 01:16:28.558 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 01:16:28.560 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 01:16:28.563 +03:00 [INF] Executing OkObjectResult, writing value of type 'UrlShortener.Dtos.Response.Response`1[[UrlShortener.Dtos.Response.ShortenUrlDto, urlshortener, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-05 01:16:28.571 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener) in 307.5157ms
2025-09-05 01:16:28.574 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.GetUrlById (urlshortener)'
2025-09-05 01:16:28.576 +03:00 [DBG] Connection id "0HNFC01S6JOHS" completed keep alive response.
2025-09-05 01:16:28.580 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 01:16:28.583 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 01:16:28.586 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-09-05 01:16:28.591 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetById?Id=98ada45a-e75c-41da-b729-616a1311c57b - 200 null application/json; charset=utf-8 377.8824ms
2025-09-05 01:16:30.336 +03:00 [DBG] Connection id "0HNFC01S6JOHS" received FIN.
2025-09-05 01:16:30.340 +03:00 [DBG] Connection id "0HNFC01S6JOHS" disconnecting.
2025-09-05 01:16:30.343 +03:00 [DBG] Connection id "0HNFC01S6JOHS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:16:30.351 +03:00 [DBG] Connection id "0HNFC01S6JOHS" stopped.
2025-09-05 01:17:35.585 +03:00 [INF] Application is shutting down...
2025-09-05 01:17:35.586 +03:00 [DBG] Hosting stopping
2025-09-05 01:17:35.603 +03:00 [DBG] Hosting stopped
2025-09-05 01:17:44.885 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 01:17:46.481 +03:00 [DBG] Hosting starting
2025-09-05 01:17:47.146 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 01:17:47.152 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 01:17:47.177 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 01:17:47.223 +03:00 [INF] Hosting environment: Development
2025-09-05 01:17:47.289 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 01:17:47.312 +03:00 [DBG] Hosting started
2025-09-05 01:17:47.379 +03:00 [DBG] Connection id "0HNFC03GEA23P" accepted.
2025-09-05 01:17:47.946 +03:00 [DBG] Connection id "0HNFC03GEA23P" started.
2025-09-05 01:17:47.946 +03:00 [DBG] Connection id "0HNFC03GEA23Q" accepted.
2025-09-05 01:17:47.996 +03:00 [DBG] Connection id "0HNFC03GEA23Q" started.
2025-09-05 01:17:49.106 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 01:17:49.183 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 01:17:50.008 +03:00 [DBG] Connection id "0HNFC03GEA23Q" completed keep alive response.
2025-09-05 01:17:50.019 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 923.6632ms
2025-09-05 01:17:50.479 +03:00 [DBG] Connection id "0HNFC03GEA23P" received FIN.
2025-09-05 01:17:50.481 +03:00 [DBG] Connection id "0HNFC03GEA23Q" received FIN.
2025-09-05 01:17:50.510 +03:00 [DBG] Connection id "0HNFC03GEA23P" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:17:50.510 +03:00 [DBG] Connection id "0HNFC03GEA23Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:17:50.519 +03:00 [DBG] Connection id "0HNFC03GEA23P" disconnecting.
2025-09-05 01:17:50.525 +03:00 [DBG] Connection id "0HNFC03GEA23Q" disconnecting.
2025-09-05 01:17:50.535 +03:00 [DBG] Connection id "0HNFC03GEA23Q" stopped.
2025-09-05 01:17:50.535 +03:00 [DBG] Connection id "0HNFC03GEA23P" stopped.
2025-09-05 01:18:11.446 +03:00 [INF] Application is shutting down...
2025-09-05 01:18:11.447 +03:00 [DBG] Hosting stopping
2025-09-05 01:18:11.465 +03:00 [DBG] Hosting stopped
2025-09-05 01:18:21.709 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 01:18:23.447 +03:00 [DBG] Hosting starting
2025-09-05 01:18:23.734 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 01:18:23.740 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 01:18:23.747 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 01:18:23.755 +03:00 [INF] Hosting environment: Development
2025-09-05 01:18:23.762 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 01:18:23.769 +03:00 [DBG] Hosting started
2025-09-05 01:18:23.800 +03:00 [DBG] Connection id "0HNFC03R9LJAD" accepted.
2025-09-05 01:18:23.810 +03:00 [DBG] Connection id "0HNFC03R9LJAD" started.
2025-09-05 01:18:23.814 +03:00 [DBG] Connection id "0HNFC03R9LJAE" accepted.
2025-09-05 01:18:23.823 +03:00 [DBG] Connection id "0HNFC03R9LJAE" started.
2025-09-05 01:18:25.615 +03:00 [DBG] Connection id "0HNFC03R9LJAF" accepted.
2025-09-05 01:18:25.617 +03:00 [DBG] Connection id "0HNFC03R9LJAE" received FIN.
2025-09-05 01:18:25.617 +03:00 [DBG] Connection id "0HNFC03R9LJAD" received FIN.
2025-09-05 01:18:25.623 +03:00 [DBG] Connection id "0HNFC03R9LJAF" started.
2025-09-05 01:18:25.653 +03:00 [DBG] Connection id "0HNFC03R9LJAD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:18:25.653 +03:00 [DBG] Connection id "0HNFC03R9LJAE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:18:25.683 +03:00 [DBG] Connection id "0HNFC03R9LJAD" disconnecting.
2025-09-05 01:18:25.717 +03:00 [DBG] Connection id "0HNFC03R9LJAE" disconnecting.
2025-09-05 01:18:25.732 +03:00 [DBG] Connection id "0HNFC03R9LJAD" stopped.
2025-09-05 01:18:25.734 +03:00 [DBG] Connection id "0HNFC03R9LJAE" stopped.
2025-09-05 01:18:25.857 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 01:18:25.890 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 01:18:26.376 +03:00 [DBG] Connection id "0HNFC03R9LJAF" completed keep alive response.
2025-09-05 01:18:26.383 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 543.678ms
2025-09-05 01:18:30.570 +03:00 [DBG] Connection id "0HNFC03R9LJAF" received FIN.
2025-09-05 01:18:30.574 +03:00 [DBG] Connection id "0HNFC03R9LJAF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:18:30.581 +03:00 [DBG] Connection id "0HNFC03R9LJAF" disconnecting.
2025-09-05 01:18:30.583 +03:00 [DBG] Connection id "0HNFC03R9LJAF" stopped.
2025-09-05 01:21:00.748 +03:00 [INF] Application is shutting down...
2025-09-05 01:21:00.749 +03:00 [DBG] Hosting stopping
2025-09-05 01:21:00.768 +03:00 [DBG] Hosting stopped
2025-09-05 01:21:13.488 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 01:21:14.352 +03:00 [DBG] Hosting starting
2025-09-05 01:21:14.663 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 01:21:14.683 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 01:21:14.721 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 01:21:14.748 +03:00 [INF] Hosting environment: Development
2025-09-05 01:21:14.781 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 01:21:14.854 +03:00 [DBG] Connection id "0HNFC05E8UMJ3" accepted.
2025-09-05 01:21:14.881 +03:00 [DBG] Hosting started
2025-09-05 01:21:14.891 +03:00 [DBG] Connection id "0HNFC05E8UMJ3" started.
2025-09-05 01:21:14.900 +03:00 [DBG] Connection id "0HNFC05E8UMJ4" accepted.
2025-09-05 01:21:14.946 +03:00 [DBG] Connection id "0HNFC05E8UMJ4" started.
2025-09-05 01:21:17.139 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 01:21:17.193 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 01:21:17.562 +03:00 [DBG] Connection id "0HNFC05E8UMJ3" completed keep alive response.
2025-09-05 01:21:17.571 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 441.9944ms
2025-09-05 01:21:20.839 +03:00 [DBG] Connection id "0HNFC05E8UMJ4" received FIN.
2025-09-05 01:21:20.840 +03:00 [DBG] Connection id "0HNFC05E8UMJ3" received FIN.
2025-09-05 01:21:20.860 +03:00 [DBG] Connection id "0HNFC05E8UMJ4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:21:20.862 +03:00 [DBG] Connection id "0HNFC05E8UMJ3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:21:21.045 +03:00 [DBG] Connection id "0HNFC05E8UMJ4" disconnecting.
2025-09-05 01:21:21.050 +03:00 [DBG] Connection id "0HNFC05E8UMJ3" disconnecting.
2025-09-05 01:21:21.063 +03:00 [DBG] Connection id "0HNFC05E8UMJ4" stopped.
2025-09-05 01:21:21.113 +03:00 [DBG] Connection id "0HNFC05E8UMJ3" stopped.
2025-09-05 01:22:54.254 +03:00 [INF] Application is shutting down...
2025-09-05 01:22:54.257 +03:00 [DBG] Hosting stopping
2025-09-05 01:22:54.290 +03:00 [DBG] Hosting stopped
2025-09-05 01:23:05.125 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 01:23:06.631 +03:00 [DBG] Hosting starting
2025-09-05 01:23:06.959 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 01:23:06.965 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 01:23:06.975 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 01:23:06.981 +03:00 [INF] Hosting environment: Development
2025-09-05 01:23:06.987 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 01:23:06.992 +03:00 [DBG] Hosting started
2025-09-05 01:23:07.190 +03:00 [DBG] Connection id "0HNFC06FO9HVQ" accepted.
2025-09-05 01:23:07.200 +03:00 [DBG] Connection id "0HNFC06FO9HVQ" started.
2025-09-05 01:23:07.202 +03:00 [DBG] Connection id "0HNFC06FO9HVR" accepted.
2025-09-05 01:23:07.213 +03:00 [DBG] Connection id "0HNFC06FO9HVR" started.
2025-09-05 01:23:08.455 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 01:23:08.498 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 01:23:09.015 +03:00 [DBG] Connection id "0HNFC06FO9HVQ" completed keep alive response.
2025-09-05 01:23:09.027 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 580.851ms
2025-09-05 01:23:11.021 +03:00 [DBG] Connection id "0HNFC06FO9HVR" received FIN.
2025-09-05 01:23:11.021 +03:00 [DBG] Connection id "0HNFC06FO9HVQ" received FIN.
2025-09-05 01:23:11.035 +03:00 [DBG] Connection id "0HNFC06FO9HVQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:23:11.035 +03:00 [DBG] Connection id "0HNFC06FO9HVR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:23:11.042 +03:00 [DBG] Connection id "0HNFC06FO9HVQ" disconnecting.
2025-09-05 01:23:11.045 +03:00 [DBG] Connection id "0HNFC06FO9HVR" disconnecting.
2025-09-05 01:23:11.054 +03:00 [DBG] Connection id "0HNFC06FO9HVQ" stopped.
2025-09-05 01:23:11.055 +03:00 [DBG] Connection id "0HNFC06FO9HVR" stopped.
2025-09-05 01:23:45.640 +03:00 [INF] Application is shutting down...
2025-09-05 01:23:45.642 +03:00 [DBG] Hosting stopping
2025-09-05 01:23:45.661 +03:00 [DBG] Hosting stopped
2025-09-05 01:24:17.839 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 01:24:18.881 +03:00 [DBG] Hosting starting
2025-09-05 01:24:19.237 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 01:24:19.246 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 01:24:19.263 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 01:24:19.270 +03:00 [INF] Hosting environment: Development
2025-09-05 01:24:19.274 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 01:24:19.323 +03:00 [DBG] Hosting started
2025-09-05 01:24:19.353 +03:00 [DBG] Connection id "0HNFC0758FB5C" accepted.
2025-09-05 01:24:19.363 +03:00 [DBG] Connection id "0HNFC0758FB5C" started.
2025-09-05 01:24:19.364 +03:00 [DBG] Connection id "0HNFC0758FB5D" accepted.
2025-09-05 01:24:19.374 +03:00 [DBG] Connection id "0HNFC0758FB5D" started.
2025-09-05 01:24:21.059 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 01:24:21.104 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 01:24:21.173 +03:00 [DBG] Connection id "0HNFC0758FB5D" received FIN.
2025-09-05 01:24:21.205 +03:00 [DBG] Connection id "0HNFC0758FB5D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:24:21.221 +03:00 [DBG] Connection id "0HNFC0758FB5D" disconnecting.
2025-09-05 01:24:21.238 +03:00 [DBG] Connection id "0HNFC0758FB5D" stopped.
2025-09-05 01:24:21.520 +03:00 [DBG] Connection id "0HNFC0758FB5C" completed keep alive response.
2025-09-05 01:24:21.533 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 480.5318ms
2025-09-05 01:24:31.173 +03:00 [DBG] Connection id "0HNFC0758FB5C" received FIN.
2025-09-05 01:24:31.176 +03:00 [DBG] Connection id "0HNFC0758FB5C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:24:31.180 +03:00 [DBG] Connection id "0HNFC0758FB5C" disconnecting.
2025-09-05 01:24:31.183 +03:00 [DBG] Connection id "0HNFC0758FB5C" stopped.
2025-09-05 01:26:50.174 +03:00 [INF] Application is shutting down...
2025-09-05 01:26:50.178 +03:00 [DBG] Hosting stopping
2025-09-05 01:26:50.212 +03:00 [DBG] Hosting stopped
2025-09-05 01:49:35.653 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 01:49:37.038 +03:00 [DBG] Hosting starting
2025-09-05 01:49:37.555 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 01:49:37.728 +03:00 [DBG] Connection id "0HNFC0L9OQ59N" accepted.
2025-09-05 01:49:37.790 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 01:49:37.908 +03:00 [DBG] Connection id "0HNFC0L9OQ59N" started.
2025-09-05 01:49:37.911 +03:00 [DBG] Connection id "0HNFC0L9OQ59O" accepted.
2025-09-05 01:49:37.966 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 01:49:38.090 +03:00 [DBG] Connection id "0HNFC0L9OQ59O" started.
2025-09-05 01:49:38.101 +03:00 [INF] Hosting environment: Development
2025-09-05 01:49:38.112 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 01:49:38.165 +03:00 [DBG] Hosting started
2025-09-05 01:49:38.411 +03:00 [DBG] Connection id "0HNFC0L9OQ59N" received FIN.
2025-09-05 01:49:38.411 +03:00 [DBG] Connection id "0HNFC0L9OQ59O" received FIN.
2025-09-05 01:49:38.451 +03:00 [DBG] Connection id "0HNFC0L9OQ59O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:49:38.451 +03:00 [DBG] Connection id "0HNFC0L9OQ59N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:49:38.472 +03:00 [DBG] Connection id "0HNFC0L9OQ59O" disconnecting.
2025-09-05 01:49:38.477 +03:00 [DBG] Connection id "0HNFC0L9OQ59N" disconnecting.
2025-09-05 01:49:38.492 +03:00 [DBG] Connection id "0HNFC0L9OQ59O" stopped.
2025-09-05 01:49:38.494 +03:00 [DBG] Connection id "0HNFC0L9OQ59N" stopped.
2025-09-05 01:49:39.426 +03:00 [DBG] Connection id "0HNFC0L9OQ59P" accepted.
2025-09-05 01:49:39.432 +03:00 [DBG] Connection id "0HNFC0L9OQ59P" started.
2025-09-05 01:49:39.601 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 01:49:39.679 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 01:49:40.482 +03:00 [DBG] Connection id "0HNFC0L9OQ59P" completed keep alive response.
2025-09-05 01:49:40.498 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 908.4858ms
2025-09-05 01:49:43.397 +03:00 [DBG] Connection id "0HNFC0L9OQ59P" received FIN.
2025-09-05 01:49:43.400 +03:00 [DBG] Connection id "0HNFC0L9OQ59P" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:49:43.404 +03:00 [DBG] Connection id "0HNFC0L9OQ59P" disconnecting.
2025-09-05 01:49:43.407 +03:00 [DBG] Connection id "0HNFC0L9OQ59P" stopped.
2025-09-05 01:49:49.874 +03:00 [DBG] Connection id "0HNFC0L9OQ59Q" accepted.
2025-09-05 01:49:49.878 +03:00 [DBG] Connection id "0HNFC0L9OQ59Q" started.
2025-09-05 01:49:49.884 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetAll?IsActive=true - null null
2025-09-05 01:49:49.904 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-05 01:49:49.949 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/GetAll'
2025-09-05 01:49:49.960 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.GetAllUrls (urlshortener)' with route pattern 'api/ShortenUrl/GetAll' is valid for the request path '/api/ShortenUrl/GetAll'
2025-09-05 01:49:49.969 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.GetAllUrls (urlshortener)'
2025-09-05 01:49:49.974 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.GetAllUrls (urlshortener)'
2025-09-05 01:49:50.034 +03:00 [INF] Route matched with {action = "GetAllUrls", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUrls(UrlShortener.Dtos.Request.GetAllUrl) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 01:49:50.045 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 01:49:50.050 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 01:49:50.057 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 01:49:50.062 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 01:49:50.066 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 01:49:50.075 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 01:49:50.283 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-05 01:49:50.332 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 01:49:50.374 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetAllUrl' ...
2025-09-05 01:49:50.389 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetAllUrl' using the name '' in request data ...
2025-09-05 01:49:50.409 +03:00 [DBG] Attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.SearchFor' of type 'System.String' using the name 'SearchFor' in request data ...
2025-09-05 01:49:50.422 +03:00 [DBG] Could not find a value in the request with name 'SearchFor' for binding property 'UrlShortener.Dtos.Request.GetAllUrl.SearchFor' of type 'System.String'.
2025-09-05 01:49:50.433 +03:00 [DBG] Done attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.SearchFor' of type 'System.String'.
2025-09-05 01:49:50.441 +03:00 [DBG] Attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.IsActive' of type 'System.Boolean' using the name 'IsActive' in request data ...
2025-09-05 01:49:50.448 +03:00 [DBG] Done attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.IsActive' of type 'System.Boolean'.
2025-09-05 01:49:50.453 +03:00 [DBG] Attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-09-05 01:49:50.461 +03:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'UrlShortener.Dtos.Request.GetAllUrl.PageNumber' of type 'System.Int32'.
2025-09-05 01:49:50.467 +03:00 [DBG] Done attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.PageNumber' of type 'System.Int32'.
2025-09-05 01:49:50.471 +03:00 [DBG] Attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-09-05 01:49:50.476 +03:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'UrlShortener.Dtos.Request.GetAllUrl.PageSize' of type 'System.Int32'.
2025-09-05 01:49:50.483 +03:00 [DBG] Done attempting to bind property 'UrlShortener.Dtos.Request.GetAllUrl.PageSize' of type 'System.Int32'.
2025-09-05 01:49:50.489 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetAllUrl'.
2025-09-05 01:49:50.493 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.GetAllUrl'.
2025-09-05 01:49:50.499 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetAllUrl' ...
2025-09-05 01:49:50.529 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.GetAllUrl'.
2025-09-05 01:49:52.503 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 01:49:52.530 +03:00 [INF] Fetching all Urls
2025-09-05 01:49:52.724 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .Where(x => x.IsActive == __request_IsActive_0)
    .Skip(__p_1)
    .Take(__p_2)'
2025-09-05 01:49:53.457 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-09-05 01:49:53.482 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-09-05 01:49:54.590 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Url>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
        SELECT u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
        FROM Urls AS u
        WHERE u.IsActive == @__request_IsActive_0
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
        SELECT u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
        FROM Urls AS u
        WHERE u.IsActive == @__request_IsActive_0
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Url entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Url instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Url);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Url)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                        {
                            return 
                            {
                                Url instance;
                                instance = new Url();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                instance.<No>k__BackingField = dataReader.GetInt32(3);
                                instance.<OriginalUrl>k__BackingField = dataReader.GetString(4);
                                instance.<ShortenedUrl>k__BackingField = dataReader.GetString(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Url)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: UrlShortener.Data.ApplicationDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-05 01:49:54.978 +03:00 [DBG] Creating DbConnection.
2025-09-05 01:49:55.051 +03:00 [DBG] Created DbConnection. (66ms).
2025-09-05 01:49:55.065 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:49:55.442 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:49:55.461 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:49:55.496 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (20ms).
2025-09-05 01:49:55.528 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (68ms).
2025-09-05 01:49:55.561 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_IsActive_0='?' (DbType = Boolean), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[IsActive] = @__request_IsActive_0
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-05 01:49:55.681 +03:00 [INF] Executed DbCommand (137ms) [Parameters=[@__request_IsActive_0='?' (DbType = Boolean), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[IsActive] = @__request_IsActive_0
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-05 01:49:55.802 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Url' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:49:55.923 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:49:55.946 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 246ms reading results.
2025-09-05 01:49:55.959 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:49:55.979 +03:00 [DBG] Closed connection to database 'db' on server '.' (19ms).
2025-09-05 01:49:55.996 +03:00 [DBG] Compiling query expression: 
'DbSet<UrlClick>()
    .Where(x => __urlsIds_0.Contains(x.Id))'
2025-09-05 01:49:56.150 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<UrlClick>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
        SELECT u.Id, u.ClickCount, u.LastAccessedAt
        FROM UrlClicks AS u
        WHERE u.Id IN (
            SELECT u0.value
            FROM OPENJSON(@__urlsIds_0) WITH (value uniqueidentifier '') AS u0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UrlClick.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UrlClick.ClickCount (int) Required, 1], [Property: UrlClick.LastAccessedAt (DateTime?), 2] }
        SELECT u.Id, u.ClickCount, u.LastAccessedAt
        FROM UrlClicks AS u
        WHERE u.Id IN (
            SELECT u0.value
            FROM OPENJSON(@__urlsIds_0) WITH (value uniqueidentifier '') AS u0), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        UrlClick entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            UrlClick instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(UrlClick);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: UrlClick.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (UrlClick)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]: 
                        {
                            return 
                            {
                                UrlClick instance;
                                instance = new UrlClick();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<ClickCount>k__BackingField = dataReader.GetInt32(1);
                                instance.<LastAccessedAt>k__BackingField = dataReader.IsDBNull(2) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: UrlClick | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.UrlClick")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(UrlClick)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: UrlShortener.Data.ApplicationDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-05 01:49:56.187 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 01:49:56.198 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 01:49:56.206 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 01:49:56.211 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-05 01:49:56.236 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (30ms).
2025-09-05 01:49:56.243 +03:00 [DBG] Executing DbCommand [Parameters=[@__urlsIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__urlsIds_0) WITH ([value] uniqueidentifier '$') AS [u0]
)
2025-09-05 01:49:56.276 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__urlsIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[ClickCount], [u].[LastAccessedAt]
FROM [UrlClicks] AS [u]
WHERE [u].[Id] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__urlsIds_0) WITH ([value] uniqueidentifier '$') AS [u0]
)
2025-09-05 01:49:56.306 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UrlClick' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 01:49:56.355 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 01:49:56.361 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 72ms reading results.
2025-09-05 01:49:56.369 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 01:49:56.376 +03:00 [DBG] Closed connection to database 'db' on server '.' (7ms).
2025-09-05 01:49:56.407 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 01:49:56.437 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 01:49:56.444 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 01:49:56.449 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 01:49:56.456 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 01:49:56.467 +03:00 [INF] Executing OkObjectResult, writing value of type 'UrlShortener.Dtos.Response.Response`1[[System.Collections.Generic.List`1[[UrlShortener.Dtos.Response.ShortenUrlDto, urlshortener, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-05 01:49:56.882 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.GetAllUrls (urlshortener) in 6790.287ms
2025-09-05 01:49:56.907 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.GetAllUrls (urlshortener)'
2025-09-05 01:49:56.983 +03:00 [DBG] Connection id "0HNFC0L9OQ59Q" completed keep alive response.
2025-09-05 01:49:57.047 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 01:49:57.131 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 01:49:57.206 +03:00 [DBG] Disposed connection to database '' on server '' (84ms).
2025-09-05 01:49:57.248 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/api/ShortenUrl/GetAll?IsActive=true - 200 null application/json; charset=utf-8 7362.5608ms
2025-09-05 01:49:58.436 +03:00 [DBG] Connection id "0HNFC0L9OQ59Q" received FIN.
2025-09-05 01:49:58.443 +03:00 [DBG] Connection id "0HNFC0L9OQ59Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 01:49:58.453 +03:00 [DBG] Connection id "0HNFC0L9OQ59Q" disconnecting.
2025-09-05 01:49:58.462 +03:00 [DBG] Connection id "0HNFC0L9OQ59Q" stopped.
2025-09-05 01:50:42.315 +03:00 [INF] Application is shutting down...
2025-09-05 01:50:42.317 +03:00 [DBG] Hosting stopping
2025-09-05 01:50:42.335 +03:00 [DBG] Hosting stopped
2025-09-05 14:01:23.035 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-05 14:01:25.434 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 14:01:25.888 +03:00 [DBG] Creating DbConnection.
2025-09-05 14:01:25.994 +03:00 [DBG] Created DbConnection. (100ms).
2025-09-05 14:01:26.011 +03:00 [DBG] Migrating using database 'db' on server '.'.
2025-09-05 14:01:26.034 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 14:01:26.547 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 14:01:26.579 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-05 14:01:26.609 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (26ms).
2025-09-05 14:01:26.626 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (58ms).
2025-09-05 14:01:26.662 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-05 14:01:26.789 +03:00 [INF] Executed DbCommand (130ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-05 14:01:26.802 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 14:01:26.833 +03:00 [DBG] Closed connection to database 'db' on server '.' (19ms).
2025-09-05 14:01:26.841 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 14:01:26.848 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 14:01:26.857 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-05 14:01:26.869 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-05 14:01:26.875 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2025-09-05 14:01:26.883 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (14ms).
2025-09-05 14:01:26.890 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-05 14:01:26.963 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-05 14:01:27.321 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-05 14:01:27.343 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-05 14:01:27.349 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-05 14:01:27.353 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-09-05 14:01:27.360 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2025-09-05 14:01:27.365 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-05 14:01:27.385 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-05 14:01:27.395 +03:00 [DBG] Committing transaction.
2025-09-05 14:01:27.405 +03:00 [DBG] Committed transaction.
2025-09-05 14:01:27.410 +03:00 [DBG] Disposing transaction.
2025-09-05 14:01:27.419 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-05 14:01:27.422 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-05 14:01:27.429 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-05 14:01:27.433 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-09-05 14:01:27.437 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (8ms).
2025-09-05 14:01:27.442 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-05 14:01:27.451 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-05 14:01:27.458 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-05 14:01:27.463 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2025-09-05 14:01:27.466 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2025-09-05 14:01:27.471 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-05 14:01:27.479 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-05 14:01:27.493 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 14:01:27.497 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-05 14:01:27.502 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-09-05 14:01:27.509 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-05 14:01:27.551 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-05 14:01:27.570 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 14:01:27.580 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 13ms reading results.
2025-09-05 14:01:27.607 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-05 14:01:27.612 +03:00 [DBG] Committing transaction.
2025-09-05 14:01:27.620 +03:00 [DBG] Committed transaction.
2025-09-05 14:01:27.624 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-05 14:01:27.631 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (7ms).
2025-09-05 14:01:27.638 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (14ms).
2025-09-05 14:01:27.645 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-05 14:01:27.666 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-05 14:01:27.676 +03:00 [DBG] Disposing transaction.
2025-09-05 14:01:27.680 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 14:01:27.688 +03:00 [DBG] Closed connection to database 'db' on server '.' (8ms).
2025-09-05 14:01:27.700 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 14:01:27.710 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 14:01:27.719 +03:00 [DBG] Disposed connection to database '' on server '' (8ms).
2025-09-05 14:50:37.458 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-05 14:50:40.825 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 14:50:41.268 +03:00 [DBG] Creating DbConnection.
2025-09-05 14:50:42.580 +03:00 [DBG] Created DbConnection. (1295ms).
2025-09-05 14:50:42.627 +03:00 [DBG] Migrating using database 'db' on server '.'.
2025-09-05 14:50:42.711 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 14:50:45.468 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 14:50:45.501 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-05 14:50:45.552 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (34ms).
2025-09-05 14:50:45.566 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (79ms).
2025-09-05 14:50:45.629 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-05 14:50:45.770 +03:00 [INF] Executed DbCommand (155ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-05 14:50:45.788 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 14:50:45.854 +03:00 [DBG] Closed connection to database 'db' on server '.' (49ms).
2025-09-05 14:50:45.865 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 14:50:45.874 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 14:50:45.888 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-05 14:50:45.904 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-05 14:50:45.909 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (6ms).
2025-09-05 14:50:45.915 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (11ms).
2025-09-05 14:50:45.925 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-05 14:50:46.006 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-05 14:50:46.261 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-05 14:50:46.289 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-05 14:50:46.298 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-05 14:50:46.303 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2025-09-05 14:50:46.314 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (16ms).
2025-09-05 14:50:46.321 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-05 14:50:46.339 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-05 14:50:46.355 +03:00 [DBG] Committing transaction.
2025-09-05 14:50:46.369 +03:00 [DBG] Committed transaction.
2025-09-05 14:50:46.379 +03:00 [DBG] Disposing transaction.
2025-09-05 14:50:46.396 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-05 14:50:46.402 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-05 14:50:46.411 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-05 14:50:46.415 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2025-09-05 14:50:46.421 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2025-09-05 14:50:46.426 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-05 14:50:46.464 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-05 14:50:46.474 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-05 14:50:46.479 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2025-09-05 14:50:46.485 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (11ms).
2025-09-05 14:50:46.495 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-05 14:50:46.506 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-05 14:50:46.525 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 14:50:46.529 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-05 14:50:46.534 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-09-05 14:50:46.542 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-05 14:50:46.564 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-05 14:50:46.580 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 14:50:46.588 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 11ms reading results.
2025-09-05 14:50:46.608 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-05 14:50:46.614 +03:00 [DBG] Committing transaction.
2025-09-05 14:50:46.620 +03:00 [DBG] Committed transaction.
2025-09-05 14:50:46.623 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-05 14:50:46.628 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2025-09-05 14:50:46.633 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
2025-09-05 14:50:46.639 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-05 14:50:46.659 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-05 14:50:46.668 +03:00 [DBG] Disposing transaction.
2025-09-05 14:50:46.673 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 14:50:46.681 +03:00 [DBG] Closed connection to database 'db' on server '.' (7ms).
2025-09-05 14:50:46.701 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 14:50:46.719 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 14:50:46.734 +03:00 [DBG] Disposed connection to database '' on server '' (13ms).
2025-09-05 14:50:49.617 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 14:50:50.223 +03:00 [DBG] Hosting starting
2025-09-05 14:50:50.516 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 14:50:50.521 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 14:50:50.527 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 14:50:50.533 +03:00 [INF] Hosting environment: Development
2025-09-05 14:50:50.540 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 14:50:50.591 +03:00 [DBG] Hosting started
2025-09-05 14:50:53.530 +03:00 [DBG] Connection id "0HNFCE9RRB6MV" accepted.
2025-09-05 14:50:53.538 +03:00 [DBG] Connection id "0HNFCE9RRB6MV" started.
2025-09-05 14:50:53.887 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 14:50:53.919 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 14:50:54.612 +03:00 [DBG] Connection id "0HNFCE9RRB6MV" completed keep alive response.
2025-09-05 14:50:54.623 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 745.363ms
2025-09-05 14:50:57.737 +03:00 [DBG] Connection id "0HNFCE9RRB6MV" received FIN.
2025-09-05 14:50:57.936 +03:00 [DBG] Connection id "0HNFCE9RRB6MV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 14:50:58.223 +03:00 [DBG] Connection id "0HNFCE9RRB6MV" disconnecting.
2025-09-05 14:50:58.239 +03:00 [DBG] Connection id "0HNFCE9RRB6MV" stopped.
2025-09-05 14:51:35.864 +03:00 [DBG] Connection id "0HNFCE9RRB6N0" accepted.
2025-09-05 14:51:35.869 +03:00 [DBG] Connection id "0HNFCE9RRB6N0" started.
2025-09-05 14:51:35.884 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/ShortenUrl - application/json 29
2025-09-05 14:51:35.908 +03:00 [DBG] The request has an origin header: 'http://localhost:5544'.
2025-09-05 14:51:35.912 +03:00 [INF] CORS policy execution successful.
2025-09-05 14:51:35.920 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-05 14:51:35.986 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/ShortenUrl'
2025-09-05 14:51:36.001 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)' with route pattern 'api/ShortenUrl/ShortenUrl' is valid for the request path '/api/ShortenUrl/ShortenUrl'
2025-09-05 14:51:36.009 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 14:51:36.022 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 14:51:36.140 +03:00 [INF] Route matched with {action = "ShortenUrl", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShortenUrl(UrlShortener.Dtos.Request.CreateShortenUrlRequest, FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 14:51:36.154 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 14:51:36.166 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 14:51:36.179 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 14:51:36.201 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 14:51:36.211 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 14:51:36.227 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 14:51:36.240 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 14:51:36.265 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' ...
2025-09-05 14:51:36.281 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' using the name '' in request data ...
2025-09-05 14:51:36.299 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-05 14:51:36.471 +03:00 [DBG] Connection id "0HNFCE9RRB6N0", Request id "0HNFCE9RRB6N0:00000001": started reading request body.
2025-09-05 14:51:36.475 +03:00 [DBG] Connection id "0HNFCE9RRB6N0", Request id "0HNFCE9RRB6N0:00000001": done reading request body.
2025-09-05 14:51:36.509 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'
2025-09-05 14:51:36.513 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 14:51:36.517 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 14:51:36.521 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' ...
2025-09-05 14:51:36.536 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 14:51:36.544 +03:00 [DBG] Attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]' ...
2025-09-05 14:51:36.955 +03:00 [DBG] Done attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]'.
2025-09-05 14:51:36.965 +03:00 [DBG] Attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]' ...
2025-09-05 14:51:36.987 +03:00 [DBG] Done attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]'.
2025-09-05 14:51:37.741 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 14:51:38.070 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .FirstOrDefault(x => x.OriginalUrl == __originalUrl_0)'
2025-09-05 14:51:39.266 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Url>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Url>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.OriginalUrl == @__originalUrl_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.OriginalUrl == @__originalUrl_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: [LIFTABLE Constant: ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<bool>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object> } | Resolver: namelessParameter{0} => new ReaderColumn[]
        { 
            new ReaderColumn<Guid>(
                False, 
                null, 
                namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindProperty("Id"), 
                (dataReader, indexMap) => dataReader.GetGuid(0)
            ), 
            new ReaderColumn<DateTime>(
                False, 
                null, 
                namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindProperty("CreatedAt"), 
                (dataReader, indexMap) => dataReader.GetDateTime(1)
            ), 
            new ReaderColumn<bool>(
                False, 
                null, 
                namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindProperty("IsActive"), 
                (dataReader, indexMap) => dataReader.GetBoolean(2)
            ), 
            new ReaderColumn<int>(
                False, 
                null, 
                namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindProperty("No"), 
                (dataReader, indexMap) => dataReader.GetInt32(3)
            ), 
            new ReaderColumn<object>(
                False, 
                null, 
                namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindProperty("OriginalUrl"), 
                (dataReader, indexMap) => (object)dataReader.GetString(4)
            ), 
            new ReaderColumn<object>(
                False, 
                null, 
                namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindProperty("ShortenedUrl"), 
                (dataReader, indexMap) => (object)dataReader.GetString(5)
            ) 
        }], 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Url entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Url instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Url);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Url)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                            {
                                return 
                                {
                                    Url instance;
                                    instance = new Url();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                    instance.<No>k__BackingField = dataReader.GetInt32(3);
                                    instance.<OriginalUrl>k__BackingField = (string)dataReader.GetFieldValue<object>(4);
                                    instance.<ShortenedUrl>k__BackingField = (string)dataReader.GetFieldValue<object>(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Url)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 14:51:39.445 +03:00 [DBG] Creating DbConnection.
2025-09-05 14:51:39.451 +03:00 [DBG] Created DbConnection. (6ms).
2025-09-05 14:51:39.462 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 14:51:39.487 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 14:51:39.494 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 14:51:39.499 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-05 14:51:39.516 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2025-09-05 14:51:39.528 +03:00 [DBG] Executing DbCommand [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[OriginalUrl] = @__originalUrl_0
2025-09-05 14:51:39.853 +03:00 [INF] Executed DbCommand (331ms) [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[OriginalUrl] = @__originalUrl_0
2025-09-05 14:51:39.938 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 14:51:39.944 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 25ms reading results.
2025-09-05 14:51:39.954 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 14:51:39.961 +03:00 [DBG] Closed connection to database 'db' on server '.' (6ms).
2025-09-05 14:51:39.994 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 14:51:40.007 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 14:51:40.010 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 14:51:40.014 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 14:51:40.020 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 14:51:40.027 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[FluentValidation.Results.ValidationFailure, FluentValidation, Version=12.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-05 14:51:40.136 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener) in 3904.9514ms
2025-09-05 14:51:40.142 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 14:51:40.155 +03:00 [DBG] Connection id "0HNFCE9RRB6N0" completed keep alive response.
2025-09-05 14:51:40.171 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 14:51:40.196 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 14:51:40.211 +03:00 [DBG] Disposed connection to database '' on server '' (15ms).
2025-09-05 14:51:40.229 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/ShortenUrl - 400 null application/json; charset=utf-8 4346.2106ms
2025-09-05 14:51:42.765 +03:00 [DBG] Connection id "0HNFCE9RRB6N0" received FIN.
2025-09-05 14:51:42.767 +03:00 [DBG] Connection id "0HNFCE9RRB6N0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 14:51:42.770 +03:00 [DBG] Connection id "0HNFCE9RRB6N0" disconnecting.
2025-09-05 14:51:42.779 +03:00 [DBG] Connection id "0HNFCE9RRB6N0" stopped.
2025-09-05 14:51:57.309 +03:00 [DBG] Connection id "0HNFCE9RRB6N1" accepted.
2025-09-05 14:51:57.422 +03:00 [DBG] Connection id "0HNFCE9RRB6N1" started.
2025-09-05 14:51:57.508 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/ShortenUrl - application/json 187
2025-09-05 14:51:57.546 +03:00 [DBG] The request has an origin header: 'http://localhost:5544'.
2025-09-05 14:51:57.555 +03:00 [INF] CORS policy execution successful.
2025-09-05 14:51:57.598 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/ShortenUrl'
2025-09-05 14:51:57.656 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)' with route pattern 'api/ShortenUrl/ShortenUrl' is valid for the request path '/api/ShortenUrl/ShortenUrl'
2025-09-05 14:51:57.720 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 14:51:57.728 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 14:51:57.732 +03:00 [INF] Route matched with {action = "ShortenUrl", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShortenUrl(UrlShortener.Dtos.Request.CreateShortenUrlRequest, FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 14:51:57.776 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 14:51:57.795 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 14:51:57.904 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 14:51:58.488 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 14:51:58.665 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 14:51:58.681 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 14:51:58.700 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 14:51:58.731 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' ...
2025-09-05 14:51:58.741 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' using the name '' in request data ...
2025-09-05 14:51:58.760 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-05 14:51:58.772 +03:00 [DBG] Connection id "0HNFCE9RRB6N1", Request id "0HNFCE9RRB6N1:00000001": started reading request body.
2025-09-05 14:51:58.778 +03:00 [DBG] Connection id "0HNFCE9RRB6N1", Request id "0HNFCE9RRB6N1:00000001": done reading request body.
2025-09-05 14:51:58.789 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'
2025-09-05 14:51:58.796 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 14:51:58.801 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 14:51:58.810 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' ...
2025-09-05 14:51:58.821 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 14:51:58.831 +03:00 [DBG] Attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]' ...
2025-09-05 14:51:58.839 +03:00 [DBG] Done attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]'.
2025-09-05 14:51:58.847 +03:00 [DBG] Attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]' ...
2025-09-05 14:51:58.854 +03:00 [DBG] Done attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]'.
2025-09-05 14:51:59.135 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 14:51:59.208 +03:00 [DBG] Creating DbConnection.
2025-09-05 14:51:59.213 +03:00 [DBG] Created DbConnection. (4ms).
2025-09-05 14:51:59.218 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 14:51:59.225 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 14:51:59.238 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 14:51:59.243 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-05 14:51:59.250 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-05 14:51:59.259 +03:00 [DBG] Executing DbCommand [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[OriginalUrl] = @__originalUrl_0
2025-09-05 14:51:59.279 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[OriginalUrl] = @__originalUrl_0
2025-09-05 14:51:59.293 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 14:51:59.304 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 11ms reading results.
2025-09-05 14:51:59.312 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 14:51:59.320 +03:00 [DBG] Closed connection to database 'db' on server '.' (8ms).
2025-09-05 14:51:59.347 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 14:51:59.353 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 14:51:59.361 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-05 14:51:59.368 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-05 14:51:59.376 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .Any(u => u.OriginalUrl == __originalUrl_0)'
2025-09-05 14:51:59.421 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Urls AS u
                WHERE u.OriginalUrl == @__originalUrl_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Urls AS u
                WHERE u.OriginalUrl == @__originalUrl_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: [LIFTABLE Constant: ReaderColumn[] { ReaderColumn<bool> } | Resolver: namelessParameter{0} => new ReaderColumn[]{ new ReaderColumn<bool>(
            True, 
            null, 
            default(IPropertyBase), 
            (dataReader, indexMap) => dataReader.GetBoolean(0)
        ) }], 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 14:51:59.481 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'UrlShortener.Data.ApplicationDbContext'.
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-09-05 14:51:59.499 +03:00 [ERR] Error occurred while shortening URL
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at UrlShortener.Service.Service.ShortenService.ShortenUrlAsync(String originalUrl) in E:\TDS\urlshortener\Service\Service\ShortenService.cs:line 27
2025-09-05 14:51:59.684 +03:00 [DBG] Disposing transaction.
2025-09-05 14:51:59.687 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 14:51:59.698 +03:00 [DBG] Closed connection to database 'db' on server '.' (10ms).
2025-09-05 14:51:59.707 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 14:51:59.720 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 14:51:59.726 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 14:51:59.731 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 14:51:59.737 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 14:51:59.749 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'UrlShortener.Dtos.Response.Response`1[[UrlShortener.Dtos.Response.ShortenUrlDto, urlshortener, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-05 14:51:59.861 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener) in 1179.427ms
2025-09-05 14:51:59.867 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 14:51:59.874 +03:00 [DBG] Connection id "0HNFCE9RRB6N1" completed keep alive response.
2025-09-05 14:51:59.885 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 14:51:59.889 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 14:51:59.903 +03:00 [DBG] Disposed connection to database '' on server '' (14ms).
2025-09-05 14:51:59.909 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/ShortenUrl - 400 null application/json; charset=utf-8 2400.7016ms
2025-09-05 14:52:02.810 +03:00 [DBG] Connection id "0HNFCE9RRB6N1" received FIN.
2025-09-05 14:52:02.814 +03:00 [DBG] Connection id "0HNFCE9RRB6N1" disconnecting.
2025-09-05 14:52:02.818 +03:00 [DBG] Connection id "0HNFCE9RRB6N1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 14:52:02.825 +03:00 [DBG] Connection id "0HNFCE9RRB6N1" stopped.
2025-09-05 14:52:39.995 +03:00 [DBG] Connection id "0HNFCE9RRB6N2" accepted.
2025-09-05 14:52:40.019 +03:00 [DBG] Connection id "0HNFCE9RRB6N2" started.
2025-09-05 14:52:40.040 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/ShortenUrl - application/json 187
2025-09-05 14:52:40.066 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/ShortenUrl'
2025-09-05 14:52:40.076 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)' with route pattern 'api/ShortenUrl/ShortenUrl' is valid for the request path '/api/ShortenUrl/ShortenUrl'
2025-09-05 14:52:40.084 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 14:52:40.088 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 14:52:40.095 +03:00 [INF] Route matched with {action = "ShortenUrl", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShortenUrl(UrlShortener.Dtos.Request.CreateShortenUrlRequest, FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 14:52:40.104 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 14:52:40.119 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 14:52:40.146 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 14:52:40.165 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 14:52:40.177 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 14:52:40.193 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 14:52:40.210 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 14:52:40.245 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' ...
2025-09-05 14:52:40.256 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' using the name '' in request data ...
2025-09-05 14:52:40.277 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-05 14:52:40.285 +03:00 [DBG] Connection id "0HNFCE9RRB6N2", Request id "0HNFCE9RRB6N2:00000001": started reading request body.
2025-09-05 14:52:40.295 +03:00 [DBG] Connection id "0HNFCE9RRB6N2", Request id "0HNFCE9RRB6N2:00000001": done reading request body.
2025-09-05 14:52:40.302 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'
2025-09-05 14:52:40.308 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 14:52:40.315 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 14:52:40.324 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' ...
2025-09-05 14:52:40.334 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 14:52:40.346 +03:00 [DBG] Attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]' ...
2025-09-05 14:52:40.362 +03:00 [DBG] Done attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]'.
2025-09-05 14:52:40.373 +03:00 [DBG] Attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]' ...
2025-09-05 14:52:40.384 +03:00 [DBG] Done attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]'.
2025-09-05 14:52:40.393 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 14:52:40.424 +03:00 [DBG] Creating DbConnection.
2025-09-05 14:52:40.428 +03:00 [DBG] Created DbConnection. (4ms).
2025-09-05 14:52:40.432 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 14:52:40.442 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 14:52:40.464 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 14:52:40.475 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2025-09-05 14:52:40.497 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (33ms).
2025-09-05 14:52:40.505 +03:00 [DBG] Executing DbCommand [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[OriginalUrl] = @__originalUrl_0
2025-09-05 14:52:40.551 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[OriginalUrl] = @__originalUrl_0
2025-09-05 14:52:40.569 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 14:52:40.575 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 6ms reading results.
2025-09-05 14:52:40.585 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 14:52:40.594 +03:00 [DBG] Closed connection to database 'db' on server '.' (9ms).
2025-09-05 14:52:40.605 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 14:52:40.616 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 14:52:40.622 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-05 14:52:40.640 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-05 14:52:40.649 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'UrlShortener.Data.ApplicationDbContext'.
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-09-05 14:52:40.688 +03:00 [ERR] Error occurred while shortening URL
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at UrlShortener.Service.Service.ShortenService.ShortenUrlAsync(String originalUrl) in E:\TDS\urlshortener\Service\Service\ShortenService.cs:line 27
2025-09-05 14:52:40.716 +03:00 [DBG] Disposing transaction.
2025-09-05 14:52:40.719 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 14:52:40.729 +03:00 [DBG] Closed connection to database 'db' on server '.' (9ms).
2025-09-05 14:52:40.741 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 14:52:40.760 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 14:52:40.764 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 14:52:40.781 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 14:52:40.809 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 14:52:40.854 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'UrlShortener.Dtos.Response.Response`1[[UrlShortener.Dtos.Response.ShortenUrlDto, urlshortener, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-05 14:52:40.869 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener) in 675.4914ms
2025-09-05 14:52:40.885 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 14:52:40.896 +03:00 [DBG] Connection id "0HNFCE9RRB6N2" completed keep alive response.
2025-09-05 14:52:41.019 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 14:52:41.127 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 14:52:41.150 +03:00 [DBG] Disposed connection to database '' on server '' (23ms).
2025-09-05 14:52:41.159 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/ShortenUrl - 400 null application/json; charset=utf-8 1118.5975ms
2025-09-05 14:53:06.364 +03:00 [INF] Application is shutting down...
2025-09-05 14:53:06.366 +03:00 [DBG] Hosting stopping
2025-09-05 14:53:06.381 +03:00 [DBG] Connection id "0HNFCE9RRB6N2" disconnecting.
2025-09-05 14:53:06.386 +03:00 [DBG] Connection id "0HNFCE9RRB6N2" stopped.
2025-09-05 14:53:06.391 +03:00 [DBG] Connection id "0HNFCE9RRB6N2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 14:53:06.410 +03:00 [DBG] Hosting stopped
2025-09-05 14:56:20.229 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-05 14:56:21.381 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 14:56:21.756 +03:00 [DBG] Creating DbConnection.
2025-09-05 14:56:21.847 +03:00 [DBG] Created DbConnection. (85ms).
2025-09-05 14:56:21.864 +03:00 [DBG] Migrating using database 'db' on server '.'.
2025-09-05 14:56:21.880 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 14:56:22.326 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 14:56:22.348 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-05 14:56:22.373 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (21ms).
2025-09-05 14:56:22.386 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (45ms).
2025-09-05 14:56:22.414 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-05 14:56:22.491 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-05 14:56:22.504 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 14:56:22.533 +03:00 [DBG] Closed connection to database 'db' on server '.' (19ms).
2025-09-05 14:56:22.539 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 14:56:22.545 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 14:56:22.551 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-05 14:56:22.560 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-05 14:56:22.563 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-09-05 14:56:22.569 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2025-09-05 14:56:22.575 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-05 14:56:22.629 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-05 14:56:22.787 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-05 14:56:22.803 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-05 14:56:22.809 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-05 14:56:22.813 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2025-09-05 14:56:22.821 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2025-09-05 14:56:22.826 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-05 14:56:22.835 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-05 14:56:22.846 +03:00 [DBG] Committing transaction.
2025-09-05 14:56:22.859 +03:00 [DBG] Committed transaction.
2025-09-05 14:56:22.867 +03:00 [DBG] Disposing transaction.
2025-09-05 14:56:22.875 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-05 14:56:22.881 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-05 14:56:22.889 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-05 14:56:22.892 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-09-05 14:56:22.898 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (8ms).
2025-09-05 14:56:22.903 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-05 14:56:22.910 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-05 14:56:22.921 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-05 14:56:22.926 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2025-09-05 14:56:22.932 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (11ms).
2025-09-05 14:56:22.937 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-05 14:56:22.945 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-05 14:56:22.956 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 14:56:22.959 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-05 14:56:22.964 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-09-05 14:56:22.970 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-05 14:56:22.982 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-05 14:56:22.997 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 14:56:23.003 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 10ms reading results.
2025-09-05 14:56:23.021 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-05 14:56:23.024 +03:00 [DBG] Committing transaction.
2025-09-05 14:56:23.028 +03:00 [DBG] Committed transaction.
2025-09-05 14:56:23.031 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-05 14:56:23.035 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-09-05 14:56:23.039 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2025-09-05 14:56:23.044 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-05 14:56:23.054 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-05 14:56:23.060 +03:00 [DBG] Disposing transaction.
2025-09-05 14:56:23.064 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 14:56:23.069 +03:00 [DBG] Closed connection to database 'db' on server '.' (5ms).
2025-09-05 14:56:23.079 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 14:56:23.087 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 14:56:23.094 +03:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-09-05 14:56:23.396 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 14:56:23.740 +03:00 [DBG] Hosting starting
2025-09-05 14:56:24.221 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 14:56:24.285 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 14:56:24.311 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 14:56:24.334 +03:00 [INF] Hosting environment: Development
2025-09-05 14:56:24.346 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 14:56:24.368 +03:00 [DBG] Hosting started
2025-09-05 14:56:24.485 +03:00 [DBG] Connection id "0HNFCECUFHUET" accepted.
2025-09-05 14:56:24.494 +03:00 [DBG] Connection id "0HNFCECUFHUEU" accepted.
2025-09-05 14:56:24.496 +03:00 [DBG] Connection id "0HNFCECUFHUET" started.
2025-09-05 14:56:24.501 +03:00 [DBG] Connection id "0HNFCECUFHUEU" started.
2025-09-05 14:56:26.289 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 14:56:26.313 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 14:56:26.667 +03:00 [DBG] Connection id "0HNFCECUFHUEU" completed keep alive response.
2025-09-05 14:56:26.675 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 394.4014ms
2025-09-05 14:56:28.169 +03:00 [DBG] Connection id "0HNFCECUFHUET" received FIN.
2025-09-05 14:56:28.169 +03:00 [DBG] Connection id "0HNFCECUFHUEU" received FIN.
2025-09-05 14:56:28.176 +03:00 [DBG] Connection id "0HNFCECUFHUET" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 14:56:28.177 +03:00 [DBG] Connection id "0HNFCECUFHUEU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 14:56:28.182 +03:00 [DBG] Connection id "0HNFCECUFHUET" disconnecting.
2025-09-05 14:56:28.184 +03:00 [DBG] Connection id "0HNFCECUFHUEU" disconnecting.
2025-09-05 14:56:28.191 +03:00 [DBG] Connection id "0HNFCECUFHUET" stopped.
2025-09-05 14:56:28.193 +03:00 [DBG] Connection id "0HNFCECUFHUEU" stopped.
2025-09-05 14:58:02.289 +03:00 [INF] Application is shutting down...
2025-09-05 14:58:02.290 +03:00 [DBG] Hosting stopping
2025-09-05 14:58:02.300 +03:00 [DBG] Hosting stopped
2025-09-05 14:59:29.923 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-05 14:59:30.780 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 14:59:31.019 +03:00 [DBG] Creating DbConnection.
2025-09-05 14:59:31.085 +03:00 [DBG] Created DbConnection. (61ms).
2025-09-05 14:59:31.101 +03:00 [DBG] Migrating using database 'db' on server '.'.
2025-09-05 14:59:31.115 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 14:59:31.416 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 14:59:31.436 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-05 14:59:31.453 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (18ms).
2025-09-05 14:59:31.465 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (35ms).
2025-09-05 14:59:31.485 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-05 14:59:31.557 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-05 14:59:31.570 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 14:59:31.598 +03:00 [DBG] Closed connection to database 'db' on server '.' (15ms).
2025-09-05 14:59:31.606 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 14:59:31.615 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 14:59:31.624 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-05 14:59:31.635 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-05 14:59:31.639 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-09-05 14:59:31.646 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
2025-09-05 14:59:31.653 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-05 14:59:31.707 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-05 14:59:31.875 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-05 14:59:31.891 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-05 14:59:31.896 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-05 14:59:31.899 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-09-05 14:59:31.905 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (8ms).
2025-09-05 14:59:31.908 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-05 14:59:31.917 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-05 14:59:31.928 +03:00 [DBG] Committing transaction.
2025-09-05 14:59:31.939 +03:00 [DBG] Committed transaction.
2025-09-05 14:59:31.948 +03:00 [DBG] Disposing transaction.
2025-09-05 14:59:31.958 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-05 14:59:31.965 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-05 14:59:31.973 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-09-05 14:59:31.979 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2025-09-05 14:59:31.986 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2025-09-05 14:59:31.993 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-05 14:59:32.004 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-05 14:59:32.015 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-05 14:59:32.020 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2025-09-05 14:59:32.026 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (11ms).
2025-09-05 14:59:32.031 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-05 14:59:32.040 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-05 14:59:32.052 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 14:59:32.056 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-05 14:59:32.062 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-09-05 14:59:32.069 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-05 14:59:32.083 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-05 14:59:32.097 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 14:59:32.106 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 11ms reading results.
2025-09-05 14:59:32.125 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-05 14:59:32.129 +03:00 [DBG] Committing transaction.
2025-09-05 14:59:32.133 +03:00 [DBG] Committed transaction.
2025-09-05 14:59:32.137 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-09-05 14:59:32.141 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-09-05 14:59:32.146 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2025-09-05 14:59:32.151 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-05 14:59:32.162 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-05 14:59:32.170 +03:00 [DBG] Disposing transaction.
2025-09-05 14:59:32.172 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 14:59:32.179 +03:00 [DBG] Closed connection to database 'db' on server '.' (6ms).
2025-09-05 14:59:32.188 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 14:59:32.198 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 14:59:32.206 +03:00 [DBG] Disposed connection to database '' on server '' (8ms).
2025-09-05 14:59:32.539 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-05 14:59:32.963 +03:00 [DBG] Hosting starting
2025-09-05 14:59:33.314 +03:00 [INF] Now listening on: http://localhost:5544
2025-09-05 14:59:33.320 +03:00 [DBG] Loaded hosting startup assembly urlshortener
2025-09-05 14:59:33.327 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-05 14:59:33.333 +03:00 [INF] Hosting environment: Development
2025-09-05 14:59:33.338 +03:00 [INF] Content root path: E:\TDS\urlshortener
2025-09-05 14:59:33.348 +03:00 [DBG] Hosting started
2025-09-05 14:59:33.603 +03:00 [DBG] Connection id "0HNFCEEMR4MK8" accepted.
2025-09-05 14:59:33.610 +03:00 [DBG] Connection id "0HNFCEEMR4MK8" started.
2025-09-05 14:59:33.610 +03:00 [DBG] Connection id "0HNFCEEMR4MK9" accepted.
2025-09-05 14:59:33.620 +03:00 [DBG] Connection id "0HNFCEEMR4MK9" started.
2025-09-05 14:59:35.251 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - null null
2025-09-05 14:59:35.271 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-05 14:59:35.562 +03:00 [DBG] Connection id "0HNFCEEMR4MK8" completed keep alive response.
2025-09-05 14:59:35.569 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5544/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 331.1793ms
2025-09-05 14:59:38.500 +03:00 [DBG] Connection id "0HNFCEEMR4MK9" received FIN.
2025-09-05 14:59:38.500 +03:00 [DBG] Connection id "0HNFCEEMR4MK8" received FIN.
2025-09-05 14:59:38.507 +03:00 [DBG] Connection id "0HNFCEEMR4MK9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 14:59:38.509 +03:00 [DBG] Connection id "0HNFCEEMR4MK8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 14:59:38.512 +03:00 [DBG] Connection id "0HNFCEEMR4MK9" disconnecting.
2025-09-05 14:59:38.514 +03:00 [DBG] Connection id "0HNFCEEMR4MK8" disconnecting.
2025-09-05 14:59:38.516 +03:00 [DBG] Connection id "0HNFCEEMR4MK9" stopped.
2025-09-05 14:59:38.517 +03:00 [DBG] Connection id "0HNFCEEMR4MK8" stopped.
2025-09-05 14:59:40.689 +03:00 [DBG] Connection id "0HNFCEEMR4MKA" accepted.
2025-09-05 14:59:40.694 +03:00 [DBG] Connection id "0HNFCEEMR4MKA" started.
2025-09-05 14:59:40.701 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/ShortenUrl - application/json 187
2025-09-05 14:59:40.727 +03:00 [DBG] The request has an origin header: 'http://localhost:5544'.
2025-09-05 14:59:40.734 +03:00 [INF] CORS policy execution successful.
2025-09-05 14:59:40.741 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-05 14:59:40.784 +03:00 [DBG] 1 candidate(s) found for the request path '/api/ShortenUrl/ShortenUrl'
2025-09-05 14:59:40.797 +03:00 [DBG] Endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)' with route pattern 'api/ShortenUrl/ShortenUrl' is valid for the request path '/api/ShortenUrl/ShortenUrl'
2025-09-05 14:59:40.806 +03:00 [DBG] Request matched endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 14:59:40.814 +03:00 [INF] Executing endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 14:59:40.895 +03:00 [INF] Route matched with {action = "ShortenUrl", controller = "ShortenUrl"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShortenUrl(UrlShortener.Dtos.Request.CreateShortenUrlRequest, FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]) on controller UrlShortener.Controller.ShortenUrlController (urlshortener).
2025-09-05 14:59:40.906 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-05 14:59:40.913 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-05 14:59:40.921 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-05 14:59:40.929 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-05 14:59:40.936 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-05 14:59:40.948 +03:00 [DBG] Executing controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 14:59:40.982 +03:00 [DBG] Executed controller factory for controller UrlShortener.Controller.ShortenUrlController (urlshortener)
2025-09-05 14:59:41.003 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' ...
2025-09-05 14:59:41.023 +03:00 [DBG] Attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' using the name '' in request data ...
2025-09-05 14:59:41.034 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-05 14:59:41.173 +03:00 [DBG] Connection id "0HNFCEEMR4MKA", Request id "0HNFCEEMR4MKA:00000001": started reading request body.
2025-09-05 14:59:41.177 +03:00 [DBG] Connection id "0HNFCEEMR4MKA", Request id "0HNFCEEMR4MKA:00000001": done reading request body.
2025-09-05 14:59:41.207 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'
2025-09-05 14:59:41.211 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 14:59:41.215 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 14:59:41.218 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest' ...
2025-09-05 14:59:41.233 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'UrlShortener.Dtos.Request.CreateShortenUrlRequest'.
2025-09-05 14:59:41.240 +03:00 [DBG] Attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]' ...
2025-09-05 14:59:41.283 +03:00 [DBG] Done attempting to bind parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]'.
2025-09-05 14:59:41.420 +03:00 [DBG] Attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]' ...
2025-09-05 14:59:41.465 +03:00 [DBG] Done attempting to validate the bound parameter 'validator' of type 'FluentValidation.IValidator`1[UrlShortener.Dtos.Request.CreateShortenUrlRequest]'.
2025-09-05 14:59:41.634 +03:00 [DBG] Entity Framework Core 9.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer 
2025-09-05 14:59:41.736 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .FirstOrDefault(x => x.OriginalUrl == __originalUrl_0)'
2025-09-05 14:59:42.174 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Url>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Url>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.OriginalUrl == @__originalUrl_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Url.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Url.CreatedAt (DateTime) Required, 1], [Property: Url.IsActive (bool) Required, 2], [Property: Url.No (int) Required Index, 3], [Property: Url.OriginalUrl (string) Required, 4], [Property: Url.ShortenedUrl (string) Required, 5] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.IsActive, u.No, u.OriginalUrl, u.ShortenedUrl
            FROM Urls AS u
            WHERE u.OriginalUrl == @__originalUrl_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Url entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Url instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Url);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Url.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("UrlShortener.Model.Url").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Url)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]: 
                            {
                                return 
                                {
                                    Url instance;
                                    instance = new Url();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(2);
                                    instance.<No>k__BackingField = dataReader.GetInt32(3);
                                    instance.<OriginalUrl>k__BackingField = dataReader.GetString(4);
                                    instance.<ShortenedUrl>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Url | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("UrlShortener.Model.Url")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Url)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 14:59:42.276 +03:00 [DBG] Creating DbConnection.
2025-09-05 14:59:42.280 +03:00 [DBG] Created DbConnection. (3ms).
2025-09-05 14:59:42.289 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 14:59:42.302 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 14:59:42.318 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 14:59:42.326 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-09-05 14:59:42.344 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (25ms).
2025-09-05 14:59:42.365 +03:00 [DBG] Executing DbCommand [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[OriginalUrl] = @__originalUrl_0
2025-09-05 14:59:42.484 +03:00 [INF] Executed DbCommand (128ms) [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActive], [u].[No], [u].[OriginalUrl], [u].[ShortenedUrl]
FROM [Urls] AS [u]
WHERE [u].[OriginalUrl] = @__originalUrl_0
2025-09-05 14:59:42.526 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 14:59:42.532 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 38ms reading results.
2025-09-05 14:59:42.545 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 14:59:42.551 +03:00 [DBG] Closed connection to database 'db' on server '.' (6ms).
2025-09-05 14:59:42.590 +03:00 [DBG] Opening connection to database 'db' on server '.'.
2025-09-05 14:59:42.595 +03:00 [DBG] Opened connection to database 'db' on server '.'.
2025-09-05 14:59:42.600 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-05 14:59:42.606 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-05 14:59:42.615 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .Any(u => u.OriginalUrl == __originalUrl_0)'
2025-09-05 14:59:42.642 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Urls AS u
                WHERE u.OriginalUrl == @__originalUrl_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Urls AS u
                WHERE u.OriginalUrl == @__originalUrl_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 14:59:42.687 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 14:59:42.692 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-05 14:59:42.697 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-09-05 14:59:42.703 +03:00 [DBG] Executing DbCommand [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Urls] AS [u]
        WHERE [u].[OriginalUrl] = @__originalUrl_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-05 14:59:42.727 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__originalUrl_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Urls] AS [u]
        WHERE [u].[OriginalUrl] = @__originalUrl_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-05 14:59:42.741 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 14:59:42.747 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 11ms reading results.
2025-09-05 14:59:42.764 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .Select(u => u.ShortenedUrl)'
2025-09-05 14:59:42.786 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT u.ShortenedUrl
        FROM Urls AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT u.ShortenedUrl
        FROM Urls AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.GetString(0);
        return value1;
    }, 
    contextType: UrlShortener.Data.ApplicationDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-05 14:59:42.794 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 14:59:42.797 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-05 14:59:42.802 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-09-05 14:59:42.807 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ShortenedUrl]
FROM [Urls] AS [u]
2025-09-05 14:59:42.818 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ShortenedUrl]
FROM [Urls] AS [u]
2025-09-05 14:59:42.833 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 14:59:42.839 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 12ms reading results.
2025-09-05 14:59:42.846 +03:00 [INF] Start Proccess of Shortening URL
2025-09-05 14:59:42.849 +03:00 [INF] https://learn.microsoft.com/en-us/sql/linux/quickstart-install-connect-docker?view=sql-server-linux-ver16&preserve-view=true&tabs=cli&pivots=cs1-bash#pullandrun2022
2025-09-05 14:59:42.855 +03:00 [DBG] Compiling query expression: 
'DbSet<Url>()
    .Count()'
2025-09-05 14:59:42.937 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Urls AS u) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Urls AS u, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: UrlShortener.Data.ApplicationDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-05 14:59:42.975 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 14:59:42.982 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-09-05 14:59:42.991 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-09-05 14:59:42.996 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Urls] AS [u]
2025-09-05 14:59:43.012 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Urls] AS [u]
2025-09-05 14:59:43.027 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 14:59:43.035 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 15ms reading results.
2025-09-05 14:59:43.229 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Url' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 14:59:43.265 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UrlClick' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 14:59:43.278 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-09-05 14:59:43.286 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-09-05 14:59:43.330 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-09-05 14:59:43.422 +03:00 [DBG] Executing 2 update commands as a batch.
2025-09-05 14:59:43.431 +03:00 [DBG] Creating transaction savepoint.
2025-09-05 14:59:43.451 +03:00 [DBG] Created transaction savepoint.
2025-09-05 14:59:43.460 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-05 14:59:43.465 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-05 14:59:43.473 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-09-05 14:59:43.478 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UrlClicks] ([Id], [ClickCount], [LastAccessedAt])
VALUES (@p0, @p1, @p2);
INSERT INTO [Urls] ([Id], [CreatedAt], [IsActive], [No], [OriginalUrl], [ShortenedUrl])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
2025-09-05 14:59:43.502 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UrlClicks] ([Id], [ClickCount], [LastAccessedAt])
VALUES (@p0, @p1, @p2);
INSERT INTO [Urls] ([Id], [CreatedAt], [IsActive], [No], [OriginalUrl], [ShortenedUrl])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
2025-09-05 14:59:43.521 +03:00 [DBG] Closing data reader to 'db' on server '.'.
2025-09-05 14:59:43.530 +03:00 [DBG] A data reader for 'db' on server '.' is being disposed after spending 16ms reading results.
2025-09-05 14:59:43.560 +03:00 [DBG] An entity of type 'Url' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 14:59:43.571 +03:00 [DBG] An entity of type 'UrlClick' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-05 14:59:43.583 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2025-09-05 14:59:43.593 +03:00 [DBG] Committing transaction.
2025-09-05 14:59:43.602 +03:00 [DBG] Committed transaction.
2025-09-05 14:59:43.611 +03:00 [DBG] Closing connection to database 'db' on server '.'.
2025-09-05 14:59:43.619 +03:00 [DBG] Closed connection to database 'db' on server '.' (7ms).
2025-09-05 14:59:43.627 +03:00 [DBG] Disposing transaction.
2025-09-05 14:59:43.637 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-05 14:59:43.651 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-05 14:59:43.655 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-05 14:59:43.659 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-05 14:59:43.666 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-05 14:59:43.675 +03:00 [INF] Executing OkObjectResult, writing value of type 'UrlShortener.Dtos.Response.Response`1[[UrlShortener.Dtos.Response.ShortenUrlDto, urlshortener, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-05 14:59:43.768 +03:00 [INF] Executed action UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener) in 2820.8318ms
2025-09-05 14:59:43.775 +03:00 [INF] Executed endpoint 'UrlShortener.Controller.ShortenUrlController.ShortenUrl (urlshortener)'
2025-09-05 14:59:43.781 +03:00 [DBG] Connection id "0HNFCEEMR4MKA" completed keep alive response.
2025-09-05 14:59:43.786 +03:00 [DBG] 'ApplicationDbContext' disposed.
2025-09-05 14:59:43.795 +03:00 [DBG] Disposing connection to database 'db' on server '.'.
2025-09-05 14:59:43.801 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-09-05 14:59:43.809 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5544/api/ShortenUrl/ShortenUrl - 200 null application/json; charset=utf-8 3107.7696ms
2025-09-05 14:59:48.516 +03:00 [DBG] Connection id "0HNFCEEMR4MKA" received FIN.
2025-09-05 14:59:48.521 +03:00 [DBG] Connection id "0HNFCEEMR4MKA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-05 14:59:48.523 +03:00 [DBG] Connection id "0HNFCEEMR4MKA" disconnecting.
2025-09-05 14:59:48.544 +03:00 [DBG] Connection id "0HNFCEEMR4MKA" stopped.
2025-09-05 14:59:53.000 +03:00 [INF] Application is shutting down...
2025-09-05 14:59:53.002 +03:00 [DBG] Hosting stopping
2025-09-05 14:59:53.014 +03:00 [DBG] Hosting stopped
